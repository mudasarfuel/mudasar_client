{"version":3,"file":"static/js/883.e7c6a7fd.chunk.js","mappings":"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","sources":["Components/alert/Alert.js","Components/card/PlanCard.js","Components/dropdown/Dropdown.js","Components/navbar/Navbar.js","redux/alertSlice/setAlert.js","Components/sidebar/SidebarSource.js","Components/sidebar/Sidebar.js","Components/widgets/Widget.js","Pages/Home/Dashboard.js","Components/datatable/DataTable.js","Components/Header/Header.js","Components/datatable/dataTableSources.js","Pages/Admin/Subscription/Subscription.js","Components/form/Form.js","Components/sources/formSources.js","Pages/Admin/Subscription/Features.js","Pages/Admin/Subscription/NewFeature.js","Pages/Admin/Subscription/Packages/Packages.js","Components/form/FileInput.js","Components/form/ColorPicker.js","Components/form/PasswordInput.js","Components/form/CellInput.js","Components/form/GridForm.js","backend/uploadFile.js","Components/card/Card.js","Pages/Admin/Subscription/Packages/NewPackage.js","Components/dialogue/Dialogue.js","Components/search/FilterForm.js","Components/search/Search.js","Pages/Admin/Accounts/Tenants/Tenants.js","Components/form/AvatarInput.js","Pages/Admin/Accounts/Tenants/NewTenant.js","Components/datatable/userTableSources.js","Components/dialogue/FormDialogue.js","Components/sources/customersFormSources.js","Components/form/DetailsPaper.js","Components/dialogue/DetailsDialogue.js","Components/sources/usersFormSources.js","Pages/Admin/Accounts/Users/Users.js","Components/sources/metersFormSources.js","Pages/DataEntry/Meters/Meters.js","Pages/DataEntry/Meters/SalesClose.js","Components/datatable/customerTableSources.js","Pages/Customer/Customer.js","Components/sources/suppliersFormSources.js","Components/datatable/supplierTableSources.js","Pages/Supplier/Supplier.js","Components/datatable/employeeTableSources.js","Components/sources/employeesFormSources.js","Pages/Employee/Employee.js","Components/datatable/machineTableSources.js","Components/sources/machinesFormSources.js","Pages/Machines/Machines.js","Components/sources/purchasesFormSources.js","Pages/Stock/Stock.js","Components/datatable/stocksTableSources.js","Components/datatable/productTableSources.js","Components/sources/productsFormSources.js","Pages/Products/ProductDetails.js","Pages/Products/Products.js","Components/sources/pricesFormSources.js","Components/datatable/priceTableSources.js","Pages/Prices/Prices.js","Components/date/date.js","Pages/Sales/Sales.js","Components/datatable/salesTableSources.js","Pages/Sales/SaleDetails.js","Components/sources/salesFormSources.js","Pages/Sales/TotalSale.js","Components/datatable/purchaseTableSources.js","Pages/Purchase/Purchase.js","Pages/Readings/Readings.js","Components/datatable/readingTableSources.js","Components/datatable/customerPaymentTableSources.js","Components/sources/customerPaymentsFormSources.js","Pages/Customer/CustomerPayment.js","Components/sources/supplierPaymentsFormSources.js","Components/datatable/supplierPaymentTableSources.js","Pages/Supplier/SupplierPayment.js","Components/datatable/employeeSalaryTableSources.js","Components/sources/employeeSalaryFormSources.js","Pages/Employee/EmployeeSalary.js","Components/datatable/employeeAdvanceTableSources.js","Components/sources/employeeAdvanceFormSources.js","Components/sources/AdvanceInstallmentFormSources.js","Pages/Employee/AdvanceDetails.js","Pages/Employee/EmployeeAdvance.js","Components/datatable/expenseTableSources.js","Components/sources/expensesFormSources.js","Pages/Expense/Expenses.js","Components/datatable/wastageTableSources.js","Components/sources/wastagesFormSources.js","Pages/Stock/StockWastage.js","Components/datatable/dipTableSources.js","Components/sources/dipsFormSources.js","Pages/Stock/StockDip.js","Components/datatable/reportsTableSources.js","Pages/Reports/Report.js","Components/datatable/salesClosingsTableSources.js","Pages/DataEntry/TotalSaleClosings.js","routes/authapp/AuthApp.js"],"sourcesContent":["import React from \"react\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n//Funtion to render MUI Alert\r\n\r\nconst Alert = () => {\r\n  //Initialize useSelector to get Alert \r\n  const alerts = useSelector(state => state.alerts)\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const AlertStack = ({ id, msg, type }) => {\r\n    useEffect(() => {\r\n      enqueueSnackbar(\r\n        msg,\r\n        {\r\n          variant: type,\r\n          preventDuplicate: true,\r\n          autoHideDuration: 6000,\r\n          anchorOrigin: {\r\n            horizontal: \"right\",\r\n            vertical: \"bottom\",\r\n          },\r\n        },\r\n        [id]\r\n      );\r\n    });\r\n  };\r\n  return (\r\n  \r\n    \r\n    //Checking if there is any alert then render it\r\n  alerts.length > 0 &&\r\n  alerts.map((alert, key) => (\r\n     \r\n      <div className=\"alert\" key={key}>\r\n        <AlertStack id={alert.id} msg={alert.msg} type={alert.type} />\r\n      </div>\r\n    ))\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React from \"react\";\r\nimport \"./card.scss\";\r\n\r\nimport { CheckCircle, DoneAll, RemoveDone, ShoppingCart } from \"@mui/icons-material\";\r\nimport { Button, Typography } from \"@mui/material\";\r\nimport Avatar from 'react-avatar'\r\n\r\nfunction capitalize(string) {\r\n  return string && string?.charAt(0)?.toUpperCase() + string?.slice(1);\r\n}\r\nconst Card = ({id, selected, handleRegister,  setSelected, state, setState, title, color, image, price, feature }) => {\r\n  //Handle on click \r\n  const handleOnClick = () => {\r\n    setSelected({checked: true, id: id})\r\n    setState({...state, packageId: id})\r\n  }\r\n  \r\n  return (\r\n    <div className=\"card\" style={{background: (selected !== undefined && selected.checked) && (selected !== undefined && selected.id === id) && \"#303134\"}} onClick={window.location.href === \"http://localhost:3000/signup\" ? handleOnClick : undefined }>\r\n     <CheckCircle sx={{fontSize: \"40px\", color: \"green\", visibility: selected?.checked && selected?.id === id ? \"visible\":\"hidden\"}}/>\r\n      {/* Header section of Subscription card  */}\r\n     \r\n      <div className=\"top\">\r\n        <Avatar src={image} size=\"80\" round={true} />\r\n        <h4 className=\"title\">{capitalize(title)}</h4>\r\n      </div>\r\n      {/* Middle section of Subscription card  */}\r\n      <div className=\"middle\">\r\n        <h5 className={`price ${title}`}>Rs. {price}</h5>\r\n\r\n        <div className=\"items\">\r\n       \r\n          {Array.isArray(feature) && feature.map((element) => {\r\n            return (\r\n              <div key={element.id} className=\"item\" style={{display: \"flex\", justifyContent: \"start\"}}>\r\n                {element.groupStatus ? (\r\n                  <DoneAll className=\"icon positive\" />\r\n                ) : (\r\n                  <RemoveDone className=\"icon negative\" />\r\n                )}\r\n                <Typography>{capitalize(element.groupDescription  ? element.groupDescription.substr(0, 25)+\"...\" : \"sales module\")}</Typography>\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          <div className=\"item\">\r\n            <Button\r\n              variant=\"contained\"\r\n              \r\n              className={`button ${title} `}\r\n              style={{\r\n                width: \"100%\",\r\n                backgroundColor: color\r\n              }}\r\n              onClick={()=>handleRegister()}\r\n            >\r\n              <ShoppingCart fontSize=\"small\" />\r\n              Buy\r\n            </Button>\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import {\r\n  AccountCircle,\r\n  Dashboard,\r\n  PowerSettingsNew,\r\n} from \"@mui/icons-material\";\r\nimport { Box, Menu, MenuItem, Typography } from \"@mui/material\";\r\nimport React from \"react\";\r\n\r\n//Dropdown Menu Items Array\r\nconst settingItems = [\r\n  {\r\n    id: 1,\r\n    title: \"Dashboard\",\r\n    icon: <Dashboard style={{ fontSize: \"20px\" }} />,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Profile\",\r\n    icon: <AccountCircle style={{ fontSize: \"20px\" }} />,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"Logout\",\r\n    icon: <PowerSettingsNew style={{ fontSize: \"20px\" }} />,\r\n  },\r\n];\r\n\r\nexport default function Dropdown({ anchorElUser, setAnchorElUser }) {\r\n  const handleCloseUserMenu = () => {\r\n    setAnchorElUser(null);\r\n  };\r\n  return (\r\n    <Box\r\n      sx={{ flexGrow: 1, display: { xs: \"flex\", md: \"none\" } }}\r\n      className=\"dropdown\"\r\n    >\r\n      <Menu\r\n        sx={{ mt: \"30px\" }}\r\n        id=\"menu-appbar\"\r\n        anchorEl={anchorElUser}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        keepMounted\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        className=\"dropdownMenu\"\r\n        style={{ marginLeft: \"-20px\" }}\r\n        open={Boolean(anchorElUser)}\r\n        onClose={handleCloseUserMenu}\r\n      >\r\n        {settingItems.map((setting) => (\r\n          <MenuItem key={setting.id} onClick={handleCloseUserMenu}>\r\n            <div\r\n              style={{\r\n                marginRight: \"10px\",\r\n                color: \"gray\",\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              {setting.icon}\r\n              <Typography\r\n                textAlign=\"center\"\r\n                style={{ fontSize: \"14px\", marginLeft: \"10px\" }}\r\n              >\r\n                {setting.title}\r\n              </Typography>\r\n            </div>\r\n          </MenuItem>\r\n        ))}\r\n      </Menu>\r\n    </Box>\r\n  );\r\n}\r\n","import { useContext, useState } from \"react\";\r\nimport \"./navbar.scss\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport {\r\n  ChatBubbleOutlineOutlined,\r\n  DarkModeOutlined,\r\n  FullscreenExitOutlined,\r\n  LightMode,\r\n  ListOutlined,\r\n  Menu,\r\n  NotificationsNoneOutlined,\r\n} from \"@mui/icons-material\";\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport profilepic from \"../../img/profile_user.jpg\";\r\nimport { Avatar, Button, IconButton, Typography } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport ModeContext from \"../../context/mode/ModeContext\";\r\nimport Dropdown from \"../dropdown/Dropdown\";\r\n\r\nconst Navbar = () => {\r\n  //Initializing the use Context to get dispatch method to change dark or light mode\r\n  const { darkMode, dispatch } = useContext(ModeContext);\r\n  // Call Auth Context & Extract isAuthenticated\r\n  const { isAuthenticated, user } = useContext(AuthContext);\r\n\r\n  //Initializing the Location Hook\r\n  const location = useLocation();\r\n\r\n  const [anchorElUser, setAnchorElUser] = useState(null);\r\n\r\n  const handleOpenUserMenu = (event) => {\r\n    setAnchorElUser(event.currentTarget);\r\n  };\r\n  return (\r\n    <div className=\"navbar\">\r\n      <div className=\"wrapper\">\r\n        <div className=\"top\">\r\n          <IconButton className=\"sidebarBtnOpen\">\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n            <Typography className=\"brand\">Mudasar Fuel</Typography>\r\n          </Link>\r\n        </div>\r\n\r\n        {isAuthenticated ? (\r\n          <>\r\n            <div className=\"items\">\r\n\r\n              <div className=\"item\">\r\n                <Typography>Hello, {user.name}</Typography>\r\n                {/* <div\r\n                  className=\"toggle\"\r\n                  onClick={() => dispatch({ type: \"TOGGLE\" })}\r\n                >\r\n                  {darkMode ? (\r\n                    <LightMode className=\"icon\" />\r\n                  ) : (\r\n                    <DarkModeOutlined className=\"icon\" />\r\n                  )}\r\n                </div> */}\r\n              </div>\r\n              <IconButton\r\n                className=\"item\"\r\n                onClick={handleOpenUserMenu}\r\n                sx={{ p: 0 }}\r\n              >\r\n                <Avatar alt=\"Remy Sharp\" src={ user.pic\r\n                ? `http://localhost:5000/public/users/images/${user.pic}`\r\n                : \"./img/avatarfile.png\"} />\r\n              </IconButton>\r\n            \r\n            <Dropdown\r\n              className=\"profileMenu\"\r\n              anchorElUser={anchorElUser}\r\n              setAnchorElUser={setAnchorElUser}\r\n              BackdropProps={{ invisible: false }}\r\n            />\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"items\">\r\n            {location.pathname === \"/\" ? (\r\n              <div className=\"item\">\r\n                {/* <Link to=\"/signup\" style={{ textDecoration: \"none\" }}>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    style={{ textTransform: \"none\" }}\r\n                    size=\"small\"\r\n                    className=\"navlinkBtn\"\r\n                  >\r\n                    Signup\r\n                  </Button>\r\n                </Link> */}\r\n              </div>\r\n            ) : (\r\n              <div className=\"item\">\r\n                <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    style={{ textTransform: \"none\" }}\r\n                    size=\"small\"\r\n                    className=\"navlinkBtn\"\r\n                  >\r\n                    Login\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import {store} from \"../store\"\r\nimport { addAlert } from \"./alertSlice\"\r\nconst setAlert = (msg, type) => {\r\n    store.dispatch(addAlert({msg: msg, type: type}))\r\n}\r\n\r\nexport default setAlert","import React, { useContext } from \"react\";\r\nimport {\r\n  DashboardCustomize,\r\n  Group,\r\n  Payment,\r\n  Person,\r\n  ShoppingCart,\r\n  LocalShipping,\r\n  Store,\r\n  BarChart,\r\n  Warehouse,\r\n  ShoppingBagOutlined,\r\n  AccountBalance,\r\n  Settings,\r\n  PowerSettingsNew,\r\n  AccountCircle,\r\n  BadgeSharp,\r\n  //   ManageAccounts,\r\n  AdminPanelSettings,\r\n  AccountBalanceWallet,\r\n  People,\r\n  Business,\r\n  Security,\r\n  SwitchAccount,\r\n  Subscriptions,\r\n  CardMembership,\r\n  LocalOffer,\r\n  Tune,\r\n  AttachMoney,\r\n  AssignmentInd,\r\n  LocalAtm,\r\n  Speed,\r\n  TrendingUp,\r\n  Opacity,\r\n  Assessment,\r\n  FormatColorReset,\r\n  HourglassBottom,\r\n  Receipt,\r\n  LocalGasStation,\r\n  Widgets,\r\n  PriceChange,\r\n  AssessmentOutlined\r\n} from \"@mui/icons-material\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const useLocalHook = () => {\r\n   //Initialize useNavigate hook to redirect home screen\r\n   const navigate = useNavigate()\r\n\r\n    \r\n\r\n  //Call Auth Context & Extract Logout\r\n  const { logout, user } = useContext(AuthContext);\r\n\r\n\r\n  //Creating logout Function \r\n  const LogoutFunc = () => {\r\n     logout()\r\n     //Redirect to home screen\r\n    navigate(\"/\")\r\n  }\r\n   //Web Admin\r\n  const WebAdminPanel = [\r\n    //Dashboard list Item\r\n    {\r\n      id: 0,\r\n      label: \"Dashboard\",\r\n      icon: <DashboardCustomize className=\"icon\" />,\r\n      url: \"/\",\r\n      category: \"MAIN\",\r\n    },\r\n   \r\n    // {\r\n    //   id: 1,\r\n    //   label: \"Accounts\",\r\n    //   icon: <Group className=\"icon\" />,\r\n    //   setList: \"TOGGLE_CUSTOMER\",\r\n    //   nested: [\r\n    //     {\r\n    //       itemId: 1,\r\n    //       label: \"Tenants\",\r\n    //       icon: <Business className=\"icon\" />,\r\n    //       url: \"/tenants\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 2,\r\n    //       label: \"Users\",\r\n    //       icon: <People className=\"icon\" />,\r\n    //       url: \"/admin/users\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 3,\r\n    //       label: \"Permissions\",\r\n    //       icon: <Security className=\"icon\" />,\r\n    //       url: \"/tenats/order\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 4,\r\n    //       label: \"Roles\",\r\n    //       icon: <SwitchAccount className=\"icon\" />,\r\n    //       url: \"/roles\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 5,\r\n    //       label: \"Payment\",\r\n    //       icon: <Payment className=\"icon\" />,\r\n    //       url: \"/tenants/payment\",\r\n    //     },\r\n    //   ],\r\n    // },\r\n    {\r\n      id: 1,\r\n      label: \"Customer\",\r\n      icon: <SwitchAccount className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      category: \"ACCOUNTS\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Customers\",\r\n          icon: <SwitchAccount className=\"icon\" />,\r\n          url: \"/customers\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Customer Balance\",\r\n          icon: <AttachMoney className=\"icon\" />,\r\n          url: \"/customerpayments\",\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Supplier\",\r\n      icon: <People className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      nested: [\r\n        \r\n        {\r\n          itemId: 1,\r\n          label: \"Suppliers\",\r\n          icon: <People className=\"icon\" />,\r\n          url: \"/suppliers\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Suppliers Balance\",\r\n          icon: <Payment className=\"icon\" />,\r\n          url: \"/supplierpayments\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Employee\",\r\n      icon: <SwitchAccount className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Employee\",\r\n          icon: <AssignmentInd className=\"icon\" />,\r\n          url: \"/employees\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Employee Salary\",\r\n          icon: <LocalAtm className=\"icon\" />,\r\n          url: \"/employeesalary\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Employee Advances\",\r\n          icon: <Payment className=\"icon\" />,\r\n          url: \"/employeeadvances\",\r\n        }\r\n      ],\r\n    },\r\n    (user.access === \"web_admin\" || user.access === \"app_admin\") && {\r\n      id: 4,\r\n      label: \"Cashier Record\",\r\n      icon: <AccountCircle className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Sales Closing\",\r\n          icon: <AssignmentInd className=\"icon\" />,\r\n          url: \"/closing\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Total Closings\",\r\n          icon: <LocalAtm className=\"icon\" />,\r\n          url: \"/allclosings\",\r\n        },\r\n      ],\r\n    },\r\n    // //Bank Accounts List Item\r\n    // {\r\n    //   id: 3,\r\n    //   label: \"Subscription\",\r\n    //   icon: <CardMembership className=\"icon\" />,\r\n    //   setList: \"TOGGLE_BANK\",\r\n    //   category: \"DATA ENTRY\",\r\n    //   nested: [\r\n    //     {\r\n    //       itemId: 1,\r\n    //       label: \"Subscriptions\",\r\n    //       icon: <Subscriptions className=\"icon\" />,\r\n    //       url: \"/subscriptions\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 2,\r\n    //       label: \"Packages\",\r\n    //       icon: <LocalOffer className=\"icon\" />,\r\n    //       url: \"/packages\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 3,\r\n    //       label: \"Features\",\r\n    //       icon: <Tune className=\"icon\" />,\r\n    //       url: \"/features\",\r\n    //     },\r\n    //   ],\r\n    // },\r\n    {\r\n      id: 5,\r\n      label: \"Sale Closing\",\r\n      icon: <Speed className=\"icon\" />,\r\n      category: \"DATA ENTRY\",\r\n      url: \"/closing\"\r\n    },\r\n    {\r\n      id: 6,\r\n      label: \"POS\",\r\n      icon: <TrendingUp className=\"icon\" />,\r\n      url: \"/pos\"\r\n    },\r\n   \r\n    {\r\n      id: 7,\r\n      label: \"Sales\",\r\n      icon: <Assessment className=\"icon\" />,\r\n      url: \"/sales\"\r\n    },\r\n    // //Settings List Item\r\n    {\r\n      id: 8,\r\n      label: \"Settings\",\r\n      icon: <Settings className=\"icon\" />,\r\n      category: \"SYSTEM\",\r\n      setList: \"TOGGLE_SETTINGS\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Machines\",\r\n          icon: <LocalGasStation className=\"icon\" />,\r\n          url: \"/machines\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Readings\",\r\n          icon: <Speed className=\"icon\" />,\r\n          url: \"/readings\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Products\",\r\n          icon: <Widgets className=\"icon\" />,\r\n          url: \"/products\",\r\n        },\r\n        {\r\n          itemId: 4,\r\n          label: \"Price Management\",\r\n          icon: <PriceChange className=\"icon\" />,\r\n          url: \"/prices\",\r\n        },\r\n        {\r\n          itemId: 5,\r\n          label: \"Users\",\r\n          icon: <People className=\"icon\" />,\r\n          url: \"/admin/users\",\r\n        },\r\n        // {\r\n        //   itemId: 3,\r\n        //   label: \"Permissions\",\r\n        //   icon: <Security className=\"icon\" />,\r\n        //   url: \"/tenats/order\",\r\n        // },\r\n        // { \r\n        //   itemId: 4,\r\n        //   label: \"Roles\",\r\n        //   icon: <SwitchAccount className=\"icon\" />,\r\n        //   url: \"/roles\",\r\n        // },\r\n       \r\n      ],\r\n    },\r\n    {\r\n      id: 9,\r\n      label: \"Reports\",\r\n      icon: <Receipt className=\"icon\" />,\r\n      setList: \"TOGGLE_STOCK\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Get Report\",\r\n          icon: <Receipt className=\"icon\" />,\r\n          url: \"/reports\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Expenses\",\r\n          icon: <Assessment className=\"icon\" />,\r\n          url: \"/expenses\",\r\n        },\r\n        // {\r\n        //   itemId: 3,\r\n        //   label: \"Stock Wastage\",\r\n        //   icon: <FormatColorReset className=\"icon\" />,\r\n        //   url: \"/features\",\r\n        // },\r\n        // {\r\n        //   itemId: 4,\r\n        //   label: \"Stock Testing\",\r\n        //   icon: <HourglassBottom className=\"icon\" />,\r\n        //   url: \"/features\",\r\n        // },\r\n      ],\r\n    },\r\n    {\r\n      id: 10,\r\n      label: \"Stock Management\",\r\n      icon: <Opacity className=\"icon\" />,\r\n      setList: \"TOGGLE_STOCK\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Stock List\",\r\n          icon: <Opacity className=\"icon\" />,\r\n          url: \"/stocks\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Purchase Stock\",\r\n          icon: <Store className=\"icon\" />,\r\n          url: \"/purchases\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Dip Records\",\r\n          icon: <Assessment className=\"icon\" />,\r\n          url: \"/dips\",\r\n        },\r\n        {\r\n          itemId: 4,\r\n          label: \"Stock Wastage\",\r\n          icon: <FormatColorReset className=\"icon\" />,\r\n          url: \"/wastages\",\r\n        },\r\n        // {\r\n        //   itemId: 5,\r\n        //   label: \"Stock Testing\",\r\n        //   icon: <HourglassBottom className=\"icon\" />,\r\n        //   url: \"/features\",\r\n        // },\r\n      ],\r\n    },\r\n    // //User List Item\r\n    {\r\n      id: 11,\r\n      label: \"Profile\",\r\n      icon: <AccountCircle className=\"icon\" />,\r\n      url: \"/sales\",\r\n      category: \"USER\",\r\n    },\r\n    //Logout List Item\r\n    {\r\n      id: 12,\r\n      label: \"Logout\",\r\n      icon: <PowerSettingsNew className=\"icon\" />,\r\n      clickFunc: LogoutFunc,\r\n    },\r\n  ];\r\n\r\n  const AdminPanel = [\r\n    //Dashboard list Item\r\n    {\r\n      id: 0,\r\n      label: \"Dashboard\",\r\n      icon: <DashboardCustomize className=\"icon\" />,\r\n      url: \"/\",\r\n      category: \"MAIN\",\r\n    },\r\n   \r\n    // {\r\n    //   id: 1,\r\n    //   label: \"Accounts\",\r\n    //   icon: <Group className=\"icon\" />,\r\n    //   setList: \"TOGGLE_CUSTOMER\",\r\n    //   nested: [\r\n    //     {\r\n    //       itemId: 1,\r\n    //       label: \"Tenants\",\r\n    //       icon: <Business className=\"icon\" />,\r\n    //       url: \"/tenants\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 2,\r\n    //       label: \"Users\",\r\n    //       icon: <People className=\"icon\" />,\r\n    //       url: \"/admin/users\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 3,\r\n    //       label: \"Permissions\",\r\n    //       icon: <Security className=\"icon\" />,\r\n    //       url: \"/tenats/order\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 4,\r\n    //       label: \"Roles\",\r\n    //       icon: <SwitchAccount className=\"icon\" />,\r\n    //       url: \"/roles\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 5,\r\n    //       label: \"Payment\",\r\n    //       icon: <Payment className=\"icon\" />,\r\n    //       url: \"/tenants/payment\",\r\n    //     },\r\n    //   ],\r\n    // },\r\n    {\r\n      id: 1,\r\n      label: \"Customer\",\r\n      icon: <SwitchAccount className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      category: \"ACCOUNTS\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Customers\",\r\n          icon: <SwitchAccount className=\"icon\" />,\r\n          url: \"/customers\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Customer Balance\",\r\n          icon: <AttachMoney className=\"icon\" />,\r\n          url: \"/customerpayments\",\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Supplier\",\r\n      icon: <People className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      nested: [\r\n        \r\n        {\r\n          itemId: 1,\r\n          label: \"Suppliers\",\r\n          icon: <People className=\"icon\" />,\r\n          url: \"/suppliers\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Suppliers Balance\",\r\n          icon: <Payment className=\"icon\" />,\r\n          url: \"/supplierpayments\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Employee\",\r\n      icon: <SwitchAccount className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Employee\",\r\n          icon: <AssignmentInd className=\"icon\" />,\r\n          url: \"/employees\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Employee Salary\",\r\n          icon: <LocalAtm className=\"icon\" />,\r\n          url: \"/employeesalary\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Employee Advances\",\r\n          icon: <Payment className=\"icon\" />,\r\n          url: \"/employeeadvances\",\r\n        }\r\n      ],\r\n    },\r\n    // //Bank Accounts List Item\r\n    // {\r\n    //   id: 3,\r\n    //   label: \"Subscription\",\r\n    //   icon: <CardMembership className=\"icon\" />,\r\n    //   setList: \"TOGGLE_BANK\",\r\n    //   category: \"DATA ENTRY\",\r\n    //   nested: [\r\n    //     {\r\n    //       itemId: 1,\r\n    //       label: \"Subscriptions\",\r\n    //       icon: <Subscriptions className=\"icon\" />,\r\n    //       url: \"/subscriptions\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 2,\r\n    //       label: \"Packages\",\r\n    //       icon: <LocalOffer className=\"icon\" />,\r\n    //       url: \"/packages\",\r\n    //     },\r\n    //     {\r\n    //       itemId: 3,\r\n    //       label: \"Features\",\r\n    //       icon: <Tune className=\"icon\" />,\r\n    //       url: \"/features\",\r\n    //     },\r\n    //   ],\r\n    // },\r\n    {\r\n      id: 4,\r\n      label: \"Meter Reading\",\r\n      icon: <Speed className=\"icon\" />,\r\n      category: \"DATA ENTRY\",\r\n      url: \"/meters\"\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"POS\",\r\n      icon: <TrendingUp className=\"icon\" />,\r\n      url: \"/pos\"\r\n    },\r\n    {\r\n      id: 6,\r\n      label: \"Sales\",\r\n      icon: <Assessment className=\"icon\" />,\r\n      url: \"/sales\"\r\n    },\r\n  \r\n    // //Settings List Item\r\n    {\r\n      id: 7,\r\n      label: \"Settings\",\r\n      icon: <Settings className=\"icon\" />,\r\n      category: \"SYSTEM\",\r\n      setList: \"TOGGLE_SETTINGS\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Machines\",\r\n          icon: <LocalGasStation className=\"icon\" />,\r\n          url: \"/machines\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Readings\",\r\n          icon: <Speed className=\"icon\" />,\r\n          url: \"/readings\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Products\",\r\n          icon: <Widgets className=\"icon\" />,\r\n          url: \"/products\",\r\n        },\r\n        {\r\n          itemId: 4,\r\n          label: \"Price Management\",\r\n          icon: <PriceChange className=\"icon\" />,\r\n          url: \"/prices\",\r\n        },\r\n        {\r\n          itemId: 5,\r\n          label: \"Users\",\r\n          icon: <People className=\"icon\" />,\r\n          url: \"/admin/users\",\r\n        },\r\n        // {\r\n        //   itemId: 3,\r\n        //   label: \"Permissions\",\r\n        //   icon: <Security className=\"icon\" />,\r\n        //   url: \"/tenats/order\",\r\n        // },\r\n        // { \r\n        //   itemId: 4,\r\n        //   label: \"Roles\",\r\n        //   icon: <SwitchAccount className=\"icon\" />,\r\n        //   url: \"/roles\",\r\n        // },\r\n       \r\n      ],\r\n    },\r\n    {\r\n      id: 8,\r\n      label: \"Reports\",\r\n      icon: <Receipt className=\"icon\" />,\r\n      setList: \"TOGGLE_STOCK\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Get Report\",\r\n          icon: <Receipt className=\"icon\" />,\r\n          url: \"/reports\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Expenses\",\r\n          icon: <Assessment className=\"icon\" />,\r\n          url: \"/expenses\",\r\n        },\r\n        // {\r\n        //   itemId: 3,\r\n        //   label: \"Stock Wastage\",\r\n        //   icon: <FormatColorReset className=\"icon\" />,\r\n        //   url: \"/features\",\r\n        // },\r\n        // {\r\n        //   itemId: 4,\r\n        //   label: \"Stock Testing\",\r\n        //   icon: <HourglassBottom className=\"icon\" />,\r\n        //   url: \"/features\",\r\n        // },\r\n      ],\r\n    },\r\n    {\r\n      id: 9,\r\n      label: \"Stock Management\",\r\n      icon: <Opacity className=\"icon\" />,\r\n      setList: \"TOGGLE_STOCK\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Stock List\",\r\n          icon: <Opacity className=\"icon\" />,\r\n          url: \"/stocks\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Purchase Stock\",\r\n          icon: <Store className=\"icon\" />,\r\n          url: \"/purchases\",\r\n        },\r\n        {\r\n          itemId: 3,\r\n          label: \"Dip Records\",\r\n          icon: <Assessment className=\"icon\" />,\r\n          url: \"/dips\",\r\n        },\r\n        {\r\n          itemId: 4,\r\n          label: \"Stock Wastage\",\r\n          icon: <FormatColorReset className=\"icon\" />,\r\n          url: \"/wastages\",\r\n        },\r\n        {\r\n          itemId: 5,\r\n          label: \"Stock Testing\",\r\n          icon: <HourglassBottom className=\"icon\" />,\r\n          url: \"/features\",\r\n        },\r\n      ],\r\n    },\r\n    // //User List Item\r\n    {\r\n      id: 10,\r\n      label: \"Profile\",\r\n      icon: <AccountCircle className=\"icon\" />,\r\n      url: \"/sales\",\r\n      category: \"USER\",\r\n    },\r\n    //Logout List Item\r\n    {\r\n      id: 11,\r\n      label: \"Logout\",\r\n      icon: <PowerSettingsNew className=\"icon\" />,\r\n      clickFunc: LogoutFunc,\r\n    },\r\n  ];\r\n  \r\n  const CashierPanel = [\r\n    //Dashboard list Item\r\n    {\r\n      id: 0,\r\n      label: \"Dashboard\",\r\n      icon: <DashboardCustomize className=\"icon\" />,\r\n      url: \"/\",\r\n      category: \"MAIN\",\r\n    },\r\n    {\r\n      id: 1,\r\n      label: \"Customer\",\r\n      icon: <SwitchAccount className=\"icon\" />,\r\n      setList: \"TOGGLE_CUSTOMER\",\r\n      category: \"ACCOUNTS\",\r\n      nested: [\r\n        {\r\n          itemId: 1,\r\n          label: \"Customers\",\r\n          icon: <SwitchAccount className=\"icon\" />,\r\n          url: \"/customers\",\r\n        },\r\n        {\r\n          itemId: 2,\r\n          label: \"Customer Balance\",\r\n          icon: <AttachMoney className=\"icon\" />,\r\n          url: \"/customerpayments\",\r\n        }\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Sale Closing\",\r\n      icon: <Speed className=\"icon\" />,\r\n      category: \"DATA ENTRY\",\r\n      url: \"/closing\"\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"POS\",\r\n      icon: <TrendingUp className=\"icon\" />,\r\n      url: \"/pos\"\r\n    },\r\n    {\r\n      itemId: 13,\r\n      label: \"Expenses\",\r\n      icon: <Assessment className=\"icon\" />,\r\n      url: \"/expenses\",\r\n    },\r\n    // {\r\n    //   id: 6,\r\n    //   label: \"Sales\",\r\n    //   icon: <Assessment className=\"icon\" />,\r\n    //   url: \"/sales\"\r\n    // },\r\n    //Logout List Item\r\n    {\r\n      id: 11,\r\n      label: \"Logout\",\r\n      icon: <PowerSettingsNew className=\"icon\" />,\r\n      clickFunc: LogoutFunc,\r\n    },\r\n  ];\r\n\r\n  //Array for User Display Sidebar Items\r\n  const listItems =\r\n    (user.access === \"web_admin\" && WebAdminPanel) || (user.access === \"admin\" && AdminPanel) || (user.access === \"cashier\" && CashierPanel);\r\n  return { listItems };\r\n};\r\n","import React from \"react\";\r\nimport \"./sidebar.scss\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { toggleFunc } from \"../../redux/sidebarSlice/sidebarSlice\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItemButton from \"@mui/material/ListItemButton\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport Collapse from \"@mui/material/Collapse\";\r\nimport ExpandLess from \"@mui/icons-material/ExpandLess\";\r\nimport ExpandMore from \"@mui/icons-material/ExpandMore\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocalHook } from \"./SidebarSource\";\r\nconst Sidebar = () => {\r\n  const { listItems } = useLocalHook();\r\n\r\n  //Extract toggleList State from Redux store\r\n  const sidebar = useSelector((state) => state.sidebar);\r\n  \r\n  function getToggle(item, id) {\r\n    return item.id === id;\r\n  }\r\n  const toggle = (id) =>\r\n    sidebar.filter((item) => {\r\n      return getToggle(item, id);\r\n    });\r\n\r\n    \r\n  //Initializing the use Dispatch\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    // Start of Custom Drawer Component\r\n    <div className=\"sidebar\">\r\n      <div className=\"bottom\">\r\n        {listItems.map((listItem) => (\r\n          //Start of MUI main List Component\r\n          <List\r\n            key={listItem.id}\r\n            sx={{ width: \"15%\", minWidth: 210, padding: 0 }}\r\n            subheader={\r\n              listItem.category && (\r\n                //Typography to differentiate various categories of list items\r\n                <Typography className=\"title\">{listItem.category}</Typography>\r\n              )\r\n            }\r\n            className=\"list\"\r\n          >\r\n            {/* Checking for Url if it exists in main list then make it link  */}\r\n            {listItem.url ? (\r\n              <Link to={listItem.url} style={{ textDecoration: \"none\" }}>\r\n                {/* List Item Button of main list to create list Item  */}\r\n                <ListItemButton\r\n                  onClick={() => {\r\n                    listItem.setList\r\n                      ? \r\n                   \r\n                      dispatch(toggleFunc({id: listItem.id}))\r\n                      : listItem.clickFunc && listItem.clickFunc();\r\n                  }}\r\n                  className=\"li\"\r\n                >\r\n                  {/* Icon for the main list Item  */}\r\n                  <ListItemIcon className=\"icon\">{listItem.icon}</ListItemIcon>\r\n                  {/* Text for the main list Item  */}\r\n                  <ListItemText\r\n                    primary={\r\n                      <Typography className=\"text\">{listItem.label}</Typography>\r\n                    }\r\n                  />\r\n                  {/* Chevron Icons to indicate open and closed list  */}\r\n                  {listItem.setList && toggle(listItem.id)[0].toggle\r\n                    ? listItem.nested && <ExpandLess className=\"chevron\" />\r\n                    : listItem.nested && <ExpandMore className=\"chevron\" />}\r\n                </ListItemButton>\r\n              </Link>\r\n            ) : (\r\n              <ListItemButton\r\n                onClick={() => {\r\n                  listItem.setList\r\n                    ?  dispatch(toggleFunc(listItem.id))\r\n                    // dispatch({\r\n                    //     type: listItem.setList,\r\n                    //     payload: listItem.id,\r\n                    //   })\r\n                    : listItem.clickFunc && listItem.clickFunc();\r\n                }}\r\n                className=\"li\"\r\n              >\r\n                {/* Icon for the main list Item  */}\r\n                <ListItemIcon className=\"icon\">{listItem.icon}</ListItemIcon>\r\n                {/* Text for the main list Item  */}\r\n                <ListItemText\r\n                  primary={\r\n                    <Typography className=\"text\">{listItem.label}</Typography>\r\n                  }\r\n                />\r\n                {/* {console.log(toggle(listItem.id)[0].toggle)} */}\r\n                {/* Chevron Icons to indicate open and closed list  */}\r\n                {listItem.setList && toggle(listItem.id)[0].toggle\r\n                  ? listItem.nested && <ExpandLess className=\"chevron\" />\r\n                  : listItem.nested && <ExpandMore className=\"chevron\" />}\r\n              </ListItemButton>\r\n            )}\r\n\r\n            {listItem.nested &&\r\n              listItem.nested.map((nestedItem) => (\r\n                // MUI collapse to handle nested list items\r\n                <Collapse\r\n                  key={nestedItem.itemId}\r\n                  in={toggle(listItem.id)[0].toggle}\r\n                  timeout=\"auto\"\r\n                >\r\n                  {/* Start of Nested list  */}\r\n                  <List component=\"div\" disablePadding className=\"nestedli\">\r\n                    {/* Add Link to List Item to redirect the component  */}\r\n                    <Link\r\n                      to={nestedItem.url}\r\n                      style={{ textDecoration: \"none\" }}\r\n                    >\r\n                      {/* List Item Button to create list Item  */}\r\n                      <ListItemButton sx={{ pl: 2 }}>\r\n                        {/* Icon for the list Item  */}\r\n                        <ListItemIcon className=\"icon\">\r\n                          {nestedItem.icon}\r\n                        </ListItemIcon>\r\n                        {/* Text for the list Item  */}\r\n                        <ListItemText\r\n                          primary={\r\n                            <Typography className=\"text\">\r\n                              {nestedItem.label}\r\n                            </Typography>\r\n                          }\r\n                        />\r\n                      </ListItemButton>\r\n                    </Link>\r\n                  </List>\r\n                  {/* End of nested list  */}\r\n                </Collapse>\r\n              ))}\r\n          </List>\r\n          //End of MUI main List component\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import \"./widget.scss\";\r\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\r\nimport {\r\n  AccountBalanceWalletOutlined,\r\n  Business,\r\n  KeyboardArrowDown,\r\n  MonetizationOnOutlined,\r\n  ShoppingCartOutlined,\r\n} from \"@mui/icons-material\";\r\nimport petrolCane from \"../../img/petrolCane.webp\";\r\nimport dieselCane from \"../../img/DieselCane.jpg\";\r\nimport Avatar from \"react-avatar\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\nconst Widget = ({ type, data }) => {\r\n  // let data;\r\n\r\n  //Temporary\r\n  const amount = 100;\r\n  const diff = 20;\r\n  //Using switch to check which type of widget is it\r\n  // switch (type) {\r\n  //   case \"users\":\r\n  //     data = {\r\n  //       title: user.access === \"web_admin\" ? \"TENANTS\" : (user.access === \"tenant_admin\" || user.access === \"tenant_sub_admin\") && \"EMPLOYEES\",\r\n  //       isMoney: false,\r\n  //       link: user.access === \"web_admin\" ? \"See all tenants\" : (user.access === \"tenant_admin\" || user.access === \"tenant_sub_admin\") && \"See all employees\",\r\n  //       icon: (\r\n  //         <Business\r\n  //           className=\"icon\"\r\n  //           style={{ color: \"crimson\", backgroundColor: \"rgba(255, 0,0, 0.2)\" }}\r\n  //         />\r\n  //       ),\r\n  //     };\r\n  //     break;\r\n  //   case \"order\":\r\n  //     data = {\r\n  //       title: \"ORDERS\",\r\n  //       isMoney: false,\r\n  //       link: \"View all orders\",\r\n  //       icon: (\r\n  //         <ShoppingCartOutlined\r\n  //           className=\"icon\"\r\n  //           style={{\r\n  //             color: \"goldenrod\",\r\n  //             backgroundColor: \"rgba(218, 165,32, 0.2)\",\r\n  //           }}\r\n  //         />\r\n  //       ),\r\n  //     };\r\n  //     break;\r\n  //   case \"earning\":\r\n  //     data = {\r\n  //       title: \"EARNINGS\",\r\n  //       isMoney: true,\r\n  //       link: \"View net earnings\",\r\n  //       icon: (\r\n  //         <MonetizationOnOutlined\r\n  //           className=\"icon\"\r\n  //           style={{ color: \"green\", backgroundColor: \"rgba(0, 218,0, 0.2)\" }}\r\n  //         />\r\n  //       ),\r\n  //     };\r\n  //     break;\r\n  //   case \"balance\":\r\n  //     data = {\r\n  //       title: \"BALANCE\",\r\n  //       isMoney: true,\r\n  //       link: \"See details\",\r\n  //       icon: (\r\n  //         <AccountBalanceWalletOutlined\r\n  //           className=\"icon\"\r\n  //           style={{\r\n  //             color: \"purple\",\r\n  //             backgroundColor: \"rgba(128, 0,128, 0.2)\",\r\n  //           }}\r\n  //         />\r\n  //       ),\r\n  //     };\r\n  //     break;\r\n  //   default:\r\n  //     break;\r\n  // }\r\n  return (\r\n    <div className=\"widget\" style={{background: data.stock > 0 ? \"#b1f3b1\" : \"#ffb4b4\"}}>\r\n      <div className=\"left\">\r\n        <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n\r\n      <Avatar src={data.product.type !== \"mobile\" ? (data.product.type === \"petrol\" ? petrolCane : dieselCane) : (data.product.pic !== \"\" ?  `${DOMAIN}/public/product/images/${data.product.pic}` : './img/avatarfile.png' )} round size=\"30\" style={{marginRight: \"10px\"}}/>\r\n        <span className=\"title\">{data.product.name}</span>\r\n        </div>\r\n        <span className=\"counter\">\r\n          {\"Qty.\"}\r\n          <span style={{color: data.stock > 0 ? \"green\": \"#ff0000\"}}>\r\n\r\n            {data.stock}\r\n          </span>\r\n        </span>\r\n        <span className=\"link\">{data.link}</span>\r\n      </div>\r\n      <div className=\"right\">\r\n        <div className=\"percentage positive\">\r\n          {/* <KeyboardArrowUpIcon /> */}\r\n          S.P Rs. {data.price.newSellingPrice}\r\n        </div>\r\n        <div className=\"percentage positive\" style={{ color: \"crimson\" }}>\r\n          {/* <KeyboardArrowDown /> */}\r\n          C.P Rs. {data.price.costPrice}\r\n        </div>\r\n        <Business\r\n          className=\"icon\"\r\n          style={{ color: \"crimson\", backgroundColor: \"rgba(255, 0,0, 0.2)\" }}\r\n        />\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Widget;\r\n","import \"./dashboard.scss\";\r\nimport Widget from \"../../Components/widgets/Widget\";\r\nimport Featured from \"../../Components/featured/Featured\";\r\nimport Chart from \"../../Components/chart/Chart\";\r\nimport Table from \"../../Components/table/Table\";\r\nimport { Grid } from \"@mui/material\";\r\nimport { useContext, useEffect } from \"react\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { cleardata, getAllStocks } from \"../../redux/completeDataSlice/completeDataSlice\";\r\n\r\nconst Dashboard = () => {\r\n  //Call Auth Context & Extract Logout\r\n  const { logout, user } = useContext(AuthContext);\r\n  //get from store\r\n  const stocks = useSelector(state => state.completeData.stocks)\r\n  //Setup dispatch\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getAllStocks())\r\n\r\n    //Call clear customers to clear customers from state on unmount\r\n    return () => {\r\n      dispatch(cleardata());\r\n    };\r\n  }, [])\r\n\r\n  console.log(stocks)\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboardContainer\">\r\n        <div className=\"widgets\">\r\n          {/* calling widgets from component/widgets  */}\r\n          <Grid container spacing={2}>\r\n            {stocks.map(element => (element.product.name === \"Petrol\" || element.product.name === \"Diesel\") && <Grid key={element._id} item xs={12} sm={6} md={6} lg={3}>\r\n              <Widget type=\"users\" data={element} />\r\n            </Grid>)}\r\n\r\n            {/* <Grid item xs={12} sm={6} md={6} lg={3}>\r\n              <Widget type=\"order\" user={user}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={6} lg={3}>\r\n              <Widget type=\"earning\" user={user}/>\r\n            </Grid>\r\n            <Grid item xs={12} sm={6} md={6} lg={3}>\r\n              <Widget type=\"balance\" user={user}/>\r\n            </Grid> */}\r\n          </Grid>\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n        <div className=\"charts\">\r\n          <Grid container spacing={2}>\r\n            {stocks.map(element => element.product.name !== \"Petrol\" && element.product.name !== \"Diesel\" && <Grid key={element._id} item xs={12} sm={6} md={6} lg={3}>\r\n              <Widget type=\"users\" data={element} />\r\n            </Grid>)}\r\n\r\n            {/* <Grid item sm={12} xs={12} display={{ xs: \"block\", sm:\"none\", md: \"none\", lg: \"block\" }} md={4} lg={4}> */}\r\n            {/* Calling Featured from components/featured  */}\r\n            {/* <Featured />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={6} md={6} lg={6}> */}\r\n              {/* Calling chart from components/chart  */}\r\n              {/* <Chart title=\"Last 6 (Revenue)\" startColor=\"#8884d8\" endColor=\"#8884d8\" aspect={2 / 1} />\r\n            </Grid> */}\r\n          </Grid>\r\n\r\n\r\n\r\n        </div>\r\n        {/* <div className=\"listContainer\">\r\n          <div className=\"listTitle\">Latest Transactions</div>\r\n          <Table />\r\n        </div> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from \"react\";\r\nimport \"./datatable.scss\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport { ClickAwayListener, Pagination, Stack } from \"@mui/material\";\r\n\r\nconst DataTable = ({ columns, footer, rows, totalRecords,selectedRowId, handleOnPageChange, currentPage, setSelectedRowId  }) => {\r\n \r\nreturn (\r\n<div className=\"datatable\">\r\n    <DataGrid\r\n        className=\"dataGrid\"\r\n        rows={rows}\r\n        columns={columns}\r\n        pageSize={5}\r\n        disableColumnFilter\r\n        rowCount={totalRecords}\r\n        paginationMode=\"server\"\r\n        components={{\r\n            NoRowsOverlay: () => (\r\n              <Stack height=\"100%\" alignItems=\"center\" justifyContent=\"center\">\r\n                No Record Available\r\n              </Stack>\r\n            ),\r\n            Pagination: footer ? () => null  : undefined , // Hides the pagination component\r\n          }}\r\n        page={currentPage}\r\n        onSelectionModelChange={item => setSelectedRowId(item)}\r\n        selectionModel={selectedRowId ? [selectedRowId] : []}\r\n        onPageChange={(e)=> {handleOnPageChange(e)}}\r\n        rowsPerPageOptions={[5]}\r\n        checkboxSelection={false} // Enable checkbox selection\r\n        disableRowSelectionOnClick\r\n    />\r\n   \r\n</div>\r\n);\r\n};\r\n\r\nexport default DataTable;\r\n","import { Typography, Box, useTheme, Button } from \"@mui/material\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { colorTokens } from \"../../theme\";\r\n\r\n\r\nconst Header = ({ title, subTitle, link, icon, dialog, btnIcon, setDialog, addBtnTitle, secondaryBtnTitle, secondaryBtnIcon, setSecondaryDialog, secondaryDialog }) => {\r\n  const theme = useTheme();\r\n  const colors = colorTokens(theme.palette.mode);\r\n  return (\r\n    <Box\r\n      m=\"0px 20px 30px 0px\"\r\n      p=\"10px 20px 0 20px\"\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        alignItems: \"center\",\r\n        position: \"sticky\",\r\n        height: \"80px\",\r\n        top: \"0px\",\r\n        width: \"100%\",\r\n        zIndex: 2\r\n      }}\r\n      bgcolor={theme.palette.background.main}\r\n      className=\"header\"\r\n    >\r\n      <Box >\r\n        \r\n        <Typography\r\n          style={{ fontSize: \"20px\", display: \"flex\", alignItems: \"center\", }}\r\n          color={colors.grey[200]}\r\n          fontWeight=\"550\"\r\n          sx={{ mt: \"10px\" }}\r\n        >\r\n          {icon}\r\n          {title}\r\n        </Typography>\r\n        <Typography style={{ fontSize: \"16px\" }} color={colors.grey[400]}>\r\n          {subTitle}\r\n        </Typography>\r\n      </Box>\r\n      <Box style={{display: \"flex\", flexDirection: \"column\"}}>\r\n\r\n      {/* Show button for link  */}\r\n      {setDialog && ( <Button sx={{mb:1, mt:1}} color=\"primary\" onClick={()=>setDialog(!dialog)} component={Link} to={link} variant=\"contained\">\r\n         {btnIcon && btnIcon} {addBtnTitle}\r\n        </Button>)}\r\n        {secondaryBtnTitle && ( <Button  color=\"success\" onClick={()=>setSecondaryDialog(!secondaryDialog)} component={Link} to={link} variant=\"contained\">\r\n          {secondaryBtnIcon} {secondaryBtnTitle}\r\n        </Button>)}\r\n      {link !== window.location.pathname && link && (\r\n        <Button  color=\"primary\" component={Link} to={link} variant=\"contained\">\r\n          Add New\r\n        </Button>\r\n      )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","\r\nimport { Link } from \"react-router-dom\";\r\nimport { Delete, Edit, Info, Style } from \"@mui/icons-material\";\r\nimport { IconButton, Chip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export User Columns\r\nexport const userColumns = (setOpenFormDialog, setDetailsDialog, setOpenDeleteDialog ) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"user\",\r\n    headerName: \"User\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/users/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"/>\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"contact\", headerName: \"Contact\", width: 150 },\r\n  { field: \"access\", headerName: \"Role\", width: 120 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n//Export User Rows\r\nexport const userRows = [\r\n  {\r\n    id: 1,\r\n    username: \"snow\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"active\",\r\n    email: \"1snow@gmail.com\",\r\n    age: 35,\r\n  },\r\n  {\r\n    id: 2,\r\n    username: \"Jamie Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"passive\",\r\n    email: \"2snow@gmail.com\",\r\n    age: 42,\r\n  },\r\n  {\r\n    id: 3,\r\n    username: \"Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"pending\",\r\n    email: \"3snow@gmail.com\",\r\n    age: 45,\r\n  },\r\n  {\r\n    id: 4,\r\n    username: \"snow\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"active\",\r\n    email: \"1snow@gmail.com\",\r\n    age: 35,\r\n  },\r\n  {\r\n    id: 5,\r\n    username: \"Jamie Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"passive\",\r\n    email: \"2snow@gmail.com\",\r\n    age: 42,\r\n  },\r\n  {\r\n    id: 6,\r\n    username: \"Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"pending\",\r\n    email: \"3snow@gmail.com\",\r\n    age: 45,\r\n  },\r\n];\r\n\r\n// DATA TABLE FORMATE FOR FEATURES\r\n//Export User Columns\r\nexport const featureColumns = [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"feature\",\r\n    headerName: \"Feature Name\",\r\n    width: 250,\r\n  },\r\n  { field: \"description\", headerName: \"Description\", width: 250 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport const featureRows = [\r\n  {\r\n    id: 1,\r\n    feature: \"Blackberry\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 2,\r\n    feature: \"Orange\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 3,\r\n    feature: \"Cherry\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n];\r\n\r\n// DATA TABLE FORMATE FOR PACKAGES\r\n//Export PACKAGES Columns\r\nexport const packagesColumns = (deleteItem) => [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Plan\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.image} alt=\"\" className=\"cellImg\" />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"price\", headerName: \"Price\", width: 70 },\r\n  {\r\n    field: \"features\",\r\n    headerName: \"Features\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction features\" >\r\n          <Chip label=\"Features\" size=\"small\" />\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Link to={`/packages/update/${params.row.id}`}  style={{ textDecoration: \"none\" }}>\r\n            <IconButton className=\"viewButton\">\r\n              <Edit style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Link>\r\n\r\n          <IconButton onClick={() => deleteItem(params.row.id)}>\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n//DATA TABLE FORMATE FOR TENANTS\r\n//Export TENANTS Columns\r\nexport const tenantsColumns = (setOpenDeleteDialog) =>[\r\n  // { field: \"_id\", headerName: \"ID\", width: 70,  sortable: false,\r\n  // },\r\n  {\r\n    field: \"ownerName\",\r\n    headerName: \"Owner Name\",\r\n    sortable: false,\r\n    width: 200,\r\n\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.logo ? `http://localhost:5000/public/tenants/images/${params.row.logo}`:\"./img/avatarfile.png\"} alt=\"\" className=\"cellImg\" />\r\n          {params.row.ownerName}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"username\", headerName: \"Username\", width: 200 },\r\n  { field: \"email\", headerName: \"Email\", width: 200, sortable: false, },\r\n  { field: \"tenantName\", headerName: \"Company Name\", width: 200,  sortable: false, },\r\n  { field: \"contact\", headerName: \"Contact\", width: 200,  sortable: false, },\r\n  { field: \"address\", headerName: \"Address\", width: 200,  sortable: false, },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    sortable: false,\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Link to={`/tenants/update/${params.row.id}`}  style={{ textDecoration: \"none\" }}>\r\n            <IconButton className=\"viewButton\">\r\n              <Edit style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Link>\r\n\r\n          <IconButton onClick={() => setOpenDeleteDialog(true)}>\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n]\r\nexport const tenantsRows = [\r\n  {\r\n    id: 1,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\"\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    // username: \"kashif\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\"\r\n  }\r\n\r\n];\r\n// DATA TABLE FORMATE FOR PACKAGES\r\n//Export PACKAGES Columns\r\nexport const subColumns = [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"plan\",\r\n    headerName: \"Plan\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.image} alt=\"\" className=\"cellImg\" />\r\n          {params.row.plan}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"price\", headerName: \"Price\", width: 70 },\r\n  {\r\n    field: \"features\",\r\n    headerName: \"Features\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction features\" >\r\n          <Chip label=\"Features\" size=\"small\" />\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"features\", headerName: \"Features\", width: 150 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport const subRows = [\r\n  {\r\n    id: 1,\r\n    plan: \"Blackberry\",\r\n    img: \"img/blackberry.png\",\r\n    price: \"$5\",\r\n    features: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 2,\r\n    plan: \"Orange\",\r\n    price: \"$10\",\r\n    img: \"img/orange.png\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 3,\r\n    plan: \"Cherry\",\r\n    price: \"$15\",\r\n    img: \"img/cherry3.jpg\",\r\n    status: \"active\",\r\n  },\r\n];\r\n","import { Box } from \"@mui/material\";\r\nimport React from \"react\";\r\nimport DataTable from \"../../../Components/datatable/DataTable\";\r\nimport Header from \"../../../Components/Header/Header\";\r\nimport { subColumns, subRows } from \"../../../Components/datatable/dataTableSources\";\r\n\r\nexport default function Subscription() {\r\n  return (\r\n    <Box m=\"0px 20px 20px 20px\">\r\n      {/* Header for subscription page  */}\r\n      <Header title=\"SUBSCRIPTION\" subTitle=\"Managing the Subscription Plans\" />\r\n      {/* Data Table of Subscription Plans */}\r\n      <DataTable columns={subColumns} rows={subRows} />\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  Button,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Switch,\r\n  TextField,\r\n  Grid\r\n} from \"@mui/material\";\r\nimport React, { useEffect } from \"react\";\r\nimport \"./form.scss\";\r\n\r\nexport default function Form({ inputs, state, setState, submit, submitBtn }) {\r\n \r\n\r\n  //Handle on change function\r\n  const handleOnChange = (e) => {\r\n    setState({...state, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //HERE IS ISSUE TO BE RESOLVE\r\n  useEffect(() => {\r\n    let sItem = {};\r\n    inputs.forEach((item) => {\r\n      sItem[item.name] = \"\";\r\n    });\r\n    setState(sItem);\r\n  }, [inputs, setState]);\r\n\r\n \r\n  //Get Input field according to type\r\n  const getField = (input) => {\r\n    switch (input.type) {\r\n      case \"text\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} md={input.grid.md} lg={input.grid.lg} key={input.id}>\r\n            <TextField\r\n              label={input.label}\r\n              id=\"outlined-size-small\"\r\n              size=\"small\"\r\n              style={{minWidth: \"100%\"}}\r\n              onChange={handleOnChange}\r\n              name={input.name}\r\n              value={state[input.name]}\r\n            />\r\n          </Grid>\r\n        );\r\n        case \"number\":\r\n          return (\r\n            <Grid item xs={input.grid.xs} sm={input.grid.sm} md={input.grid.md} lg={input.grid.lg} key={input.id}>\r\n              <TextField\r\n                label={input.label}\r\n                id=\"outlined-size-small\"\r\n                size=\"small\"\r\n                style={{minWidth: \"100%\"}}\r\n                onChange={handleOnChange}\r\n                name={input.name}\r\n                value={state[input.name]}\r\n              />\r\n            </Grid>\r\n          );\r\n      case \"switch\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} md={input.grid.md} lg={input.grid.lg} key={input.id}>\r\n            <FormGroup>\r\n              <FormControlLabel\r\n                control={<Switch defaultChecked />}\r\n                disabled={false}\r\n                name={input.name}\r\n                onChange={handleOnChange}\r\n                label={input.label}\r\n              />\r\n            </FormGroup>\r\n          </Grid>\r\n        );\r\n      case \"select\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} md={input.grid.md} lg={input.grid.lg} key={input.id}>\r\n            <FormControl style={{minWidth: \"100%\"}} size=\"small\">\r\n              <InputLabel id=\"demo-simple-select-label\">\r\n                {input.label}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                style={{ minWidth: input.minWidth, paddingTop: \"-10px\" }}\r\n                value={state !== \"\" ? state[input.name] : \"\"}\r\n                label={input.label}\r\n                name={input.name}\r\n                size={input.size}\r\n                onChange={handleOnChange}\r\n              >\r\n                {/* Mapping up the options of select component */}\r\n                {input.options &&\r\n                  input.options.map((item) => (\r\n                    <MenuItem key={item.id} value={item.value}>\r\n                      {item.name}\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        );\r\n      default:\r\n        return (\r\n          <div className=\"formInput\" key={input.id}>\r\n            <TextField\r\n              label={input.label}\r\n              id=\"outlined-size-small\"\r\n              size=\"small\"\r\n            />\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n  return (\r\n    // <Box className=\"form\">\r\n      <form onSubmit={submit} style={{ display: \"flex\", paddingLeft: \"20px\", paddingRight: \"20px\"}}>\r\n        <Grid container spacing={2}>\r\n          {inputs.map((input) => getField(input))}\r\n        </Grid>\r\n      </form>\r\n    // </Box>\r\n  );\r\n}\r\n","//Add new feature form fields\r\nexport const featureInputFields = [\r\n  {\r\n    id: 1,\r\n    label: \"Name\",\r\n    type: \"text\",\r\n    name: \"name\",\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Desciption\",\r\n    type: \"text\",\r\n    name: \"description\",\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Status\",\r\n    type: \"select\",\r\n    name: \"status\",\r\n    size: \"small\",\r\n    minWidth: \"100%\",\r\n    options: [\r\n      { id: 1, name: \"Active\", value: \"active\" },\r\n      { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n    ],\r\n  },\r\n];\r\n\r\n//ADD NEW PACKAGE FORM FIELDS\r\nexport const packagesInputFields = (submitBtnTitle) => { \r\n  return [\r\n    {id: 1, type: \"file\", grid: {xs: 12, sm: 12}},\r\n  {\r\n    id: 2,\r\n    label: \"Name\",\r\n    type: \"text\",\r\n    name: \"name\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n    // placeholder: \"john_doe\",\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Price\",\r\n    type: \"number\",\r\n    name: \"price\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Desciption\",\r\n    type: \"text\",\r\n    name: \"description\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 8\r\n    }\r\n    // placeholder: \"john_doe\",\r\n  },\r\n \r\n  {\r\n    id: 5,\r\n    label: \"Expires in months\",\r\n    type: \"number\",\r\n    name: \"expiresInMonths\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 4\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    label: \"Status\",\r\n    type: \"select\",\r\n    name: \"status\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    options: [\r\n      { id: 1, name: \"Active\", value: \"active\" },\r\n      { id: 2, name: \"De-Active\", value: \"deactive\" }\r\n    ],\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n    // placeholder: \"john_doe\",\r\n  },\r\n  {\r\n    id: 7,\r\n    type: \"colorInput\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n    // placeholder: \"john_doe\",\r\n  },\r\n  {\r\n    id: 8,\r\n    label: submitBtnTitle,\r\n    type: \"button\",\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12\r\n    }\r\n  },\r\n]; }\r\n\r\n//ADD NEW PACKAGE GROUP FORM FIELDS\r\nexport const packageGroupForm = () => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Group Title\",\r\n      type: \"text\",\r\n      name: \"groupTitle\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Group Status\",\r\n      type: \"select\",\r\n      name: \"groupStatus\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      options: [\r\n        { id: 1, name: \"Active\", value: true},\r\n        { id: 2, name: \"De-Active\", value: false }\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Group Description\",\r\n      type: \"text\",\r\n      name: \"groupDescription\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 9\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Add Group\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      color: \"primary\",\r\n      variant: \"contained\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 3\r\n      }\r\n    },\r\n  ]\r\n}\r\n\r\n//ADD NEW PACKAGE FEATURE IN PACKAGE GROUP FORM FIELDS\r\nexport const packageFeatureForm = (features, groups) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Select Group\",\r\n      type: \"select\",\r\n      name: \"selectgroup\",\r\n      class: \"group\",\r\n      size: \"small\",\r\n      options: groups?.map(item => {\r\n        return { id: item.id, name: item.groupTitle, value: item.id }\r\n      }),\r\n       \r\n      grid: {\r\n        xs: 12,\r\n        sm: 4\r\n      }\r\n      // placeholder: \"john_doe\",\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Feature\",\r\n      type: \"select\",\r\n      name: \"selectfeature\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      options: features.map(item => {\r\n          return { id: item.id, name: item.feature, value: item.id }\r\n        })\r\n      ,\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Add Feature\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      color: \"primary\",\r\n      variant: \"contained\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 3\r\n      }\r\n    },\r\n  ]\r\n}\r\n\r\n//ADD NEW TENANT FORM \r\nexport const tenantForm = (submitBtnTitle, packages) => {\r\n  return [\r\n  {\r\n    id: 1,\r\n    label: \"Owner Name\",\r\n    type: \"text\",\r\n    name: \"ownerName\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 4\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Username\",\r\n    type: \"text\",\r\n    name: \"username\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 4\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Phone\",\r\n    type: \"phone\",\r\n    name: \"phone\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 4,\r\n      lg: 4\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Email\",\r\n    type: \"email\",\r\n    name: \"email\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n  },\r\n  {\r\n    id: 5,\r\n    label: \"Company Name\",\r\n    type: \"text\",\r\n    name: \"tenantName\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6\r\n    }\r\n  },\r\n \r\n  {\r\n    id: 6,\r\n    label: \"Select Package\",\r\n    type: \"select\",\r\n    name: \"packageId\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    options: packages && packages.map(item => {\r\n      return {id: item._id, name: `${item.name} ( Price: ${item.price} - Months: ${item.expiresInMonths} )`, value: item._id}\r\n    }),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 4,\r\n      lg: 4\r\n    }\r\n  },\r\n  {\r\n    id: 7,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 4,\r\n      lg: 4\r\n    }\r\n  },\r\n \r\n  {\r\n    id: 8,\r\n    label: \"Status\",\r\n    type: \"select\",\r\n    name: \"status\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    options: [\r\n      { id: 1, name: \"Active\", value: \"active\" },\r\n      { id: 2, name: \"De-Active\", value: \"deactive\" }\r\n    ],\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 4,\r\n      lg: 4\r\n    }\r\n  },\r\n  {\r\n    id: 9,\r\n    label: \"Address\",\r\n    type: \"text\",\r\n    name: \"address\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 6\r\n    }\r\n  },\r\n  \r\n  {\r\n    id: 10,\r\n    label: \"Password\",\r\n    type: \"password\",\r\n    name: \"password\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 3,\r\n      lg: 3,\r\n    }\r\n  },\r\n  {\r\n    id: 11,\r\n    label: \"Confirm Password\",\r\n    type: \"password\",\r\n    name: \"confirmPassword\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 3,\r\n      lg: 3,\r\n    }\r\n  },\r\n  \r\n  {\r\n    id: 12,\r\n    label: submitBtnTitle,\r\n    type: \"button\",\r\n    btntype: \"submit\",\r\n    variant: \"contained\",\r\n    color: \"secondary\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12\r\n    }\r\n  },\r\n  ]\r\n}\r\n\r\n//SEARCH TENANTS Filters\r\nexport const searchTenantFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Owner Name\", value: \"ownerName\" },\r\n        { id: 2, name: \"Username\", value: \"username\" },\r\n        { id: 3, name: \"Email\", value: \"email\" },\r\n        { id: 4, name: \"Company Name\", value: \"tenantName\" },\r\n        { id: 5, name: \"Contact\", value: \"contact\" },\r\n        { id: 6, name: \"Address\", value: \"address\" },\r\n        { id: 7, name: \"Date\", value: \"date\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH TENANTS INPUTS\r\nexport const searchTenantInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}\r\n\r\n//SEARCH INPUTS\r\nexport const searchInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport { featureColumns, featureRows } from \"../../../Components/datatable/dataTableSources\";\r\nimport DataTable from \"../../../Components/datatable/DataTable\";\r\nimport Form from \"../../../Components/form/Form\";\r\nimport Header from \"../../../Components/Header/Header\";\r\nimport \"./style.scss\";\r\nimport { featureInputFields } from \"../../../Components/sources/formSources\";\r\nimport AlertContext from '../../../context/alert/AlertContext';\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\"\r\nimport { addFeature, clearFeatures, deleteFeature, getFeatures } from \"../../../redux/webAdmin/featuresSlice/featureSlice\";\r\n\r\nexport default function Features() {\r\n  //Initialization of Redux Disptach\r\n  const dispatch = useDispatch()\r\n  //Initializing useSelector hook to get data from redux store\r\n  const features = useSelector(state => state.features)\r\n   //Initialization of Auth Context and Alert Context\r\n   const alertContext = useContext(AlertContext);\r\n   // Destructing of set Alert function using useContext hook\r\n   const { setAlert } = alertContext;\r\n  //Create State for holding the form values \r\n  const [state, setState] = useState(\"\")\r\n  //Destructuring values from state\r\n  const {name, description, status} = state\r\n  //Use Effect to load all features from store\r\n  useEffect(()=> {\r\n    //Calling getFeatures function from dispatch\r\n    dispatch(getFeatures())\r\n    //Calling unmount function to clear the store on unmount\r\n    return ()=> {\r\n      dispatch(clearFeatures())\r\n    }\r\n  }, [])\r\n  //function for handle delete feature\r\n  const handleDelete = async (id) => {\r\n    const res = await dispatch(deleteFeature(id))\r\n    if(res.payload.success == true){\r\n      setAlert(res.payload.msg, \"success\")\r\n    }\r\n  }\r\n  //Create Handle on form submit function\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if(name == \"\"){\r\n      setAlert(\"Please enter name\", \"error\")\r\n    }else if(description == \"\"){\r\n      setAlert(\"Please enter description\", \"error\")\r\n    }else if(status == \"\"){\r\n      setAlert(\"Please select status\", \"error\")\r\n    } else {\r\n      const res = await dispatch(addFeature(state))\r\n      if(res.payload?.success == true){\r\n        setAlert(res.payload.msg, \"success\")\r\n        setState(\"\")\r\n      }\r\n    }\r\n    \r\n  }\r\n  return (\r\n    <Box m=\"0px 20px 20px 20px\">\r\n      {/* Header for features page */}\r\n      <Header\r\n        title=\"FEATURES\"\r\n        subTitle=\"Managing Application Features\"\r\n        link=\"/features\"\r\n      />\r\n      <Box className=\"mainCard\">\r\n        {/* Add new Feature Form */}\r\n        <Form inputs={featureInputFields} state={state} setState={setState} submitBtn={\"Add Feature\"} submit={handleOnSubmit}/>\r\n        {/* Data Table of Features */}\r\n        <DataTable columns={featureColumns} rows={features} deleteItem={handleDelete} />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import { Box } from \"@mui/material\";\r\nimport Form from \"../../../Components/form/Form\";\r\nimport Header from \"../../../Components/Header/Header\";\r\nimport { featureInputFields } from \"../../../Components/sources/formSources\";\r\nimport { useDispatch, useSelector} from \"react-redux\"\r\n\r\n\r\nexport default function NewFeature() {\r\n \r\n  return (\r\n    <Box m=\"0px 20px 20px 20px\">\r\n      {/* Header for features page */}\r\n      <Header title=\"FEATURES\" subTitle=\"Managing Application Features\" />\r\n      {/* Add new Feature Form */}\r\n      <Form inputs={featureInputFields} />\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { Box } from \"@mui/material\";\r\nimport setAlert from '../../../../redux/alertSlice/setAlert';\r\nimport { packagesColumns } from \"../../../../Components/datatable/dataTableSources\";\r\nimport DataTable from \"../../../../Components/datatable/DataTable\";\r\nimport Header from \"../../../../Components/Header/Header\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { deletePackage, getPackages, clearPackages } from '../../../../redux/webAdmin/packagesSlice/packageSlice';\r\nimport \"./style.scss\";\r\n\r\n\r\n\r\nconst Packages = () => {\r\n\r\n  //Initializing dispatch hook to call get Packages function \r\n  // OR hit get packages API call\r\n  const dispatch = useDispatch()\r\n   //Initializing useSelector hook to get data\r\n   const packages = useSelector(state => state.packages.data)\r\n  //Use Effect To load all Packages into table\r\n  useEffect(()=>{\r\n    //Calling Dispatch function to Get All Packages\r\n    dispatch(getPackages())\r\n   //Calling unmount function to clear store state\r\n    return ()=> {\r\n      dispatch(clearPackages())\r\n    } \r\n    //eslint-disable-next-line\r\n  },[])\r\n //Function for handle delete package\r\n const handleDelete = async (id) => {\r\n  const res = await dispatch(deletePackage(id))\r\n  if(res.payload.success === true){\r\n    setAlert(res.payload.msg, \"error\")\r\n  }\r\n};\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for features page */}\r\n      <Header\r\n        title=\"PACKAGES\"\r\n        subTitle=\"Manage Application Packages\"\r\n        link=\"/packages/new\"\r\n      />\r\n      <Box className=\"mainCard\">\r\n        \r\n        {/* Data Table of Features */}\r\n        <DataTable columns={packagesColumns(handleDelete)} rows={packages} /> \r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Packages","import React from 'react';\r\nimport \"./form.scss\"\r\n\r\nconst FileInput = ({file, setFile}) => {\r\n  //Handle on File change \r\n  const handleOnChange = (e) => {\r\n    setFile(e.target.files[0])\r\n  }\r\n  return <div>\r\n    <input type=\"file\" onChange={handleOnChange}  className='fileInput'/>\r\n  </div>;\r\n};\r\n\r\nexport default FileInput;","import React from 'react'\r\nimport { MuiColorInput } from 'mui-color-input'\r\n\r\nconst ColorPicker = ({value, handleColorChange}) => {\r\n\r\n  return <MuiColorInput format=\"hex\"  style={{width: \"100%\"}} value={value} onChange={handleColorChange} />\r\n}\r\n\r\nexport default ColorPicker;","import React, {useState} from 'react'\r\nimport {  \r\n    TextField\r\n  } from \"@mui/material\";\r\n  import {Visibility, VisibilityOff} from '@mui/icons-material';\r\nconst PasswordInput = ({label, onChange, name, type, state}) => {\r\n    //Set State for handle password visisbility\r\n    const [visibility, setVisibility] = useState(false)\r\n\r\n    //Handle Password Visibility\r\n    const handleVisibility = () =>{\r\n        setVisibility(!visibility)\r\n    }\r\n  return (\r\n    <div style={{position: \"relative\"}}>\r\n        <TextField\r\n            label={label}\r\n            size=\"small\"\r\n            style={{minWidth: \"100%\"}}\r\n            onChange={onChange}\r\n            name={name}\r\n            type={visibility ? \"text\":type}\r\n            value={state[name]}\r\n        />\r\n        {visibility ? \r\n        <Visibility onClick={ () => handleVisibility()} style={{position: \"absolute\", right: \"15\", top: \"8\"}} /> :\r\n        <VisibilityOff onClick={()=>handleVisibility()} style={{position: \"absolute\", right: \"15\", top: \"8\"}} />\r\n        }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PasswordInput","import React from 'react'\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport 'react-phone-input-2/lib/style.css'\r\n\r\nconst CellInput = ({state, setState}) => {    \r\n  return (\r\n    \r\n     /*Text Field for the Contact of Tenant*/\r\n     <PhoneInput\r\n     name=\"Contact Number\"\r\n     country={'pk'}\r\n     masks={{pk: '...-.......'}}\r\n     placeholder=\"+92 300-1234567\"\r\n     value={state.contact}\r\n     onChange={contact => setState({...state, contact })}\r\n   />\r\n  )\r\n}\r\n\r\nexport default CellInput","import {\r\n  Button,\r\n  FormControl,\r\n  FormControlLabel,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Switch,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Radio,\r\n  RadioGroup,\r\n  FormLabel,\r\n  Box,\r\n} from \"@mui/material\";\r\nimport React from \"react\";\r\nimport \"./form.scss\";\r\nimport FileInput from \"./FileInput\";\r\nimport ColorPicker from \"./ColorPicker\";\r\nimport PasswordInput from \"./PasswordInput\";\r\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\r\nimport { LocalizationProvider } from \"@mui/x-date-pickers/LocalizationProvider\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\n// import { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\r\n// import SearchIcon from '@mui/icons-material/Search';\r\nimport CellInput from \"./CellInput\";\r\nimport dayjs from \"dayjs\";\r\nimport Avatar from \"react-avatar\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Form({\r\n  formTitle,\r\n  inputs,\r\n  file,\r\n  setFile,\r\n  state,\r\n  setState,\r\n  submit,\r\n}) {\r\n  //Handle on change function\r\n  const handleOnChange = (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  //Handle on Color Change\r\n  const handleColorChange = (colorValue) => {\r\n    setState({ ...state, color: colorValue });\r\n  };\r\n\r\n  //Get Input field according to type\r\n  const getField = (input) => {\r\n    switch (input.type) {\r\n      case \"text\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <TextField\r\n              label={input.label}\r\n              size=\"small\"\r\n              tabIndex={input.tabIndex}\r\n              disabled={input.disabled}\r\n              type={input.type}\r\n              name={input.name}\r\n              spellCheck={false}\r\n              value={state !== \"\" ? state[input.name] : \"\"}\r\n              onChange={handleOnChange}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"number\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <TextField\r\n              label={input.label}\r\n              size=\"small\"\r\n              type={input.type}\r\n              tabIndex={input.tabIndex}\r\n              name={input.name}\r\n              value={state !== \"\" ? state[input.name] : \"\"}\r\n              onChange={handleOnChange}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"switch\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n            <FormControlLabel\r\n              control={<Switch />}\r\n              disabled={input.disability}\r\n              name={input.name}\r\n              tabIndex={input.tabIndex}\r\n              label={input.label}\r\n              onChange={(e) =>\r\n                setState({ ...state, [input.name]: e.target.checked })\r\n              }\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"button\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n            {input.link ? <Button\r\n              tabIndex={input.tabIndex}\r\n              type={`${input.btntype}`}\r\n              color={`${input.color}`}\r\n              variant={input.variant}\r\n              component={Link}\r\n              to={input.link}\r\n              style={{ width: \"100%\" }}\r\n            >\r\n              {input.label}\r\n            </Button> : input.btnFunc ? <Button\r\n              tabIndex={input.tabIndex}\r\n              type=\"button\"\r\n              color={`${input.color}`}\r\n              variant={input.variant}\r\n              onClick={() => input.btnFunc()}\r\n              style={{ width: \"100%\" }}\r\n            >\r\n              {input.label}\r\n            </Button> : <Button\r\n              tabIndex={input.tabIndex}\r\n              type={`${input.btntype}`}\r\n              color={`${input.color}`}\r\n              variant={input.variant}\r\n              style={{ width: \"100%\" }}\r\n            >\r\n              {input.label}\r\n            </Button>}\r\n          </Grid>\r\n        );\r\n      case \"select\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <FormControl style={{ width: \"100%\" }} size=\"small\">\r\n              <InputLabel id=\"demo-simple-select-label\">\r\n                {input.label}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                value={\r\n                  state !== \"\" && state[input.name] !== undefined\r\n                    ? state[input.name]\r\n                    : \"\"\r\n                }\r\n                label={input.label}\r\n                tabIndex={input.tabIndex}\r\n                name={input.name}\r\n                size={input.size}\r\n                onChange={handleOnChange}\r\n                MenuProps={{\r\n                  PaperProps: {\r\n                    style: {\r\n                      maxHeight: 200, // Set a maximum height for the dropdown tray\r\n                      overflowY: \"auto\", // Enable vertical scrolling\r\n                    },\r\n                  },\r\n\r\n                }}\r\n                renderValue={(selectedValue) => {\r\n                  const selectedItem = input.options.find((item) => item.value === selectedValue);\r\n                  if (!selectedItem) return \"\"; // Handle no value\r\n\r\n                  return (\r\n                    <Box\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\", // Maintain the same design\r\n                        gap: \"16px\",\r\n                      }}\r\n                    >\r\n                      {/* Left Block */}\r\n                      <Box\r\n                        style={{\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          flex: 1,\r\n                        }}\r\n                      >\r\n                        {selectedItem.avatarUrl && (\r\n                          <Avatar\r\n                            src={selectedItem.avatarUrl}\r\n                            round\r\n                            size=\"30\"\r\n                            style={{ marginRight: \"10px\" }}\r\n                          />\r\n                        )}\r\n                        {selectedItem.name}\r\n                      </Box>\r\n\r\n                      {/* Center Block */}\r\n                      <Box\r\n                        style={{\r\n                          textAlign: \"center\",\r\n                          flex: 1,\r\n                        }}\r\n                      >\r\n                        {selectedItem.amount\r\n                          ? <><div>{`${selectedItem.amount.toLocaleString('en-US', { style: 'currency' ,\r\n                            currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}</div><div>{`${selectedItem.remAdv.toLocaleString('en-US', { style: 'currency' ,\r\n                              currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}</div></>\r\n                          : selectedItem.salary\r\n                            ? `${selectedItem.salary.toLocaleString('en-US', { style: 'currency' ,\r\n                              currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`\r\n                            : null}\r\n                      </Box>\r\n\r\n                      {/* Right Block */}\r\n                      <Box\r\n                        style={{\r\n                          textAlign: \"right\",\r\n                          flex: 1,\r\n                        }}\r\n                      >\r\n                        {selectedItem.designation\r\n                          ? `( ${selectedItem.designation} )`\r\n                          : selectedItem.date\r\n                            ? `( ${selectedItem.date} )`\r\n                            : null}\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                }}\r\n              >\r\n\r\n\r\n                {/* Mapping up the options of select component */}\r\n                {input.options &&\r\n                  input.options.map(\r\n                    (item) =>\r\n                      item && (\r\n                        <MenuItem key={item.id} value={item.value} style={{ display: \"flex\", justifyContent: \"space-between\", justifyItems: \"center\" }}>\r\n\r\n                          <Box style={{ flex: 2 }}>\r\n                            {item.avatarUrl && (\r\n                              <Avatar\r\n                                src={item.avatarUrl ? item.avatarUrl : item.avatarAlt}\r\n                                round\r\n                                size=\"30\"\r\n                                style={{ marginRight: 10 }}\r\n                              />\r\n                            )}\r\n                            {item.name}\r\n                          </Box>\r\n                          {item.amount ? <Box style={{ flex: 1 }}>\r\n                            <Box>{`${item.amount.toLocaleString('en-US', { style: 'currency' ,\r\n                              currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}</Box>{`${item.remAdv.toLocaleString('en-US', { style: 'currency' ,\r\n                              currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}</Box> : item.salary ? <Box style={{ flex: 1 }}>{`${item.salary.toLocaleString('en-US', { style: 'currency' ,\r\n                              currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 })}`}</Box> : null}\r\n                          {item.designation ? <Box style={{ flex: 1 }}>\r\n                            {\"( \" + item.designation + \" )\"}\r\n                          </Box> : item.date ? <Box style={{ flex: 1 }}>\r\n                            {\"( \" + item.date + \" )\"}\r\n                          </Box> : null}\r\n\r\n                        </MenuItem>\r\n                      )\r\n                  )}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        );\r\n      case \"colorInput\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n            <ColorPicker\r\n              value={state.color}\r\n              handleColorChange={handleColorChange}\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"file\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <FileInput file={file} setFile={setFile} />\r\n          </Grid>\r\n        );\r\n      case \"email\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <TextField\r\n              label={input.label}\r\n              size=\"small\"\r\n              tabIndex={input.tabIndex}\r\n              style={{ minWidth: \"100%\" }}\r\n              spellCheck={false}\r\n              onChange={handleOnChange}\r\n              name={input.name}\r\n              value={state[input.name]}\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"password\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <PasswordInput\r\n              label={input.label}\r\n              onChange={handleOnChange}\r\n              name={input.name}\r\n              type={input.type}\r\n              state={state}\r\n            />\r\n          </Grid>\r\n        );\r\n      case \"phone\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            <CellInput state={state} setState={setState} />\r\n          </Grid>\r\n        );\r\n      case \"date\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            {console.log(\"Name => \", input.name, \"value => \", state[input.name])}\r\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n\r\n              <DatePicker\r\n                label={input.label}\r\n                name={input.name}\r\n                format=\"DD-MM-YYYY\"\r\n                tabIndex={input.tabIndex}\r\n                value={state[input.name] !== \"\" ? dayjs(state[input.name], \"DD-MM-YYYY\") : null}\r\n                slotProps={{\r\n                  textField: { size: \"small\", fullWidth: true, error: false },\r\n                }}\r\n                onChange={(value) =>\r\n                  setState({\r\n                    ...state,\r\n                    [input.name]: dayjs(value.$d).format(\"DD-MM-YYYY\"),\r\n                  })\r\n                }\r\n              />\r\n            </LocalizationProvider>\r\n          </Grid>\r\n        );\r\n      case \"month\":\r\n        return (\r\n          <Grid\r\n            item\r\n            xs={input.grid.xs}\r\n            sm={input.grid.sm}\r\n            md={input.grid.md}\r\n            lg={input.grid.lg}\r\n            key={input.id}\r\n          >\r\n            {console.log(\"Name => \", input.name, \"Value => \", state[input.name])}\r\n            <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n              <DatePicker\r\n                label={input.label}\r\n                views={['month']}\r\n                name={input.name}\r\n                value={state[input.name] !== \"\" ? dayjs(state[input.name], 'MMM') : \"\"}\r\n                slotProps={{\r\n                  textField: { size: \"small\", fullWidth: true, error: false },\r\n                }}\r\n                onChange={(value) => {\r\n                  const formattedValue = value ? value.format('MMM') : null;\r\n                  setState({\r\n                    ...state,\r\n                    [input.name]: formattedValue,\r\n                  });\r\n                  console.log(value ? value.format(\"MMM\") : dayjs().format(\"MMM\"));\r\n                }}\r\n                format=\"MMM\"\r\n              />\r\n            </LocalizationProvider>\r\n          </Grid>\r\n        )\r\n      case \"radio\":\r\n        return (\r\n          <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n            <FormControl>\r\n              <FormLabel id=\"demo-radio-buttons-group-label\">\r\n                {input.label}\r\n              </FormLabel>\r\n              <RadioGroup\r\n                aria-labelledby=\"demo-radio-buttons-group-label\"\r\n                defaultValue=\"female\"\r\n                name={input.name}\r\n              >\r\n                {input.options.map(\r\n                  (item) =>\r\n                    item && (\r\n                      <FormControlLabel\r\n                        key={item.id}\r\n                        value={item.value}\r\n                        control={<Radio />}\r\n                        label={item.name}\r\n                      />\r\n                    )\r\n                )}\r\n              </RadioGroup>\r\n            </FormControl>\r\n          </Grid>\r\n        );\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n  return (\r\n    <form className=\"form\" onSubmit={submit}>\r\n      <div style={{ marginBottom: \"10px\", marginTop: \"10px\" }}>\r\n        <Typography>{formTitle}</Typography>\r\n      </div>\r\n\r\n      <Grid container spacing={2}>\r\n        {inputs.map((input) => getField(input))}\r\n      </Grid>\r\n    </form>\r\n  );\r\n}\r\n","import axios from \"axios\"\r\n// import React, {useContext} from 'react'\r\n// import AlertContext from '../context/alert/AlertContext';\r\n\r\n//creating file upload end point\r\nexport const FileUpload = async (file) => {\r\n//     //Initialization of Auth Context and Alert Context\r\n//    const alertContext = useContext(AlertContext);\r\n//    // Destructing of set Alert function using useContext hook\r\n//    const { setAlert, alerts } = alertContext;\r\n    try {\r\n        return await axios.post(\"http://localhost:5000/api/uploads\", file).then(res => res.data)\r\n    } catch (error) {\r\n        //Return Error to New Packages Component\r\n        return error.response.data\r\n    }\r\n}","import { Cancel } from '@mui/icons-material'\r\nimport { Chip, Typography } from '@mui/material'\r\nimport React from 'react'\r\n\r\nconst Card = ({heading, groups, deleteGroup, deleteFeature, features, dbfeatures}) => {\r\n\r\n \r\n  //Handle Get Feature Name by id\r\n  const getFeatureName = (id) => {\r\n      const name =  dbfeatures.filter(item => item.id === id)[0]?.feature\r\n      return name;\r\n  } \r\n  return (\r\n    <div className=\"card\" style={{marginTop: \"15px\"}}>\r\n        {/* Heading of the card  */}\r\n        <Typography>{heading || \"\"}</Typography>\r\n       \r\n        {/* check if group is an array then iterate groups using map  */}\r\n        {Array.isArray(groups) && groups.map(groupItem => <div key={groupItem.id}>\r\n            <div style={{display: 'flex', justifyContent: 'space-between', alignItems: \"center\"}}>\r\n            {/* Title for the features group  */}\r\n            <Typography>{groupItem.groupTitle}</Typography>\r\n            {/* Delete group function from list  */}\r\n            <Cancel onClick={()=> deleteGroup(groupItem.id)} sx={{fontSize: 20, color: \"#9c9c9c\"}}/>\r\n            \r\n            </div>\r\n            <div style={{display: \"flex\", gap: \"5px\", paddingTop: \"10px\", flexWrap: \"wrap\"}}>\r\n            {/* Check if features type is array then perform filter  */}\r\n            {Array.isArray(features) && features\r\n              .filter((item) => item.group === groupItem.id)\r\n              .map((item) => (\r\n                <div key={item.id}>\r\n                  {/* //After filtering and mapping iterate each item in chip  */}\r\n                <Chip  label={`${getFeatureName(item.id)}`} size=\"small\" onDelete={()=>deleteFeature(item.id)} />\r\n                </div>\r\n              ))}\r\n         \r\n        </div>\r\n        \r\n        </div>  \r\n        )} \r\n       \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card","import React, {useState, useEffect} from 'react'\r\nimport { Box, Grid } from \"@mui/material\";\r\nimport GridForm from \"../../../../Components/form/GridForm\";\r\nimport Header from \"../../../../Components/Header/Header\";\r\nimport PlanCard from \"../../../../Components/card/PlanCard\"\r\nimport setAlert from '../../../../redux/alertSlice/setAlert';\r\nimport \"./style.scss\";\r\nimport { packageFeatureForm, packageGroupForm, packagesInputFields } from \"../../../../Components/sources/formSources\";\r\nimport {addPackages, clearPackages, getSinglePackage, updatePackage} from \"../../../../redux/webAdmin/packagesSlice/packageSlice\"\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { FileUpload } from '../../../../backend/uploadFile';\r\nimport { clearFeatures, getFeatures } from '../../../../redux/webAdmin/featuresSlice/featureSlice';\r\nimport { v4 as uuid } from \"uuid\";\r\nimport Card from '../../../../Components/card/Card';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst NewPackage = () => {\r\n  \r\n   //Initialize use Dispatch to use Package Slice and get Features\r\n   const dispatch = useDispatch()\r\n  //Initializing useSelector to get all features\r\n  const features = useSelector(state => state.features)\r\n  //Initializing useSelector to get Current Package for update\r\n  const get_package = useSelector(state => state.packages.current)\r\n \r\n\r\n \r\n  //Initializing useParams Hook\r\n  const {id} = useParams()\r\n \r\n  useEffect(()=>{\r\n    //if Package id is not undefined Check if current package is not empty\r\n    if(id !== undefined && Object.keys(get_package).length !== 0 ){\r\n      //Set Current Package in state for update\r\n      setState({...get_package})\r\n    } else {\r\n      //Set State to empty\r\n      setState({\r\n        name: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        expiresInMonths: \"\",\r\n        group: [],\r\n        features: [],\r\n        color: \"\",\r\n        image: \"\",\r\n        status: \"\"\r\n      });\r\n    }\r\n    // eslint-disable-next-line\r\n  },[get_package])\r\n  //Use Effect to load all features from the store\r\n  useEffect(()=> {\r\n    if(id !== undefined){\r\n      dispatch(getSinglePackage(id))\r\n    }\r\n    //Calling get features function from dispatch\r\n    dispatch(getFeatures())\r\n   \r\n    //Calling unmount function to clear the store on unmount\r\n    return () => {\r\n      dispatch(clearFeatures())\r\n      dispatch(clearPackages())\r\n    }\r\n   // eslint-disable-next-line\r\n  },[id])\r\n  \r\n\r\n   // State for input values\r\n   const [state, setState] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    expiresInMonths: \"\",\r\n    group: [],\r\n    features: [],\r\n    color: \"\",\r\n    image: \"\",\r\n    status: \"\"\r\n   });\r\n\r\n   const u_id = uuid;\r\n   //State for groups input values\r\n   const [group, setGroup] = useState({\r\n    id: u_id(),\r\n    groupTitle: \"\",\r\n    groupDescription: \"\",\r\n    groupStatus: \"\"\r\n   })\r\n\r\n   //For Select option values\r\n   const [feature, setFeature] = useState({\r\n    selectgroup: \"\",\r\n    selectfeature: \"\",\r\n  });\r\n   //State for file Input\r\n   const [file, setFile] = useState(\"\");\r\n   //Handle Add Group btn function \r\n   const handleGroupBtnFunc = (e) => {\r\n    e.preventDefault()\r\n    if(group.groupTitle === \"\"){\r\n      setAlert(\"Please enter group name\", \"error\")\r\n    }else if(group.groupDescription === \"\"){\r\n      setAlert(\"Please enter group description\", \"error\")\r\n    }else if(group.groupStatus === \"\"){\r\n      setAlert(\"Please select group status\", \"error\")\r\n    }\r\n    else {\r\n      state.group.push(group)\r\n      setAlert(\"Group Added successfully\", \"success\")\r\n      setGroup({id: u_id(), groupTitle: \"\", groupDescription: \"\", groupStatus: \"\"})\r\n    }\r\n   }\r\n   //Handle Add Feature btn function\r\n   const handleAddFeatureBtn = (e) => {\r\n      e.preventDefault()\r\n      if(feature.selectgroup === \"\"){\r\n        setAlert(\"Please select group\", \"error\")\r\n      }else if(feature.selectfeature === \"\"){\r\n        setAlert(\"Please select feature\", \"error\")\r\n      }else {\r\n        const addfeature = {id: feature.selectfeature, group: feature.selectgroup}\r\n        state.features.push(addfeature)\r\n        setAlert(\"Feature added successfully\", \"success\")\r\n        setFeature({selectgroup: \"\", selectfeature: \"\",})\r\n      }\r\n   }\r\n  //Handle Delete Feature from Groups\r\n  const handleFeatureDelete = (id) => {\r\n    const features = state.features.filter(item => item.id !== id)\r\n    setState({...state, features: features })\r\n  }\r\n  //Handle Delete Group and related Features\r\n  const handleGroupDelete = (id) => {\r\n    const groups = state.group.filter(item => item.id !== id)\r\n    const features = state.features.filter(item => item.group !== id)\r\n    setState({...state, features: features, group: groups})\r\n  }\r\n  //Creating handle on submit function\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault() // to avoid default function of submit\r\n    const {name, description, price, expiresInMonths, group, features, status } = state\r\n\r\n    if(name === \"\"){\r\n      setAlert(\"Please enter package name\", \"error\")\r\n    } else if(description === \"\"){\r\n      setAlert(\"Please enter package description\", \"error\")\r\n    } else if(price === \"\"){\r\n      setAlert(\"Please enter package price\", \"error\")\r\n    } else if( expiresInMonths === \"\"){\r\n      setAlert(\"Please enter total months for expiration\", \"error\")\r\n    } else if(group.length === 0){\r\n      setAlert(\"Please add features group\", \"error\")\r\n    } else if(features.length === 0){\r\n      setAlert(\"Add features in group\", \"error\")\r\n    }\r\n    else if( status === \"\"){\r\n      setAlert(\"Please select status for package\", \"error\")\r\n    } else {\r\n\r\n      handleAddorUpdate()\r\n    }\r\n   }\r\n  //Handle Add or Update \r\n  const handleAddorUpdate = async () =>{\r\n\r\n    //Function to convert file data in form data for upload\r\n    function getFormData(object) {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", object)\r\n      return formData;\r\n    }\r\n     //File Upload Axios Endpoint function\r\n     const res = await FileUpload(getFormData(file))\r\n\r\n     if(res?.success === true) {\r\n      \r\n         //NewState variable\r\n         const newState = {...state}\r\n         newState.image = res.filename\r\n         //Add uploaded file name into the state\r\n         setState(newState)\r\n         \r\n         const request = async () => {\r\n          //After uploading image file submit other fields\r\n            if(id !== undefined){\r\n              const data = {\r\n                id: id,\r\n                Data: newState\r\n              }\r\n              return  dispatch(updatePackage(data))\r\n            } else {\r\n\r\n              return  dispatch(addPackages(newState))\r\n            }\r\n         }\r\n          //Calling add Packages from Redux Package Slice\r\n          const resp =  await request()\r\n          if(resp.payload.success === true) {\r\n           \r\n           setAlert(resp.payload.msg, \"success\")\r\n           //After successfully added package clear the state\r\n           if(id === undefined){\r\n           \r\n              setState({\r\n                name: \"\",\r\n                description: \"\",\r\n                price: \"\",\r\n                expiresInMonths: \"\",\r\n                group: [],\r\n                features: [],\r\n                color: \"\",\r\n                image: \"\",\r\n                status: \"\"\r\n              });\r\n            }\r\n           //After successfully added package clear the file state\r\n           setFile(\"\")\r\n         } else {\r\n           setAlert(resp.payload.msg, \"error\")\r\n         }\r\n       } else if(res.success === false) {\r\n         setAlert(res.msg, \"error\")\r\n       }\r\n  }\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for packages page */}\r\n      <Header\r\n        title=\"PACKAGES\"\r\n        subTitle=\"Managing Application Packages\"\r\n        link=\"/packages/new\"\r\n      />\r\n      <Box className=\"mainCard\">\r\n      <Grid container spacing={2}> \r\n        <Grid item xs={12} sm={4}>\r\n            <PlanCard style={{marginTop: \"10px\"}} title={state?.name} color={state?.color} price={state?.price} feature={state?.group} image={file ? URL.createObjectURL(file) : state?.image ? `http://localhost:5000/public/packages/images/${state.image}`: \"/img/file_upload.png\"}/>\r\n            <Card heading={\"Features\"} deleteGroup={handleGroupDelete} deleteFeature={handleFeatureDelete} groups={state?.group} features={state?.features} dbfeatures={features}/>\r\n        </Grid>\r\n        <Grid item xs={12} sm={8}>\r\n            {/* Add new Package Group Form  */}\r\n            <GridForm formTitle={`${id === undefined ? \"Add Package Group Form\" : \"Update Package Group Form\"}`} submit={handleGroupBtnFunc} inputs={packageGroupForm()} state={group} setState={setGroup}/>\r\n            {/* Add new Package Feature in Group Form  */}\r\n            <GridForm formTitle={`${id === undefined ? \"Add Package Feature Form\" : \"Update Package Feature Form\"}`} submit={handleAddFeatureBtn} state={feature} setState={setFeature} inputs={packageFeatureForm(features, state.group)} />\r\n            {/* Add new Packages Form */}\r\n            <GridForm \r\n            formTitle={`${id === undefined ? \"Add Package Form\" : \"Update Package Form\"}`}\r\n            inputs={packagesInputFields(id === undefined ? \"Add Package\" : \"Update Package\")} \r\n            file={file} setFile={setFile} \r\n            state={state} setState={setState} \r\n            submit={handleOnSubmit} />\r\n\r\n        </Grid>\r\n      \r\n      </Grid>\r\n       \r\n      </Box>\r\n    </Box>\r\n   \r\n  )\r\n}\r\n\r\nexport default NewPackage","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport { TextField } from \"@mui/material\";\r\n\r\nconst Dialogue = ({\r\n  openDeleteDialog,\r\n  setConfirmInput,\r\n  handleOnDelete,\r\n  setOpenDeleteDialog,\r\n  confirmInput,\r\n  heading,\r\n  icon,\r\n  color,\r\n  message,\r\n}) => {\r\n\r\n    //Create Handle on Delete\r\n    const handleDelete = () => {\r\n        handleOnDelete()\r\n        setOpenDeleteDialog(false)\r\n    }\r\n  return (\r\n    <>\r\n      {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n    Open alert dialog\r\n  </Button> */}\r\n      <Dialog\r\n        open={openDeleteDialog}\r\n        onClose={()=> setOpenDeleteDialog(false)}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle\r\n          id=\"alert-dialog-title\"\r\n          style={{\r\n            color: color,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            fontSize: \"16px\",\r\n            fontWeight: \"800\",\r\n          }}\r\n        >\r\n          {icon}\r\n          {heading}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText>\r\n          {setConfirmInput  && <TextField\r\n            label=\"Enter Email\"\r\n            id=\"outlined-size-small\"\r\n            size=\"small\"\r\n            type=\"text\"\r\n            name=\"confirmInput\"\r\n            value={confirmInput}\r\n            onChange={(e) => setConfirmInput(e.target.value)}\r\n            style={{ width: \"100%\", marginTop: \"20px\" }}\r\n          />}\r\n        </DialogContent>\r\n        <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n          <Button variant=\"outlined\" onClick={() => setOpenDeleteDialog(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"outlined\" onClick={handleDelete} autoFocus>\r\n            Confirm\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dialogue;\r\n","import {\r\n    Button,\r\n    FormControl,\r\n    FormControlLabel,\r\n    FormGroup,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    Switch,\r\n    Grid,\r\n    Typography\r\n  } from \"@mui/material\";\r\n  import React from \"react\";\r\n\r\nconst FilterForm = ({formTitle, inputs, filters, setFilter}) => {\r\n\r\n    // This handle on change changes search filters on change \r\n        const handleOnChange = (e) => {\r\n            setFilter({...filters, [e.target.name]: e.target.value})\r\n        }\r\n\r\n        \r\n        //Get Input field according to type\r\n        const getField = (input) => {\r\n            switch (input.type) {\r\n              case \"switch\":\r\n                return (\r\n                  <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n                    <FormGroup>\r\n                      <FormControlLabel\r\n                        control={<Switch checked={filters[input.name]}/>}\r\n                        disabled={input.disability}\r\n                        name={input.name}\r\n                        label={input.label}\r\n                        onChange={(e)=>setFilter({...filters, [input.name]: e.target.checked})}\r\n                      />\r\n                    </FormGroup>\r\n                  </Grid>\r\n                );\r\n              case \"button\":\r\n                return (\r\n                  <Grid item xs={input.grid.xs} sm={input.grid.sm} key={input.id}>\r\n                    <Button type={`${input.btntype}`} color={`${input.color}`} variant={input.variant} style={{width: \"100%\"}}>\r\n                      {input.label}\r\n                    </Button>\r\n                  </Grid>\r\n                );\r\n              case \"select\":\r\n                return (\r\n                  <Grid item xs={input.grid.xs} sm={input.grid.sm} md={input.grid.md} lg={input.grid.lg} key={input.id}>\r\n                    <FormControl style={{width: \"100%\"}} size=\"small\">\r\n                      <InputLabel id=\"demo-simple-select-label\">\r\n                        {input.label}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        style={{ minWidth: input.minWidth, paddingTop: \"-10px\", width: \"100%\" }}\r\n                        value={filters !== \"\" && filters[input.name] !== undefined?  filters[input.name] : \"\"}\r\n                        label={input.label}\r\n                        name={input.name}\r\n                        size={input.size}\r\n                        onChange={handleOnChange}\r\n                      >\r\n                      {/* Mapping up the options of select component */}\r\n                        {input.options &&\r\n                          input.options.map((item) => (\r\n                            item && <MenuItem key={item.id} value={item.value}>\r\n                              \r\n                              {item.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                );\r\n              default:\r\n                return\r\n            }\r\n          };\r\n  return (\r\n    <form className=\"form\" >\r\n          <div style={{marginBottom: \"10px\", marginTop: \"10px\"}}>\r\n            <Typography >{formTitle}</Typography>\r\n          </div>\r\n        <Grid container spacing={2}>\r\n          {inputs.map((input) => getField(input))}\r\n        </Grid>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default FilterForm","import { FilterList } from \"@mui/icons-material\";\r\nimport SyncIcon from \"@mui/icons-material/Sync\";\r\nimport { Box, IconButton, Typography } from \"@mui/material\";\r\nimport \"./searchBar.scss\";\r\nimport React from \"react\";\r\nimport FilterForm from \"./FilterForm\";\r\nimport GridForm from \"../form/GridForm\";\r\n\r\n\r\nconst Search = ({\r\n  filters,\r\n  submit,\r\n  setFilter,\r\n  state,\r\n  setState,\r\n  loadDataFunc,\r\n  openFiltersPanel,\r\n  setOpenFiltersPanel,\r\n  searchFiltersForm,\r\n  searchInputForm\r\n}) => {\r\n  \r\n  //Handle open filters panel\r\n  const handleOpenFiltersPanel = (event) => {\r\n    event.preventDefault();\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n  };\r\n\r\n  //Handle clear filters function\r\n  const handleClearFilters = () => {\r\n    //Clear the filters\r\n    setFilter({ ...filters, field: \"\", operator: \"\", sort: -1 });\r\n    //clear the input state as well\r\n    setState({ searchInput: \"\", startDate: \"\", endDate: \"\" });\r\n    //If Filters panel is open then close it\r\n    openFiltersPanel\r\n      ? setOpenFiltersPanel(!openFiltersPanel)\r\n      : setOpenFiltersPanel(openFiltersPanel);\r\n    //Reload the fetch data or normal get\r\n    loadDataFunc();\r\n  };\r\n  return (\r\n    <Box>\r\n      {/* FILTER COMPONENTS  */}\r\n      <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <IconButton onClick={handleOpenFiltersPanel}>\r\n            <FilterList />\r\n          </IconButton>\r\n          <Typography>Filter</Typography>\r\n        </Box>\r\n        {filters.field !== \"\" && (\r\n          <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <IconButton onClick={handleClearFilters}>\r\n              <SyncIcon />\r\n            </IconButton>\r\n            <Typography>Clear Filters</Typography>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      <Box\r\n        className={\r\n          openFiltersPanel ? \"searchArea searchAreaActive\" : \"searchArea\"\r\n        }\r\n      >\r\n        <FilterForm\r\n          inputs={searchFiltersForm(filters)}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n        />\r\n        {/* SEARCH INPUTS  */}\r\n        <Box>\r\n           <GridForm\r\n            inputs={searchInputForm(filters)}\r\n            submit={submit}\r\n            state={state}\r\n            setState={setState}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../../../Components/Header/Header\";\r\nimport DataTable from \"../../../../Components/datatable/DataTable\";\r\nimport { tenantsColumns } from \"../../../../Components/datatable/dataTableSources\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { \r\n  clearTenants,\r\n  deleteTenant,\r\n  getTenants,\r\n} from \"../../../../redux/webAdmin/tenantSlice/tenantSlice\";\r\nimport Dialogue from \"../../../../Components/dialogue/Dialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {Business} from \"@mui/icons-material\";\r\nimport Search from \"../../../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport { searchTenantFilters, searchTenantInput } from \"../../../../Components/sources/formSources\";\r\n\r\nconst Tenants = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const tenants = useSelector((state) => state.tenants.data);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.tenants.totalRecord);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use state for confirm Input for delete\r\n  const [confirmInput, setConfirmInput] = useState(\"\");\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [state, setState] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n  });\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //useEffect to dispatch all tenants\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getTenants using dispatch\r\n    dispatch(getTenants(initialData));\r\n\r\n    //Call clear tenants to clear tenants from state on unmount\r\n    return () => {\r\n      dispatch(clearTenants());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n  //Handle Delete Tenant func\r\n  const handleOnDelete = () => {\r\n    //Getting email from data results to confirm for delete\r\n    const tenant = tenants.filter((item) => item.id === selectedRowId[0]);\r\n    //Iterate items\r\n    tenant.forEach((element) => {\r\n      //Verify Confirm Input with backend data\r\n      if (confirmInput === element.email) {\r\n        dispatch(deleteTenant(selectedRowId));\r\n      } else {\r\n        toast(\"Email not matches\", {\r\n          position: \"top-right\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getTenants using dispatch\r\n    dispatch(getTenants(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getTenants(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getTenants(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if(field !== \"\" && searchInput !== \"\" && operator === \"\"){\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getTenants(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getTenants(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getTenants(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getTenants(newState));\r\n      }\r\n    }\r\n  };\r\n\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence.split(' ').map(word => {\r\n      return word.charAt(0).toUpperCase() + word.slice(1);\r\n    }).join(' ');\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedTenantsRows = tenants.map(row => ({\r\n    ...row,\r\n     ownerName: row.ownerName && capitalizeEachWord(row.ownerName),\r\n     username: row.username && capitalizeEachWord(row.username),\r\n     tenantName: row.tenantName && capitalizeEachWord(row.tenantName),\r\n     address: row.address && capitalizeEachWord(row.address)\r\n  }\r\n  ));\r\n\r\n  console.log(capitalizedTenantsRows)\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<Business style={{marginRight: \"10px\"}}/>}\r\n        title=\"Tenants\"\r\n        subTitle=\"Manage Application Tenants\"\r\n        link=\"/tenants/new\"\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          confirmInput={confirmInput}\r\n          setConfirmInput={setConfirmInput}\r\n          heading={\"DELETE TENANT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Tenant? Once you delete it's entire record will be deleted, and you can never get it back.\"\r\n          }\r\n        />\r\n        {/* Here we calling Search component in which we \r\n          are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={state}\r\n          setState={setState}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchTenantFilters}\r\n          searchInputForm={searchTenantInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={tenantsColumns(setOpenDeleteDialog)}\r\n          rows={capitalizedTenantsRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Tenants;\r\n","import React from 'react';\r\nimport Avatar from \"react-avatar\";\r\nimport \"./form.scss\"\r\n\r\nconst AvatarInput = ({file, setFile}) => {\r\n  //Handle on File change \r\n  const handleOnChange = (e) => {\r\n    setFile(e.target.files[0])\r\n    // document.getElementById('wrapper').style.backgroundImage = `url(${URL.createObjectURL(file)})`\r\n  }\r\n  return <div className='avatarInputWrapper' id='wrapper'>\r\n    <img src={file && URL.createObjectURL(file)} width=\"130px\" height=\"130px\" />\r\n    <input type=\"file\" onChange={handleOnChange}  className='avatarInput'/>\r\n  </div>;\r\n};\r\n\r\nexport default AvatarInput;","import React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../../../Components/Header/Header\";\r\nimport GridForm from \"../../../../Components/form/GridForm\";\r\nimport { Box } from \"@mui/material\";\r\nimport { tenantForm } from \"../../../../Components/sources/formSources\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FileUpload } from \"../../../../backend/uploadFile\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"./style.scss\";\r\nimport {\r\n  addTenant,\r\n  getSingleTenant,\r\n  getTenantPackages,\r\n  updateTenant,\r\n} from \"../../../../redux/webAdmin/tenantSlice/tenantSlice\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Avatar from \"react-avatar\";\r\nimport AvatarInput from \"../../../../Components/form/AvatarInput\";\r\n\r\nconst NewTenant = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Use selector to get packages from redux store\r\n  const packages = useSelector((state) => state.tenants.packages);\r\n  //Use selector to get Current Tenant\r\n  const get_tenant = useSelector((state) => state.tenants.current);\r\n  //De-Structure id from useParams\r\n  const { id } = useParams();\r\n\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    ownerName: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    tenantName: \"\",\r\n    contact: \"\",\r\n    address: \"\",\r\n    packageId: \"\",\r\n    status: \"\",\r\n    date: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    logo: \"\",\r\n    subscriptionId: \"\",\r\n  });\r\n  //State for file Input\r\n  const [file, setFile] = useState(\"\");\r\n  //Use Effect to get Single Tenant API Hit\r\n  useEffect(() => {\r\n    if (id !== undefined) {\r\n      //Dispatch current tenant\r\n      dispatch(getSingleTenant(id));\r\n    }\r\n    //Dispatch all active packages\r\n    dispatch(getTenantPackages(\"active\"));\r\n  }, [id]);\r\n\r\n  console.log(file);\r\n  //Use Effect hook to hit API call\r\n  useEffect(() => {\r\n    //Check for id\r\n    if (id !== undefined && Object.keys(get_tenant).length !== 0) {\r\n      //Set Current Tenant in state for update\r\n      setState({ ...state, ...get_tenant });\r\n      // Function to convert URL back to file\r\n      async function urlToFile(url) {\r\n        // Fetch the file\r\n        let response = await fetch(url);\r\n        let data = await response.blob();\r\n        let metadata = {\r\n          type: \"image/jpeg\",\r\n        };\r\n        let file = new File([data], \"test.jpg\", metadata);\r\n        console.log(file);\r\n        // Return the file object\r\n        return file;\r\n      }\r\n\r\n      async function loadFile() {\r\n        const fileGenerated = await urlToFile(\r\n          `http://localhost:5000/public/tenants/images/${get_tenant.logo}`\r\n        );\r\n\r\n        //Set file\r\n        setFile(fileGenerated);\r\n      }\r\n     \r\n      if(get_tenant.logo){\r\n        loadFile();\r\n      }\r\n    } else {\r\n      //Else set state to empty\r\n      setState({\r\n        ownerName: \"\",\r\n        username: \"\",\r\n        email: \"\",\r\n        tenantName: \"\",\r\n        contact: \"\",\r\n        address: \"\",\r\n        packageId: \"\",\r\n        status: \"\",\r\n        date: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        subscriptionId: \"\",\r\n      });\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [get_tenant]);\r\n\r\n  //Destructure values from the state\r\n  const {\r\n    ownerName,\r\n    username,\r\n    email,\r\n    tenantName,\r\n    contact,\r\n    address,\r\n    password,\r\n    status,\r\n    date,\r\n    packageId,\r\n    confirmPassword\r\n  } = state;\r\n\r\n  //Handle on submit function\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (ownerName === \"\") {\r\n      toast(\"Enter owner name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (username === \"\") {\r\n      toast(\"Enter username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (email === \"\") {\r\n      toast(\"Enter username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (tenantName === \"\") {\r\n      toast(\"Enter enter company name\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (contact === \"\") {\r\n      toast(\"Enter username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (address === \"\") {\r\n      toast(\"Enter username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (password === \"\") {\r\n      toast(\"Enter username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (packageId === \"\") {\r\n      toast(\"Please select package\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\"){\r\n      toast(\"Please select date\", {position: \"top-right\", type: \"error\"})\r\n    }  else if(password !== confirmPassword){\r\n      toast(\"Password does not Match !\", {position: \"top-right\", type: \"error\"})\r\n    }  else {\r\n      //Check for image uploaded \r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.logo = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (id !== undefined) {\r\n            const data = {\r\n              id: id,\r\n              Data: newState,\r\n            };\r\n\r\n            console.log(\"Checking data before send => \", data)\r\n            //Hit API Call using dispatch to updated tenant\r\n            dispatch(updateTenant(data));\r\n            //After added tenant clear states\r\n            setState({\r\n              ownerName: \"\",\r\n              username: \"\",\r\n              email: \"\",\r\n              tenantName: \"\",\r\n              contact: \"\",\r\n              address: \"\",\r\n              packageId: \"\",\r\n              status: \"\",\r\n              date: \"\",\r\n              password: \"\",\r\n              logo: \"\",\r\n              subscriptionId: \"\",\r\n            });\r\n            //Also file state\r\n            setFile(\"\");\r\n          } else {\r\n            //Hit API Call using dispatch to add tenant\r\n            dispatch(addTenant(newState));\r\n            //After added tenant clear states\r\n            setState({\r\n              ownerName: \"\",\r\n              username: \"\",\r\n              email: \"\",\r\n              tenantName: \"\",\r\n              contact: \"\",\r\n              address: \"\",\r\n              packageId: \"\",\r\n              status: \"\",\r\n              date: \"\",\r\n              password: \"\",\r\n              logo: \"\",\r\n              subscriptionId: \"\",\r\n            });\r\n            //Also file state\r\n            setFile(\"\");\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (id !== undefined) {\r\n          const data = {\r\n            id: id,\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated tenant\r\n          dispatch(updateTenant(data));\r\n          //After added tenant clear states\r\n          setState({\r\n            ownerName: \"\",\r\n            username: \"\",\r\n            email: \"\",\r\n            tenantName: \"\",\r\n            contact: \"\",\r\n            address: \"\",\r\n            packageId: \"\",\r\n            status: \"\",\r\n            date: \"\",\r\n            password: \"\",\r\n            logo: \"\",\r\n            subscriptionId: \"\",\r\n          });\r\n          //Also file state\r\n          setFile(\"\");\r\n        } else {\r\n          //Hit API Call using dispatch to add tenant\r\n          dispatch(addTenant(state));\r\n          //After added tenant clear states\r\n          setState({\r\n            ownerName: \"\",\r\n            username: \"\",\r\n            email: \"\",\r\n            tenantName: \"\",\r\n            contact: \"\",\r\n            address: \"\",\r\n            packageId: \"\",\r\n            status: \"\",\r\n            date: \"\",\r\n            password: \"\",\r\n            logo: \"\",\r\n            subscriptionId: \"\",\r\n          });\r\n          //Also file state\r\n          setFile(\"\");\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for New Tenant Page  */}\r\n      <Header title=\"New Tenant\" subTitle=\"Manage Application Tenants\" />\r\n      {/* Card for Add New Tenant Form  */}\r\n      <Box className=\"mainCard\">\r\n        {/* Setup Grid for Add and Update Tenant form  */}\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            paddingTop: \"8px\",\r\n            paddingBottom: \"8px\",\r\n          }}\r\n        >\r\n          <AvatarInput file={file} setFile={setFile} />\r\n        </div>\r\n        {/* Add New Tenant Form  */}\r\n        {packages.length > 0 && (\r\n          <GridForm\r\n            title=\"Add New Tenant\"\r\n            inputs={tenantForm(\"Add Tenant\", packages)}\r\n            state={state}\r\n            setState={setState}\r\n            file={file}\r\n            setFile={setFile}\r\n            submit={handleOnSubmit}\r\n          />\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NewTenant;\r\n","import { Link } from \"react-router-dom\";\r\nimport { Delete, Edit, Info, Style } from \"@mui/icons-material\";\r\nimport { IconButton, Chip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export User Columns\r\nexport const userColumns = (setOpenFormDialog, setDetailsDialog, setOpenDeleteDialog ) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"user\",\r\n    headerName: \"User\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={\r\n              // console.log(\"Check for user iMage\", params.row)\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/users/images/${params.row.pic}`\r\n                : \"avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"/>\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"contact\", headerName: \"Contact\", width: 150 },\r\n  { field: \"access\", headerName: \"Role\", width: 120 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n//DATA TABLE FORMATE FOR TENANTS\r\nexport const tenantsRows = [\r\n  {\r\n    id: 1,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    // username: \"kashif\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n];\r\n","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport GridForm from \"../form/GridForm\";\r\nimport { Box, IconButton, TextField } from \"@mui/material\";\r\nimport AvatarInput from \"../form/AvatarInput\";\r\nimport { Dangerous } from \"@mui/icons-material\";\r\n\r\nconst FormDialogue = ({\r\n  openFormDialog, \r\n  heading,\r\n  icon,\r\n  color,\r\n  state,\r\n  setState,\r\n  file,\r\n  setFile,\r\n  handleOnClose,\r\n  handleOnSubmit,\r\n  inputs,\r\n}) => {\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n    Open alert dialog\r\n  </Button> */}\r\n      <Dialog\r\n        open={openFormDialog}\r\n        onClose={handleOnClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle\r\n          id=\"alert-dialog-title\"\r\n          style={{\r\n            color: color,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            fontSize: \"16px\",\r\n            fontWeight: \"800\",\r\n          }}\r\n        >\r\n          <Box style={{\r\n            color: color,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            \r\n            fontSize: \"16px\",\r\n            fontWeight: \"600\",\r\n          }}>\r\n          {icon}\r\n          {heading}\r\n          </Box>\r\n          <Box>\r\n            <IconButton onClick={handleOnClose}>\r\n              <Dangerous/>\r\n            </IconButton>\r\n         \r\n          </Box>\r\n         \r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {/* <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText> */}\r\n         {/* Add New Tenant Form  */}\r\n         {setFile && <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            paddingTop: \"8px\",\r\n            paddingBottom: \"8px\",\r\n          }}\r\n        >\r\n          <AvatarInput file={file} setFile={setFile} />\r\n        </div>}\r\n         <GridForm\r\n            title=\"Add New Tenant\"\r\n            inputs={inputs}\r\n            state={state}\r\n            setState={setState}\r\n            file={file}\r\n            setFile={setFile}\r\n            submit={handleOnSubmit}\r\n          />\r\n        </DialogContent>\r\n        {/* <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n         \r\n        </DialogActions> */}\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FormDialogue;\r\n","//Add new customer form fields\r\nexport const customerInputFields =(selectedRowId, currentCustomer) => [\r\n    {\r\n      id: 1,\r\n      label: \"Name\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      tabIndex: 0,\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Email\",\r\n      tabIndex: 1,\r\n      type: \"email\",\r\n      name: \"email\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n   \r\n    {\r\n      id: 3,\r\n      label: \"Contact\",\r\n      tabIndex: 2,\r\n      type: \"phone\",\r\n      name: \"contact\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Balance\",\r\n      tabIndex: 3,\r\n      type: \"number\",\r\n      name: \"balance\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    \r\n    {\r\n      id: 5,\r\n      label: \"Address\",\r\n      tabIndex: 4,\r\n      type: \"text\",\r\n      name: \"address\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 6,\r\n      label: \"Status\",\r\n      type: \"select\",\r\n      tabIndex: 5,\r\n      disable: false,\r\n      name: \"status\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6,  \r\n      },\r\n      options: [\r\n        { id: 1, name: \"Active\", value: \"active\" },\r\n        { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n      ],\r\n    },\r\n    {\r\n        id: 7,\r\n        label: selectedRowId !== null && Object.keys(currentCustomer).length !== 0 ? \"Update Customer\":\"ADD CUSTOMER\",\r\n        type: \"button\",\r\n        tabIndex: 6,\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n\r\n//SEARCH CustomerS Filters\r\nexport const searchCustomerFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Email\", value: \"email\" },\r\n        { id: 3, name: \"Contact\", value: \"contact\" },\r\n        { id: 4, name: \"Balance\", value: \"balance\" },\r\n        { id: 5, name: \"Address\", value: \"address\" },\r\n        { id: 6, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH CUSTOMERS INPUTS\r\nexport const searchCustomerInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}","import { Box, Grid, Typography } from '@mui/material'\r\nimport React from 'react'\r\n\r\nconst DetailsPaper = ({ inputs }) => {\r\n  //Capitalize function \r\n  const capitalizeEachWord = (str) => {\r\n    // Ensure the input is a string\r\n    if (typeof str !== 'string') {\r\n      return '';\r\n    }\r\n\r\n    // Step 1: Split the PascalCase string into individual words based on transitions between lowercase and uppercase\r\n    const words = str.match(/([A-Z][a-z]+|[a-z]+)/g);\r\n\r\n    // Step 2: Handle cases where no matches are found (words is null)\r\n    if (!words) {\r\n      return str; // If no matches, return the original string\r\n    }\r\n\r\n    // Step 3: Capitalize the first letter of all words\r\n    const capitalizedWords = words.map((word, index) => {\r\n      // Capitalize the first word, but leave others as lowercase\r\n      return index === 0 ? word.charAt(0).toUpperCase() + word.slice(1).toLowerCase() : word.toLowerCase();\r\n    });\r\n\r\n    // Step 4: Join the words back into a single string with spaces between them\r\n    return capitalizedWords.join(' ');\r\n  }\r\n  return (\r\n\r\n    <Grid container spacing={2}>\r\n      {\r\n        Object.entries(inputs).map(([key, value], i) => {\r\n          return (\r\n            key !== \"_id\" && key !== \"pic\" && <Grid item xs={12} sm={6} md={6} lg={6} key={i}>\r\n              <Box style={{ display: \"flex\", gap: 10 }} >\r\n\r\n                <Typography>{capitalizeEachWord(key)}</Typography> :\r\n                {value === \"active\" || value === \"deactive\" ? <div style={{ background: value === \"active\" ? \"#02bf2e\" : \"#777\", color: \"white\", width: 70, textAlign: \"center\", borderRadius: 4 }}>\r\n                {capitalizeEachWord(String(value))}\r\n                </div> : key === \"salary\" ?<Typography>{`Rs. ${capitalizeEachWord(String(value))}`}</Typography> : key === \"email\"? <Typography>{String(value)}</Typography>:<Typography>{capitalizeEachWord(String(value))}</Typography>}\r\n              </Box>\r\n            </Grid>\r\n          )\r\n        })\r\n        // console.log(check)\r\n\r\n\r\n      }\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default DetailsPaper","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport GridForm from \"../form/GridForm\";\r\nimport { Box, IconButton, TextField } from \"@mui/material\";\r\nimport AvatarInput from \"../form/AvatarInput\";\r\nimport { Dangerous } from \"@mui/icons-material\";\r\nimport DetailsPaper from \"../form/DetailsPaper\";\r\nimport Avatar from \"react-avatar\";\r\n\r\nconst DetailsDialog = ({\r\n  openDetailsDialog,\r\n  handleOnDelete,\r\n  setOpenDetailsDialog,\r\n  heading,\r\n  icon,\r\n  color,\r\n  state,\r\n  setState,\r\n  file,\r\n  setFile,\r\n  Id,\r\n  handleOnCloseDetails,\r\n  handleOnSubmit,\r\n  inputs,\r\n  message,\r\n}) => {\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n    Open alert dialog\r\n  </Button> */}\r\n      <Dialog\r\n        open={openDetailsDialog}\r\n        onClose={handleOnCloseDetails}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle\r\n          id=\"alert-dialog-title\"\r\n          style={{\r\n            color: color,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n            fontSize: \"16px\",\r\n            fontWeight: \"800\",\r\n          }}\r\n        >\r\n          <Box style={{\r\n            color: color,\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            \r\n            fontSize: \"16px\",\r\n            fontWeight: \"600\",\r\n          }}>\r\n          {icon}\r\n          {heading}\r\n          </Box>\r\n          <Box>\r\n            <IconButton onClick={handleOnCloseDetails}>\r\n              <Dangerous/>\r\n            </IconButton>\r\n         \r\n          </Box>\r\n         \r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {/* <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText> */}\r\n         {/* Add New Tenant Form  */}\r\n         <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            paddingTop: \"8px\",\r\n            paddingBottom: \"8px\",\r\n          }}\r\n        >\r\n          \r\n          <Avatar src={inputs && inputs.pic !== \"\" ? `http://localhost:5000/public/${inputs.designation ? \"employees\":\"customers\"}/images/${inputs.pic}`\r\n                            : \"./img/avatarfile.png\"} />\r\n        </div>\r\n          <DetailsPaper inputs={inputs} />\r\n        </DialogContent>\r\n        {/* <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n         \r\n        </DialogActions> */}\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DetailsDialog;\r\n","//Add new user form fields\r\nexport const userInputFields =(selectedRowId, currentData) => [\r\n  {\r\n    id: 1,\r\n    label: \"Name *\",\r\n    type: \"text\",\r\n    name: \"name\",\r\n    tabIndex: 0,\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Username *\",\r\n    type: \"text\",\r\n    name: \"username\",\r\n    tabIndex: 0,\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Email\",\r\n    tabIndex: 1,\r\n    type: \"email\",\r\n    name: \"email\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Role\",\r\n    type: \"select\",\r\n    tabIndex: 5,\r\n    disable: false,\r\n    name: \"access\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,  \r\n    },\r\n    options: [\r\n      { id: 1, name: \"Admin\", value: \"admin\" },\r\n      { id: 2, name: \"Cashier\", value: \"cashier\" },\r\n    ],\r\n  },\r\n \r\n  {\r\n    id: 5,\r\n    label: \"Contact\",\r\n    tabIndex: 2,\r\n    type: \"phone\",\r\n    name: \"contact\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 6,\r\n    label: \"Status\",\r\n    type: \"select\",\r\n    tabIndex: 5,\r\n    disable: false,\r\n    name: \"status\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6  \r\n    },\r\n    options: [\r\n      { id: 1, name: \"Active\", value: \"active\" },\r\n      { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n    ],\r\n  },\r\n  {\r\n    id: 7,\r\n    label: \"Password\",\r\n    tabIndex: 2,\r\n    type: \"password\",\r\n    name: \"password\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 8,\r\n    label: \"Confirm Password\",\r\n    tabIndex: 2,\r\n    type: \"password\",\r\n    name: \"confirmPassword\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6\r\n    }\r\n  },\r\n  {\r\n    id: 9,\r\n    label: \"Address\",\r\n    tabIndex: 4,\r\n    type: \"text\",\r\n    name: \"address\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12\r\n    }\r\n  },\r\n\r\n  \r\n \r\n  {\r\n      id: 10,\r\n      label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update User\":\"Add User\",\r\n      type: \"button\",\r\n      tabIndex: 6,\r\n      btntype: \"submit\",\r\n      color: \"primary\",\r\n      variant: \"contained\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12,\r\n      }\r\n    },\r\n  \r\n];\r\n\r\n//SEARCH USER FILTERS\r\n\r\nexport const searchUserFilters = (filter) => {\r\n    return [\r\n      {\r\n        id: 1,\r\n        label: \"Condition\",\r\n        type: \"select\",\r\n        disable: filter.operator === \"inBetween\" ? true : false,\r\n        name: \"operator\",\r\n        size: \"small\",\r\n        minWidth: \"100wh\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4,  \r\n        },\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n          filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n          filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n  \r\n        ],\r\n      },\r\n      {\r\n        id: 2,\r\n        label: \"Select Column\",\r\n        type: \"select\",\r\n        name: \"field\",\r\n        size: \"small\",\r\n        minWidth: \"100wh\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,  \r\n          lg: 4\r\n        },\r\n       \r\n        options: [\r\n          { id: 1, name: \"Name\", value: \"Name\" },\r\n          { id: 2, name: \"Username\", value: \"username\" },\r\n          { id: 3, name: \"Email\", value: \"email\" },\r\n          { id: 4, name: \"Company Name\", value: \"tenantName\" },\r\n          { id: 5, name: \"Access Right\", value: \"tenantRight\" },\r\n          { id: 6, name: \"Contact\", value: \"contact\" },\r\n          { id: 7, name: \"Address\", value: \"address\" },\r\n          { id: 8, name: \"Date\", value: \"date\" },\r\n        ]\r\n      },\r\n      {\r\n          id: 3,\r\n          label: \"Sorting\",\r\n          type: \"select\",\r\n          name: \"sort\",\r\n          size: \"small\",\r\n          options: [\r\n            // Here we are setup the filter operator items \r\n            { id: 1, name: \"Ascending\", value: 1 },\r\n            { id: 2, name: \"Descending\", value: -1 },\r\n          ],\r\n          grid: {\r\n            xs: 12,\r\n            sm: 6,\r\n            md: 4,\r\n            lg: 4 \r\n          },\r\n        },\r\n    ]\r\n  }\r\n\r\n//SEARCH USERS INPUTS\r\nexport const searchUserInput = (filter) => {\r\n    return [\r\n      filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n        id: 1,\r\n        label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n        .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n        .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n        type: \"text\",\r\n        disabled: filter.field === \"\" ? true : false,\r\n        name: \"searchInput\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 10\r\n        }\r\n      },\r\n      filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n        id: 2,\r\n        label: \"Start Date\",\r\n        type: \"date\",\r\n        name: \"startDate\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: filter.operator === \"inBetween\" ? 5 : 10\r\n        }\r\n      },\r\n      filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n        id: 3,\r\n        label: \"End Date\",\r\n        type: \"date\",\r\n        name: \"endDate\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 5\r\n        }\r\n      },\r\n      filter.field === \"contact\" && {\r\n        id: 4,\r\n        type: \"phone\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 8,\r\n          md: 8,\r\n          lg: 10\r\n        }\r\n      },\r\n     {\r\n        id: 5,\r\n        label: \"Search\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        variant: \"contained\",\r\n        color: \"primary\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 2  \r\n        },\r\n      },\r\n    ]\r\n  }","\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../../../Components/Header/Header\";\r\nimport DataTable from \"../../../../Components/datatable/DataTable\";\r\nimport { userColumns, userRows } from \"../../../../Components/datatable/userTableSources\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../../../backend/uploadFile\";\r\nimport Dialogue from \"../../../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  PeopleAlt,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  addCustomer,\r\n  clearCustomers,\r\n  deleteCustomer,\r\n  getCustomers,\r\n  getSingleCustomer,\r\n  updateCustomer,\r\n} from \"../../../../redux/customerSlice/customerSlice\";\r\nimport {\r\n  customerInputFields,\r\n  searchCustomerFilters,\r\n  searchCustomerInput,\r\n} from \"../../../../Components/sources/customersFormSources\";\r\nimport DetailsDialog from \"../../../../Components/dialogue/DetailsDialogue\";\r\nimport { addUser, getAllUsers } from \"../../../../redux/userSlice/userSlice\";\r\nimport { userInputFields } from \"../../../../Components/sources/usersFormSources\";\r\n\r\nconst Users = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const users = useSelector((state) => state.users.data);\r\n\r\n  //Initializing the current customer\r\n  const currentData = useSelector((state) => state.users.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.users.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.users.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    username: \"\",\r\n    access: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    address: \"\",\r\n    password: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  // useEffect(() => {\r\n  //   if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n  //     //Dispatch current customer\r\n  //     dispatch(getSingleCustomer(selectedRowId));\r\n  //   }\r\n  //   // eslint-disable-next-line\r\n  // }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  // useEffect(() => {\r\n  //   if (Object.keys(currentCustomer).length !== 0) {\r\n  //     // Set the state when currentCustomer is updated\r\n  //     setState({\r\n  //       name: currentCustomer.name,\r\n  //       email: currentCustomer.email,\r\n  //       contact: currentCustomer.contact,\r\n  //       balance: currentCustomer.balance,\r\n  //       address: currentCustomer.address,\r\n  //       status: currentCustomer.status,\r\n  //     });\r\n  //     async function urlToFile(url) {\r\n  //       // Fetch the file\r\n  //       let response = await fetch(url);\r\n  //       let data = await response.blob();\r\n  //       let metadata = {\r\n  //         type: \"image/jpeg\",\r\n  //       };\r\n  //       let file = new File([data], \"test.jpg\", metadata);\r\n  //       // Return the file object\r\n  //       return file;\r\n  //     }\r\n\r\n  //     async function loadFile() {\r\n  //       const fileGenerated = await urlToFile(\r\n  //         `http://localhost:5000/public/customers/images/${currentCustomer.pic}`\r\n  //       );\r\n\r\n  //       //Set file\r\n  //       setFile(fileGenerated);\r\n  //     }\r\n\r\n  //     if (currentCustomer.pic) {\r\n  //       loadFile();\r\n  //     }\r\n  //   }\r\n  // }, [currentCustomer]);\r\n \r\n  //useEffect to dispatch all users\r\n  useEffect(() => {\r\n  \r\n    const initialData = { page: 0, sort: filters.sort };\r\n    dispatch(getAllUsers(initialData));\r\n  }, []);\r\n  \r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteCustomer(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getCustomers using dispatch\r\n  dispatch(getCustomers(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getCustomers(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      email: \"\",\r\n      contact: \"\",\r\n      address: \"\",\r\n      balance: \"\",\r\n      status: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomers(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getCustomers(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomers(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = users.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    address: row.address && capitalizeEachWord(row.address),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  username, access, contact, address, password, status } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter Name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (username === \"\") {\r\n      toast(\"Enter unique username\", { position: \"top-right\", type: \"error\" });\r\n    } else if (access === \"\") {\r\n      toast(\"Select User Role\", { position: \"top-right\", type: \"error\" });\r\n    } else if (contact === \"\") {\r\n      toast(\"Enter contact number\", { position: \"top-right\", type: \"error\" });\r\n    } else if (password === \"\") {\r\n      toast(\"Enter a password min 6 characters\", { position: \"top-right\", type: \"error\" });\r\n    } else if (address === \"\") {\r\n      toast(\"Enter address of user\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (selectedRowId !== null) {\r\n            const data = {\r\n              id: selectedRowId[0],\r\n              Data: newState,\r\n            };\r\n\r\n            //Hit API Call using dispatch to updated customer\r\n            dispatch(updateCustomer(data));\r\n          } else {\r\n            //Hit API Call using dispatch to add user\r\n            dispatch(addUser(newState));\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated tenant\r\n          dispatch(updateCustomer(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add user\r\n          dispatch(addUser(state));\r\n        }\r\n      }\r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n  // window.addEventListener(\"keydown\", (event) => {\r\n  //   // event.ctrlKey.preventDefault()\r\n  //   if (event.ctrlKey && event.key === \"a\") {\r\n  //     event.preventDefault();\r\n  //     setOpenFormDialog(true);\r\n  //   } else if (event.key === \"Delete\") {\r\n  //     if (selectedRowId === null || selectedRowId === \"\") {\r\n  //       toast(\"Select Customer first\", {\r\n  //         position: \"top-right\",\r\n  //         type: \"error\",\r\n  //       });\r\n  //     } else {\r\n  //       setOpenDeleteDialog(true);\r\n  //     }\r\n  //   }\r\n    // else if(event.ctrlKey && event.key === 'e'){\r\n    //   event.preventDefault()\r\n    //   dispatch(getSingleCustomer(selectedRowId))\r\n    // }\r\n  // });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<PeopleAlt style={{marginRight: \"10px\"}}/>}\r\n        title=\"Users\"\r\n        subTitle=\"Manage Application Users\"\r\n        // link=\"/customers/new\"\r\n        addBtnTitle=\"Add User\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE USER\"\r\n              : \"ADD USER\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={userInputFields(selectedRowId, currentData)}\r\n          icon={<PeopleAlt style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        {Object.keys(currentData).length !== 0 && <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />}\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE TENANT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Tenant? Once you delete it's entire record will be deleted, and you can never get it back.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchCustomerFilters}\r\n          searchInputForm={searchCustomerInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={userColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","//Add new meter Reading form fields\r\nexport const meterInputFields = [\r\n    {\r\n      id: 1,\r\n      label: \"New Reading\",\r\n      type: \"number\",\r\n      name: \"reading\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Cash Sales (Amount)\",\r\n      type: \"number\",\r\n      name: \"salesCash\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n        id: 4,\r\n        label: \"Add Reading\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];","import { Check, CheckCircle, Speed } from \"@mui/icons-material\";\r\nimport { Box, Grid, Typography } from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport \"./meter.scss\";\r\nimport Header from \"../../../Components/Header/Header\";\r\nimport Avatar from \"react-avatar\";\r\nimport petrol from \"../../../img/petrol.jpg\";\r\nimport petrolCane from \"../../../img/petrolCane.webp\";\r\nimport dieselCane from \"../../../img/DieselCane.jpg\";\r\nimport GridForm from \"../../../Components/form/GridForm\";\r\nimport { meterInputFields } from \"../../../Components/sources/metersFormSources\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getMachines } from \"../../../redux/machineSlice/machineSlice\";\r\nimport { toast } from \"react-toastify\";\r\nimport { addReading } from \"../../../redux/readingSlice/readingSlice\";\r\n\r\nconst Meters = () => {\r\n  const dispatch = useDispatch();\r\n  //Initialize use selector\r\n  const machines = useSelector((state) => state.machines.data);\r\n\r\n  //Use state for handle reading entry values\r\n  const [state, setState] = useState({\r\n    machineId: \"\",\r\n    reading: \"\",\r\n    salesCash: \"\",\r\n    date: \"\",\r\n  });\r\n  //Use State for product selection\r\n  const [product, setProduct] = useState({\r\n    petrol: false,\r\n    diesel: false,\r\n  });\r\n\r\n  console.log(machines);\r\n\r\n  //Handle Product selection function\r\n  const handleProductSelection = (productName) => {\r\n    if (productName === \"petrol\") {\r\n      //Select product type\r\n      const initData = { field: \"type\", operator: \"$regex\", searchInput: \"petrol\", sort: -1 };\r\n      //Get Product machiines\r\n      dispatch(getMachines(initData));\r\n\r\n      setProduct({\r\n        petrol: true,\r\n        diesel: false,\r\n      });\r\n    } else {\r\n      //Select product type\r\n      const initData = { field: \"type\", operator: \"$regex\", searchInput: \"diesel\", sort: -1 };\r\n      //Get Product machiines\r\n      dispatch(getMachines(initData));\r\n      setProduct({\r\n        petrol: false,\r\n        diesel: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  //Handle Machine Selection\r\n  const handleMachineSelection = (item) => {\r\n    setState({...state, machineId: item._id})\r\n  }\r\n  console.log(state)\r\n\r\n  //Destructure state values\r\n  const {machineId, cashSalesAmount, date, newReading} = state\r\n  //Handle On Submit Function\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault()\r\n    if(machineId === \"\"){\r\n      toast(\"Please select machine\", {position: \"top-right\", type: \"error\"})\r\n    } else if (newReading === \"\"){\r\n      toast(\"Enter new machine reading\", {position: \"top-right\", type: \"error\"})\r\n    } else if(cashSalesAmount === \"\"){\r\n      toast(\"Enter cash sales amount\", {position: \"top-right\", type: \"error\"})\r\n    } else if(date === \"\"){\r\n      toast(\"Select date\", {position: \"top-right\", type: \"error\"})\r\n    } else {\r\n      dispatch(addReading(state))\r\n    }\r\n  };\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<Speed style={{ marginRight: \"10px\" }} />}\r\n        title=\"Meters\"\r\n        subTitle=\"Manage Machine Readings\"\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard meterCard\">\r\n        <Box className=\"widgetOptionsContainer\">\r\n          <Grid container gap={2} className=\"widgetContainer\" style={{marginBottom: 10}}>\r\n            {/* Product Selection widget  */}\r\n            <Grid item\r\n              md={12} lg={6}\r\n              className=\"widget\"\r\n              onClick={() => handleProductSelection(\"petrol\")}\r\n            >\r\n              {product.petrol === true && (\r\n                <CheckCircle className=\"productSelector\" />\r\n              )}\r\n              <Box className=\"inner-widget\">\r\n                <Avatar src={petrolCane} round size=\"60\" />\r\n                <Typography style={{ fontSize: \"22px\", marginLeft: \"10px\" }}>\r\n                  Petrol\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n            {/* Product Selection widget  */}\r\n            <Grid item md={12} lg={6}\r\n              className=\"widget\"\r\n              onClick={() => handleProductSelection(\"diesel\")}\r\n            >\r\n              {product.diesel === true && (\r\n                <CheckCircle className=\"productSelector\" />\r\n              )}\r\n              <Box className=\"inner-widget\">\r\n                <Avatar src={dieselCane} round size=\"70\" />\r\n                <Typography style={{ fontSize: \"22px\", marginLeft: \"10px\" }}>\r\n                  Diesel\r\n                </Typography>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container gap={2}>\r\n            {machines.length > 0 && machines.map(item => <Grid item xs={6} md={12} lg={6} key={item._id}\r\n              className=\"widget\"\r\n              onClick={() => handleMachineSelection(item)}\r\n            >\r\n              {state.machineId === item._id && (\r\n                <CheckCircle className=\"productSelector\" />\r\n              )} \r\n              <Box className=\"inner-widget\">\r\n                <Avatar src={petrol} round size=\"45\" />\r\n                <Box>\r\n                  <Typography style={{ fontSize: \"22px\", marginLeft: \"10px\" }}>\r\n                    {item.name}\r\n                  </Typography>\r\n                  <Typography style={{ fontSize: \"16px\", marginLeft: \"10px\" }}>\r\n                    Current: {item.currentReading}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Grid>)}\r\n          \r\n          </Grid>\r\n          \r\n        </Box>\r\n        <Box className=\"readingForm\">\r\n          <h3>Meter Reading Entry</h3>\r\n          <GridForm\r\n            title=\"Add New Reading\"\r\n            inputs={meterInputFields}\r\n            state={state}\r\n            setState={setState}\r\n            submit={handleOnSubmit}\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Meters;\r\n","import { Add, CheckCircle, ChevronRight, Dangerous, DynamicFeed, ExpandMore, Refresh, Save } from \"@mui/icons-material\";\r\nimport { Box, Button, Grid, IconButton, TextField, Tooltip, Typography } from \"@mui/material\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./meter.scss\";\r\nimport Avatar from \"react-avatar\";\r\nimport petrol from \"../../../img/petrol.jpg\";\r\nimport petrolCane from \"../../../img/petrolCane.webp\";\r\nimport dieselCane from \"../../../img/DieselCane.jpg\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { cleardata, getAllMachines, getAllProducts, getCurrentPrices, getCurrentReadings } from \"../../../redux/completeDataSlice/completeDataSlice\";\r\nimport AuthContext from \"../../../context/auth/AuthContext\";\r\nimport { addClosing } from \"../../../redux/closingsSlice/closingsSlice\";\r\n\r\nconst Meters = () => {\r\n  //Call Auth Context & Extract Logout\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const dispatch = useDispatch();\r\n  //Initialize use selector\r\n  const machines = useSelector((state) => state.completeData.machines);\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.completeData.products);\r\n  const prices = useSelector((state) => state.completeData.prices);\r\n  const readings = useSelector((state) => state.completeData.readings);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.closings.errors);\r\n\r\n  //Use effect to get complete data\r\n  useEffect(() => {\r\n\r\n    dispatch(getAllProducts()) //Dispatch function to get all products\r\n    dispatch(getAllMachines()) // Dispatch function to get all machines \r\n    dispatch(getCurrentPrices()) // Dispatch function to get current prices\r\n    dispatch(getCurrentReadings()) // Dispatch function to get current machine readings \r\n\r\n    return () => {\r\n      dispatch(cleardata())\r\n    }\r\n  }, [])\r\n\r\n\r\n  //Use state for handle reading entry values\r\n  const [state, setState] = useState({\r\n    cashierId: user._id,\r\n    items: [],\r\n    salesCash: \"\",\r\n    debitCash: \"\",\r\n    cardAmount: \"\",\r\n    creditAmount: \"\",\r\n    date: \"\",\r\n  });\r\n\r\n  //Use State for hold sales entry\r\n  const [salesEntry, setSalesEntry] = useState({\r\n    machineId: \"\",\r\n    productId: \"\",\r\n    quantity: \"\",\r\n    reading: \"\"\r\n  })\r\n\r\n  //Handle detail sale panel\r\n  const [openItem, setOpenItem] = useState(false)\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    }\r\n  }, [submitErrors]);\r\n  //WRITING DEAD CODE TO MAINTIAN UI START\r\n  const handleOnResume = () => { }\r\n\r\n  //END OF DEAD CODE\r\n\r\n  //Open detail sale\r\n  const handleOpenItems = () => {\r\n    setOpenItem(!openItem)\r\n  }\r\n  //Create handle on add entry\r\n  const handleOnAddEntry = () => {\r\n    if (salesEntry.machineId !== \"\" && salesEntry.productId !== \"\") {\r\n\r\n\r\n      let reading = readings.find(list => list.machineId === salesEntry.machineId)\r\n\r\n      if (salesEntry.reading < reading.newReading) {\r\n        toast(\"Reading is less than Previous\", { position: \"top-right\", type: \"error\" })\r\n        return;\r\n      } else {\r\n\r\n        //Remove quantity property form state\r\n        const { quantity, ...newObj } = salesEntry;\r\n        setState({ ...state, items: [...state.items, newObj] })\r\n        setSalesEntry({ productId: \"\", machineId: \"\", reading: \"\", quantity: \"\" })\r\n      }\r\n    } else {\r\n      //Remove machineId and reading property form state\r\n      const { machineId, reading, ...newObj } = salesEntry;\r\n      setState({ ...state, items: [...state.items, newObj] })\r\n      setSalesEntry({ productId: \"\", machineId: \"\", reading: \"\", quantity: \"\" })\r\n    }\r\n  }\r\n\r\n  // handle On Remove added entry\r\n  const handleOnRemoveItem = (element) => {\r\n    //filter items\r\n    const newItems = state.items.filter(item => item.productId !== element._id)\r\n    //now set state with new items \r\n    setState({ ...state, items: newItems })\r\n\r\n  }\r\n  //Clear sales\r\n  const handleClear = () => {\r\n    //Clear selection\r\n    setSalesEntry({ productId: \"\", machineId: \"\", reading: \"\", quantity: \"\" })\r\n    //Clear state \r\n    setState({\r\n      cashierId: \"\",\r\n      items: [],\r\n      salesCash: \"\",\r\n      debitCash: \"\",\r\n      cardAmount: \"\",\r\n      creditAmount: \"\",\r\n      date: \"\",\r\n    })\r\n  }\r\n  //Handle Product selection function\r\n  const handleSalesEntry = (item) => {\r\n\r\n    \r\n    //Check for already entered\r\n    if (item.type !== \"petrol\" && item.type !== \"diesel\") {\r\n      console.log(\"Sales uper Hited\")\r\n      if (state.items.some(list => list.productId === item._id)) return\r\n\r\n      setSalesEntry({ ...salesEntry, productId: item._id })\r\n    } else {\r\n      if (salesEntry.productId !== item._id) {\r\n        \r\n        setSalesEntry({ machineId: \"\", reading: \"\", quantity: \"\", productId: item._id})\r\n        console.log(\"Hited => \", salesEntry)\r\n      }else {\r\n\r\n        setSalesEntry({ ...salesEntry, productId: item._id })\r\n      }\r\n    }\r\n  };\r\n  //Handle Machine Selection\r\n  const handleMachineSelection = (item) => {\r\n    if (selectedMachines.some(element => element === item._id)) return;\r\n    setSalesEntry({ ...salesEntry, machineId: item._id })\r\n  }\r\n\r\n  console.log(salesEntry)\r\n  //Destructure state values\r\n  const { items, salesCash, debitCash, creditAmount, cardAmount } = state\r\n  //Handle On Submit Function\r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault()\r\n    if (items.length === 0) {\r\n      toast(\"Add sale information\", { position: \"top-right\", type: \"error\" })\r\n    } else if (selectedMachines.length !== machines.length) {\r\n      toast(\"Enter reading of all machines\", { position: \"top-right\", type: \"error\" })\r\n    } else if (Object.entries(arry).length !== products.length) {\r\n      toast(\"Please enter all products info\", { position: \"top-right\", type: \"error\" })\r\n    } else if (salesCash === \"\") {\r\n      toast(\"Enter total sales cash amount\", { position: \"top-right\", type: \"error\" })\r\n    } else if (debitCash === \"\") {\r\n      toast(\"Enter total debit cash amount\", { position: \"top-right\", type: \"error\" })\r\n    } else if (creditAmount === \"\") {\r\n      toast(\"Enter total credit amount\", { position: \"top-right\", type: \"error\" })\r\n    } else if (cardAmount === \"\") {\r\n      toast(\"Enter total card amount\", { position: \"top-right\", type: \"error\" })\r\n    } else {\r\n      setState({ ...state, cashierId: user._id })\r\n\r\n      dispatch(addClosing(state))\r\n    }\r\n  };\r\n\r\n  //Array for added machines \r\n  let selectedMachines = []\r\n  //Refacture state items \r\n  let arry = state.items.reduce((acc, item) => {\r\n    if (!acc[item.productId]) {\r\n      acc[item.productId] = []\r\n    }\r\n    if (item.machineId) {\r\n      acc[item.productId].push({ machineId: item.machineId, reading: item.reading })\r\n      selectedMachines.push(item.machineId)\r\n    } else {\r\n      acc[item.productId].push({ productId: item.productId, quantity: item.quantity })\r\n    }\r\n    return acc;\r\n  }, {})\r\n\r\n\r\n  //Handle Total Sale Calculation \r\n  const TotalSaleCalculation = (productid) => {\r\n\r\n    let totalSale = 0;\r\n    let totalSaleAmount = 0;\r\n    Object.entries(arry).map(([productId, values]) => {\r\n\r\n      if (productId === productid) {\r\n        //Iterate values of product \r\n        values.map(item => {\r\n          //If in values are machines then calculate total sale of all machines \r\n          if (item.machineId) {\r\n            //Get current readings from readings data\r\n            let currentReading = readings.find(element => element.machineId === item.machineId)\r\n            //Calculated total sale for each machine\r\n            let machineSale = item.reading - (currentReading?.newReading ? currentReading?.newReading : 0)\r\n            totalSale += machineSale\r\n            //Calculate total sale amount for product\r\n            let currentPrice = prices.find(element => element.productId === productId)\r\n            //Calculate to Amount\r\n            totalSaleAmount += currentPrice?.newSellingPrice * machineSale\r\n          } else {\r\n            //Calculate total sale amount for product\r\n            let currentPrice = prices.find(element => element.productId === productId)\r\n            //Total Sale\r\n            totalSale += parseInt(item.quantity)\r\n            //Calculate to Amount\r\n            totalSaleAmount += currentPrice?.newSellingPrice * item.quantity\r\n          }\r\n        })\r\n      }\r\n      //Check if values container machineId\r\n    }\r\n    )\r\n\r\n    let roundAmount = handleValuesRound(totalSaleAmount)\r\n    return {\r\n      sale: handleValuesRound(totalSale), amount: roundAmount.toLocaleString('en-US', {\r\n        style: 'currency',\r\n        currency: 'PKR',\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      })\r\n    };\r\n\r\n  }\r\n\r\n  //Handle Sale Clearance calculation\r\n  const saleAmountClearanceCal = () => {\r\n    let daySaleAmount = 0;\r\n    Object.entries(arry).map(([productId, values]) => {\r\n      const product = products.find(list => list._id === productId)\r\n\r\n\r\n      //Iterate values of product \r\n      values.map(item => {\r\n        //If in values are machines then calculate total sale of all machines \r\n        if (item.machineId && (product?.type === \"petrol\" || product?.type === \"diesel\")) {\r\n          //Get current readings from readings data\r\n          let currentReading = readings.find(element => element.machineId === item.machineId)\r\n          //Calculated total sale for each machine\r\n          let machineSale = item.reading - (currentReading?.newReading ? currentReading?.newReading : 0)\r\n          //Calculate total sale amount for product\r\n          let currentPrice = prices.find(element => element.productId === productId)\r\n          //Calculate to Amount\r\n          daySaleAmount += currentPrice?.newSellingPrice * machineSale\r\n        } else {\r\n          //Calculate total sale amount for product\r\n          let currentPrice = prices.find(element => element.productId === productId)\r\n          console.log(\"checking the current price \", currentPrice)\r\n          //Calculate to Amount\r\n          daySaleAmount += currentPrice?.newSellingPrice * item.quantity\r\n        }\r\n      })\r\n    }\r\n    )\r\n    let finalSum = handleValuesRound(daySaleAmount)\r\n    return finalSum\r\n  }\r\n\r\n  //Round values function\r\n  const handleValuesRound = (num) => {\r\n    return Math.round(num * 100) / 100;\r\n  }\r\n  //Handle on change input\r\n  const handleOnChange = (e) => {\r\n    const regex = /^\\d+(\\.\\d{1,2})?$/;\r\n    const qtyRegex = /^\\d+$/\r\n    const { name, value } = e.target\r\n    console.log(\"Checking the state => \", state.name, name)\r\n    if (e.target.name === \"quantity\" && qtyRegex.test(e.target.value)) {\r\n      setSalesEntry({ ...salesEntry, quantity: e.target.value })\r\n    } else if (e.target.name === \"reading\" && regex.test(e.target.value)) {\r\n      setSalesEntry({ ...salesEntry, reading: e.target.value })\r\n    } else if (regex.test(e.target.value)) {\r\n      console.log(\"CHeck name => \", e.target.name)\r\n      setState({ ...state, [e.target.name]: e.target.value })\r\n    } else if (name !== \"quantity\" && name !== \"reading\" && state[e.target.name].length === 1) {\r\n      setState({ ...state, [e.target.name]: e.target.value.slice(0, -1) })\r\n    } else if (name === \"quantity\" && salesEntry.quantity.length === 1) {\r\n      setSalesEntry({ ...salesEntry, quantity: e.target.value.slice(0, -1) })\r\n    }\r\n    else if (name === \"reading\" && salesEntry.reading.length === 1) {\r\n      setSalesEntry({ ...salesEntry, reading: e.target.value.slice(0, -1) })\r\n    }\r\n  }\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n\r\n      {/* Main Card for setup tenants Table */}\r\n      <Grid container className=\"mainCard meterCard\">\r\n        <Grid item lg={8} className=\"widgetOptionsContainer\">\r\n          <Grid container gap={2} className=\"widgetContainer\" style={{ marginBottom: 10 }}>\r\n            {/* Product Selection widget  */}\r\n            {products.map(item => (item.type === \"petrol\" || item.type === \"diesel\") && <Grid item key={item._id}\r\n              md={12} lg={6}\r\n              className=\"widget\"\r\n              onClick={() => handleSalesEntry(item)}\r\n            >\r\n              {salesEntry.productId === item._id && (\r\n                <CheckCircle className=\"productSelector\" />\r\n              )}\r\n              <Box className=\"inner-widget\">\r\n                <Avatar src={item.type === \"petrol\" ? petrolCane : dieselCane} round size=\"60\" />\r\n                <Typography style={{ fontSize: \"22px\", marginLeft: \"10px\" }}>\r\n                  {item.name}\r\n                </Typography>\r\n              </Box>\r\n            </Grid>)}\r\n          </Grid>\r\n          {/* Machines iteration code starts */}\r\n          <Grid container gap={2}>\r\n            {machines.length > 0 && machines.map(item => products.find(item => item._id == salesEntry.productId)?.type === item.type && <Grid item xs={6} md={12} lg={6} key={item._id}\r\n              className=\"widget\"\r\n              onClick={() => handleMachineSelection(item)}\r\n              style={{ backgroundColor: selectedMachines.some(element => element === item._id) ? \"#cccaca\" : salesEntry.machineId === item._id ? \"#b1f3b1\" : \"#fff\", cursor: selectedMachines.some(element => element === item._id) ? null : \"pointer\" }}\r\n            >\r\n              {salesEntry.machineId === item._id && (\r\n                <CheckCircle className=\"productSelector\" />\r\n              )}\r\n              <Box className=\"inner-widget\" >\r\n                <Avatar src={petrol} round size=\"35\" />\r\n                <Box>\r\n                  <Typography style={{ fontSize: \"15px\", marginLeft: \"10px\", fontWeight: 600 }}>\r\n                    {item.name}\r\n                  </Typography>\r\n                  <Typography style={{ fontSize: \"16px\", marginLeft: \"10px\" }}>\r\n                    Current: {readings.find(list => list.machineId === item._id)?.newReading}\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n            </Grid>)}\r\n          </Grid>\r\n          {/*********************************** Machines iteration code end  ****************************************/}\r\n          <hr style={{ marginTop: 20 }} />\r\n          <h4 style={{ marginTop: 20 }}>Mobile Oil</h4>\r\n          {/*********************************** Mobile Oil products iteration code end  ****************************************/}\r\n          <Grid container gap={1}>\r\n            {products.length > 0 &&\r\n              products.map((item) => {\r\n                if (item.type !== \"petrol\" && item.type !== \"diesel\") {\r\n                  return (\r\n                    <Grid\r\n                      key={item._id}\r\n                      item\r\n                      lg={2}\r\n                      md={3}\r\n                      xl={3}\r\n                      sm={3}\r\n                      className=\"productItems\"\r\n                      onClick={() => handleSalesEntry(item)}\r\n                      style={{ backgroundColor: state.items.some(list => list.productId === item._id) ? \"#cccaca\" : salesEntry.productId === item._id ? \"#b1f3b1\" : \"#fff\", cursor: state.items.some(element => element === item._id) ? null : \"pointer\" }}\r\n                    >\r\n                      {salesEntry.productId === item._id && (\r\n                        <CheckCircle className=\"productSelector\" />\r\n                      )}\r\n                      <Avatar\r\n                        src={`http://localhost:5000/public/products/images/${item.pic}`}\r\n                        round\r\n                        size=\"40\"\r\n                      />\r\n                      <Typography>{item.name}</Typography>\r\n                      <Typography>\r\n                        Rs. {item?.price?.newSellingPrice}\r\n                      </Typography>\r\n                    </Grid>\r\n                  );\r\n                }\r\n              })}\r\n          </Grid>\r\n          {/*********************************** Mobile Oil products iteration ends  ************************************/}\r\n        </Grid>\r\n        {/* ************************************ ITEMS FORM ********************************************** */}\r\n        <Grid item lg={4} className=\"itemsForm\">\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Box className=\"title\">\r\n              <h4>Shift Closing</h4>\r\n            </Box>\r\n            <Box className=\"actionIcons\">\r\n              <Tooltip title=\"Refresh / Clear form\">\r\n                <IconButton onClick={() => handleClear()}>\r\n                  <Refresh />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Resume Sale\">\r\n                <IconButton onClick={() => handleOnResume()}>\r\n                  <DynamicFeed />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Grid container spacing={2}>\r\n            <Grid item lg={8} md={8} sm={8} xs={12}>\r\n              {(products.find(item => item._id == salesEntry.productId)?.type === \"petrol\" || products.find(item => item._id == salesEntry.productId)?.type === \"diesel\") ? <TextField\r\n                label=\"New Reading\"\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name=\"reading\"\r\n                value={salesEntry.reading || \"\"}\r\n                onChange={handleOnChange}\r\n                style={{\r\n                  width: \"100%\",\r\n                  marginRight: 4,\r\n                }}\r\n              /> : <TextField\r\n                label=\"Quantity\"\r\n                size=\"small\"\r\n                type=\"text\"\r\n                name=\"quantity\"\r\n                value={salesEntry.quantity || \"\"}\r\n                onChange={handleOnChange}\r\n                style={{\r\n                  width: \"100%\",\r\n                  marginRight: 4,\r\n                }}\r\n              />}\r\n            </Grid>\r\n            <Grid item lg={3} md={2} sm={2} xs={2} >\r\n              <Button variant=\"contained\" disabled={\r\n                (products.find(item => item._id === salesEntry.productId)?.type === \"petrol\" ||\r\n                  products.find(item => item._id === salesEntry.productId)?.type === \"diesel\")\r\n                  ? salesEntry.productId !== \"\" && salesEntry.machineId === \"\"\r\n                  : salesEntry.productId === \"\"\r\n              } onClick={() => handleOnAddEntry()}><Add /> Add</Button>\r\n            </Grid>\r\n\r\n          </Grid>\r\n\r\n          <hr style={{ marginTop: 10, height: 1, color: \"#666\" }} />\r\n\r\n          <Box className=\"itemsSalesCloseContainer\">\r\n            {Object.entries(arry).length > 0 &&\r\n              Object.entries(arry).map(([key, values]) => {\r\n                return products.map((element) => {\r\n                  if (key === element._id) {\r\n                    return (\r\n                      <Box\r\n                        key={key} // Ensure unique key for each top-level element\r\n                        className=\"itemBox\"\r\n                        style={{ height: openItem ? 150 : 38 }}\r\n                      >\r\n                        <Box className=\"itemWrapperBox\">\r\n                          <Box className=\"innerItemBox\">\r\n                            <IconButton\r\n                              style={{ padding: 1 }}\r\n                              onClick={handleOpenItems}\r\n                            >\r\n                              {openItem ? <ExpandMore /> : <ChevronRight />}\r\n                            </IconButton>\r\n                            <Typography>{element.name}</Typography>\r\n                          </Box>\r\n                          <Box className=\"innerItemBox\">\r\n                            <Typography style={{ marginRight: 5 }}>\r\n                              {`${TotalSaleCalculation(element.id).amount}`}\r\n                            </Typography>\r\n                            <IconButton\r\n                              style={{ padding: 1 }}\r\n                              onClick={() => handleOnRemoveItem(element)}\r\n                            >\r\n                              <Dangerous style={{ fontSize: 20 }} />\r\n                            </IconButton>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box>\r\n                          <Box className=\"detailedEntry\" >\r\n                            <Box style={{ Width: \"300px\" }}>\r\n\r\n                              {\r\n                                values.map((nestedItem) => (\r\n                                  nestedItem.machineId && <Box key={nestedItem.machineId} style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                    <Typography>{machines.find(list => list._id === nestedItem.machineId)?.name}</Typography>\r\n                                    <Typography>Rd. {nestedItem.reading}</Typography>\r\n                                  </Box>\r\n                                ))\r\n                              }\r\n                            </Box>\r\n                            <hr />\r\n                            <Box style={{ display: \"flex\", justifyContent: \"space-between\", Width: \"300px\" }}>\r\n                              <Box>\r\n                                <Typography>Total Sale</Typography>\r\n                                <Typography>Total Amount</Typography>\r\n                              </Box>\r\n                              <Box>\r\n                                <Typography>{`Lt. ${TotalSaleCalculation(element.id).sale}`}</Typography>\r\n                                <Typography>{`${TotalSaleCalculation(element.id).amount}`}</Typography>\r\n                              </Box>\r\n                            </Box>\r\n                          </Box>\r\n                        </Box>\r\n                      </Box>\r\n                    );\r\n                  }\r\n                  return null;\r\n                });\r\n              })}\r\n          </Box>\r\n\r\n          <hr style={{ marginTop: 10, height: 1, color: \"#666\" }} />\r\n          <Grid container spacing={1}>\r\n            <Grid item lg={6} md={6} sm={6} xs={12}> <TextField\r\n              label=\"Tot: Sales Cash\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n              name=\"salesCash\"\r\n              value={state.salesCash || \"\"}\r\n              onChange={handleOnChange}\r\n              style={{\r\n                width: \"100%\",\r\n                marginTop: 10,\r\n                marginRight: 4,\r\n              }}\r\n            /></Grid>\r\n            <Grid item lg={6} md={6} sm={6} xs={12}> <TextField\r\n              label=\"Tot: Debit Cash\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n              name=\"debitCash\"\r\n              value={state.debitCash || \"\"}\r\n              onChange={handleOnChange}\r\n              style={{\r\n                width: \"100%\",\r\n                marginTop: 10,\r\n                marginRight: 4,\r\n              }}\r\n            /></Grid>\r\n            <Grid item lg={6} md={6} sm={6} xs={12}> <TextField\r\n              label=\"Tot: Credit Amount\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n              name=\"creditAmount\"\r\n              value={state.creditAmount || \"\"}\r\n              onChange={handleOnChange}\r\n              style={{\r\n                width: \"100%\",\r\n                marginRight: 4,\r\n              }}\r\n            /></Grid>\r\n            <Grid item lg={6} md={6} sm={6} xs={12}> <TextField\r\n              label=\"Tot: Card Amount\"\r\n              size=\"small\"\r\n              type=\"number\"\r\n              name=\"cardAmount\"\r\n              value={state.cardAmount || \"\"}\r\n              onChange={handleOnChange}\r\n              style={{\r\n                width: \"100%\",\r\n                marginRight: 4,\r\n\r\n              }}\r\n            /></Grid>\r\n\r\n          </Grid>\r\n          <Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\", marginTop: 10, }}>\r\n              <Typography style={{ fontSize: 15 }}>Total Sales Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {saleAmountClearanceCal().toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                color: ((parseFloat(state.salesCash) + parseFloat(state.cardAmount) + parseFloat(state.creditAmount)) >= saleAmountClearanceCal()) ? \"#0cb10c\" : \"red\"\r\n              }}\r\n            >\r\n              <Typography style={{ fontSize: 15, fontWeight: 600, }}>Sales Cash: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {parseFloat(state.salesCash).toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <Typography style={{ fontSize: 15 }}>Debit Cash: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {parseFloat(state.debitCash).toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <Typography style={{ fontSize: 15 }}>Total Card Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {parseFloat(state.cardAmount).toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <Typography style={{ fontSize: 15 }}>Total Credit Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {parseFloat(state.creditAmount).toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\", color: \"#0cb10c\" }}>\r\n              <Typography style={{ fontSize: 15, fontWeight: 600 }}>Cash in Hand: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600, fontSize: 15 }}>\r\n                {(parseFloat(state.debitCash) + parseFloat(state.salesCash)).toLocaleString('en-US', {\r\n                  style: 'currency',\r\n                  currency: 'PKR',\r\n                  minimumFractionDigits: 2,\r\n                  maximumFractionDigits: 2\r\n                })}\r\n              </Typography>\r\n            </Box>\r\n\r\n\r\n          </Box>\r\n\r\n          <Button\r\n            type={`submit`}\r\n            color={`primary`}\r\n            variant=\"contained\"\r\n            onClick={handleOnSubmit}\r\n            style={{ width: \"100%\", marginTop: 5 }}\r\n          >\r\n\r\n            <Save style={{ marginRight: 10 }} />\r\n\r\n            SAVE\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Meters;\r\n","import { Link } from \"react-router-dom\";\r\nimport { Delete, Edit, Info, Style } from \"@mui/icons-material\";\r\nimport { IconButton, Chip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Customer Columns\r\nexport const customerColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/customers/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"balance\", headerName: \"Receivable\", width: 150 },\r\n  { field: \"contact\", headerName: \"Contact\", width: 150 },\r\n  { field: \"address\", headerName: \"Address\", width: 200 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n//DATA TABLE FORMATE FOR TENANTS\r\nexport const tenantsRows = [\r\n  {\r\n    id: 1,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    // username: \"kashif\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n];\r\n","import \"./customer.scss\";\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { customerColumns } from \"../../Components/datatable/customerTableSources\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  addCustomer,\r\n  clearCustomers,\r\n  deleteCustomer,\r\n  getCustomers,\r\n  getSingleCustomer,\r\n  updateCustomer,\r\n} from \"../../redux/customerSlice/customerSlice\";\r\nimport {\r\n  customerInputFields,\r\n  searchCustomerFilters,\r\n  searchCustomerInput,\r\n} from \"../../Components/sources/customersFormSources\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\n\r\nconst Customer = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const customers = useSelector((state) => state.customers.data);\r\n  //Initializing the current customer\r\n  const currentCustomer = useSelector((state) => state.customers.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.customers.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.customers.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setOpenDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    address: \"\",\r\n    balance: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current customer\r\n      dispatch(getSingleCustomer(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentCustomer).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentCustomer.name,\r\n        email: currentCustomer.email,\r\n        contact: currentCustomer.contact,\r\n        balance: currentCustomer.balance,\r\n        address: currentCustomer.address,\r\n        status: currentCustomer.status,\r\n      });\r\n      async function urlToFile(url) {\r\n        // Fetch the file\r\n        let response = await fetch(url);\r\n        let data = await response.blob();\r\n        let metadata = {\r\n          type: \"image/jpeg\",\r\n        };\r\n        let file = new File([data], \"test.jpg\", metadata);\r\n        // Return the file object\r\n        return file;\r\n      }\r\n\r\n      async function loadFile() {\r\n        const fileGenerated = await urlToFile(\r\n          `http://localhost:5000/public/customers/images/${currentCustomer.pic}`\r\n        );\r\n\r\n        //Set file\r\n        setFile(fileGenerated);\r\n      }\r\n\r\n      if (currentCustomer.pic) {\r\n        loadFile();\r\n      }\r\n    }\r\n  }, [currentCustomer]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getCustomers using dispatch\r\n    dispatch(getCustomers(initialData));\r\n\r\n    //Call clear customers to clear customers from state on unmount\r\n    return () => {\r\n      dispatch(clearCustomers());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteCustomer(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getCustomers using dispatch\r\n  dispatch(getCustomers(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getCustomers(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      email: \"\",\r\n      contact: \"\",\r\n      address: \"\",\r\n      balance: \"\",\r\n      status: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomers(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getCustomers(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomers(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = customers.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    address: row.address && capitalizeEachWord(row.address),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  balance, status } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter Customer name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (balance === \"\") {\r\n      toast(\"Enter initial balance\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (selectedRowId !== null) {\r\n            const data = {\r\n              id: selectedRowId[0],\r\n              Data: newState,\r\n            };\r\n\r\n            //Hit API Call using dispatch to updated customer\r\n            dispatch(updateCustomer(data));\r\n          } else {\r\n            //Hit API Call using dispatch to add tenant\r\n            dispatch(addCustomer(newState));\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated tenant\r\n          dispatch(updateCustomer(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add tenant\r\n          dispatch(addCustomer(state));\r\n        }\r\n      }\r\n    }\r\n  };\r\n \r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        title=\"Customers\"\r\n        subTitle=\"Manage Application Customers\"\r\n        // link=\"/customers/new\"\r\n        addBtnTitle=\"Add Customer\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentCustomer).length !== 0\r\n              ? \"UPDATE CUSTOMER\"\r\n              : \"ADD CUSTOMER\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={customerInputFields(selectedRowId, currentCustomer)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        {Object.keys(currentCustomer).length !== 0 && <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={currentCustomer}\r\n          handleOnCloseDetails={()=>setOpenDetailsDialog(false)}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />}\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE CUSTOMER\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Customer? Once you delete it's entire record will be deleted, and you can never get it back.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchCustomerFilters}\r\n          searchInputForm={searchCustomerInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={customerColumns(\r\n            setOpenDeleteDialog,\r\n            setOpenDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Customer;\r\n","//Add new supplier form fields\r\nexport const supplierInputFields =(selectedRowId, currentCustomer) => [\r\n    {\r\n      id: 1,\r\n      label: \"Name *\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      tabIndex: 0,\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Email\",\r\n      tabIndex: 1,\r\n      type: \"email\",\r\n      name: \"email\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n   \r\n    {\r\n      id: 3,\r\n      label: \"Contact\",\r\n      tabIndex: 2,\r\n      type: \"phone\",\r\n      name: \"contact\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Balance *\",\r\n      tabIndex: 3,\r\n      type: \"number\",\r\n      name: \"balance\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Company Name *\",\r\n      tabIndex: 4,\r\n      type: \"text\",\r\n      name: \"companyName\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    \r\n    {\r\n      id: 6,\r\n      label: \"Address\",\r\n      tabIndex: 4,\r\n      type: \"text\",\r\n      name: \"address\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 7,\r\n      label: \"Status\",\r\n      type: \"select\",\r\n      tabIndex: 5,\r\n      disable: false,\r\n      name: \"status\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6,  \r\n      },\r\n      options: [\r\n        { id: 1, name: \"Active\", value: \"active\" },\r\n        { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n      ],\r\n    },\r\n    {\r\n        id: 8,\r\n        label: selectedRowId !== null && Object.keys(currentCustomer).length !== 0 ? \"Update Supplier\":\"Add Supplier\",\r\n        type: \"button\",\r\n        tabIndex: 6,\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n\r\n//SEARCH Supplier Filters\r\nexport const searchSupplierFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Email\", value: \"email\" },\r\n        { id: 3, name: \"Contact\", value: \"contact\" },\r\n        { id: 4, name: \"Company Name\", value: \"companyName\" },\r\n        { id: 5, name: \"Balance\", value: \"balance\" },\r\n        { id: 6, name: \"Address\", value: \"address\" },\r\n        { id: 7, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH SUPPLIERS INPUTS\r\nexport const searchSupplierInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Supplier Columns\r\nexport const supplierColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/suppliers/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"balance\", headerName: \"Payable\", width: 150 },\r\n  { field: \"contact\", headerName: \"Contact\", width: 150 },\r\n  { field: \"companyName\", headerName: \"Company\", width: 150 },\r\n  { field: \"address\", headerName: \"Address\", width: 200 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n//DATA TABLE FORMATE FOR TENANTS\r\nexport const tenantsRows = [\r\n  {\r\n    id: 1,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    // username: \"kashif\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\",\r\n  },\r\n];\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  People,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { searchSupplierFilters, searchSupplierInput, supplierInputFields } from \"../../Components/sources/suppliersFormSources\";\r\nimport { supplierColumns } from \"../../Components/datatable/supplierTableSources\";\r\nimport { addSupplier, clearSuppliers, deleteSupplier, getSingleSupplier, getSuppliers, updateSupplier } from \"../../redux/supplierSlice/supplierSlice\";\r\n\r\nconst Supplier = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const suppliers = useSelector((state) => state.suppliers.data);\r\n  //Initializing the current supplier\r\n  const currentCustomer = useSelector((state) => state.suppliers.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.suppliers.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.suppliers.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    companyName: \"\",\r\n    address: \"\",\r\n    balance: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  \r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSupplier(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentCustomer).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentCustomer.name,\r\n        email: currentCustomer.email,\r\n        contact: currentCustomer.contact,\r\n        companyName: currentCustomer.companyName,\r\n        balance: currentCustomer.balance,\r\n        address: currentCustomer.address,\r\n        status: currentCustomer.status,\r\n      });\r\n      async function urlToFile(url) {\r\n        // Fetch the file\r\n        let response = await fetch(url);\r\n        let data = await response.blob();\r\n        let metadata = {\r\n          type: \"image/jpeg\",\r\n        };\r\n        let file = new File([data], \"test.jpg\", metadata);\r\n        // Return the file object\r\n        return file;\r\n      }\r\n\r\n      async function loadFile() {\r\n        const fileGenerated = await urlToFile(\r\n          `http://localhost:5000/public/suppliers/images/${currentCustomer.pic}`\r\n        );\r\n\r\n        //Set file\r\n        setFile(fileGenerated);\r\n      }\r\n\r\n      if (currentCustomer.pic) {\r\n        loadFile();\r\n      }\r\n    }\r\n  }, [currentCustomer]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getSuppliers using dispatch\r\n    dispatch(getSuppliers(initialData));\r\n\r\n    //Call clear suppliers to clear suppliers from state on unmount\r\n    return () => {\r\n      dispatch(clearSuppliers());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteSupplier(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getSuppliers using dispatch\r\n  dispatch(getSuppliers(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSuppliers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getSuppliers(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSuppliers(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      email: \"\",\r\n      contact: \"\",\r\n      companyName: \"\",\r\n      address: \"\",\r\n      balance: \"\",\r\n      status: \"\",\r\n      pic: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSuppliers(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getSuppliers(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSuppliers(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = suppliers.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    companyName: row.companyName && capitalizeEachWord(row.companyName),\r\n    address: row.address && capitalizeEachWord(row.address),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  balance, status, contact, companyName } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter Supplier name\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (contact === \"\") {\r\n      toast(\"Enter contact\", { position: \"top-right\", type: \"error\" });\r\n    } else if (balance === \"\") {\r\n      toast(\"Enter initial balance\", { position: \"top-right\", type: \"error\" });\r\n    } else if (companyName === \"\") {\r\n      toast(\"Enter company name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (selectedRowId !== null) {\r\n            const data = {\r\n              id: selectedRowId[0],\r\n              Data: newState,\r\n            };\r\n\r\n            //Hit API Call using dispatch to updated supplier\r\n            dispatch(updateSupplier(data));\r\n          } else {\r\n            //Hit API Call using dispatch to add Supplier\r\n            dispatch(addSupplier(newState));\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated supplier\r\n          dispatch(updateSupplier(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add Supplier\r\n          dispatch(addSupplier(state));\r\n        }\r\n      }\r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Supplier Page  */}\r\n      <Header\r\n        icon={<People style={{ marginRight: \"10px\" }} />}\r\n        title=\"Suppliers\"\r\n        subTitle=\"Manage Application Suppliers\"\r\n        addBtnTitle=\"Add Supplier\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup suppliers Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentCustomer).length !== 0\r\n              ? \"UPDATE SUPPLIER\"\r\n              : \"ADD SUPPLIER\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={supplierInputFields(selectedRowId, currentCustomer)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentCustomer).length !== 0 && currentCustomer}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE TENANT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Supplier?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchSupplierFilters}\r\n          searchInputForm={searchSupplierInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={supplierColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Supplier;\r\n","import { Delete, Edit, Info } from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Employee Columns\r\nexport const employeeColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 210,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/employees/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"email\", headerName: \"Email\", width: 230 },\r\n  {\r\n    field: \"salary\", headerName: \"Salary\", width: 110, renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.salary}`}>\r\n          Rs. {params.row.salary}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"remainingAdvance\", headerName: \"Remaining Advance\", width: 150, renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.remainingAdvance}`}>\r\n          Rs. {params.row.remainingAdvance}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"contact\", headerName: \"Contact\", width: 140 },\r\n  { field: \"designation\", headerName: \"Designation\", width: 130 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 90,\r\n    renderCell: (params) => {\r\n      return <div style={{ background: params.row.status === \"Active\" ? \"#02bf2e\" : \"#777\", color: \"white\", width: 65, textAlign: \"center\", borderRadius: 4 }}>\r\n        {params.row.status}\r\n      </div>\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={() => setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new employee form fields\r\nexport const employeeInputFields =(selectedRowId, currentData) => [\r\n    {\r\n      id: 1,\r\n      label: \"Name *\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      tabIndex: 0,\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Email\",\r\n      tabIndex: 1,\r\n      type: \"email\",\r\n      name: \"email\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n   \r\n    {\r\n      id: 3,\r\n      label: \"Contact\",\r\n      tabIndex: 2,\r\n      type: \"phone\",\r\n      name: \"contact\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Salary *\",\r\n      tabIndex: 3,\r\n      type: \"number\",\r\n      name: \"salary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Designation *\",\r\n      tabIndex: 4,\r\n      type: \"text\",\r\n      name: \"designation\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    \r\n    {\r\n      id: 6,\r\n      label: \"Address\",\r\n      tabIndex: 4,\r\n      type: \"text\",\r\n      name: \"address\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 7,\r\n      label: \"Status\",\r\n      type: \"select\",\r\n      tabIndex: 5,\r\n      disable: false,\r\n      name: \"status\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6,  \r\n      },\r\n      options: [\r\n        { id: 1, name: \"Active\", value: \"active\" },\r\n        { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n      ],\r\n    },\r\n    {\r\n        id: 8,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Employee\":\"Add Employee\",\r\n        type: \"button\",\r\n        tabIndex: 6,\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n\r\n//SEARCH Employee Filters\r\nexport const searchEmployeeFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Email\", value: \"email\" },\r\n        { id: 3, name: \"Contact\", value: \"contact\" },\r\n        { id: 4, name: \"Designation\", value: \"designation\" },\r\n        { id: 5, name: \"Advance\", value: \"advance\" },\r\n        { id: 6, name: \"Address\", value: \"address\" },\r\n        { id: 7, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH EMPLOYEES INPUTS\r\nexport const searchEmployeeInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { searchSupplierFilters, searchSupplierInput} from \"../../Components/sources/suppliersFormSources\";\r\nimport { employeeColumns } from \"../../Components/datatable/employeeTableSources\";\r\nimport { addEmployee, clearEmployees, deleteEmplyee, getEmployees, getSingleEmployee, updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { employeeInputFields, searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\n\r\nconst Employee = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const employees = useSelector((state) => state.employees.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.employees.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.employees.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.employees.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    designation: \"\",\r\n    address: \"\",\r\n    salary: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  \r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleEmployee(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        email: currentData.email,\r\n        contact: currentData.contact,\r\n        designation: currentData.designation,\r\n        salary: currentData.salary,\r\n        address: currentData.address,\r\n        status: currentData.status,\r\n      });\r\n      async function urlToFile(url) {\r\n        // Fetch the file\r\n        let response = await fetch(url);\r\n        let data = await response.blob();\r\n        let metadata = {\r\n          type: \"image/jpeg\",\r\n        };\r\n        let file = new File([data], \"test.jpg\", metadata);\r\n        // Return the file object\r\n        return file;\r\n      }\r\n\r\n      async function loadFile() {\r\n        const fileGenerated = await urlToFile(\r\n          `http://localhost:5000/public/employees/images/${currentData.pic}`\r\n        );\r\n\r\n        //Set file\r\n        setFile(fileGenerated);\r\n      }\r\n\r\n      if (currentData.pic) {\r\n        loadFile();\r\n      }\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all employees\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getEmployees using dispatch\r\n    dispatch(getEmployees(initialData));\r\n\r\n    //Call clear employees to clear employees from state on unmount\r\n    return () => {\r\n      dispatch(clearEmployees());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteEmplyee(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getEmployeess using dispatch\r\n  dispatch(getEmployees(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getEmployees(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getEmployees(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getEmployees(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      email: \"\",\r\n      contact: \"\",\r\n      designation: \"\",\r\n      address: \"\",\r\n      salary: \"\",\r\n      status: \"\",\r\n      pic: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getEmployees(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getEmployees(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getEmployees(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = employees.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    designation: row.designation && capitalizeEachWord(row.designation),\r\n    address: row.address && capitalizeEachWord(row.address),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  salary, status, contact, designation } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter employee name\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (salary === \"\") {\r\n      toast(\"Enter employee salary\", { position: \"top-right\", type: \"error\" });\r\n    } else if (salary <= 0) {\r\n      toast(\"Enter a valid salary\", { position: \"top-right\", type: \"error\" });\r\n    } else if (designation === \"\") {\r\n      toast(\"Enter employee designation\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (selectedRowId !== null) {\r\n            const data = {\r\n              id: selectedRowId[0],\r\n              Data: newState,\r\n            };\r\n\r\n            //Hit API Call using dispatch to updated employee\r\n            dispatch(updateEmployee(data));\r\n            handleOnFormDialogClose()\r\n          } else {\r\n            //Hit API Call using dispatch to add Employee\r\n            dispatch(addEmployee(newState));\r\n            handleOnFormDialogClose()\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated employee\r\n          dispatch(updateEmployee(data));\r\n          handleOnFormDialogClose()\r\n        } else {\r\n          //Hit API Call using dispatch to add Employee\r\n          dispatch(addEmployee(state));\r\n          handleOnFormDialogClose()\r\n        }\r\n      }\r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        title=\"Employees\"\r\n        subTitle=\"Manage Application Employees\"\r\n        addBtnTitle=\"Add Employee\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE EMPLOYEE\"\r\n              : \"ADD EMPLOYEE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={employeeInputFields(selectedRowId, currentData)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={`${Object.keys(currentData).length !== 0 && currentData.name}'s Detail`}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={()=>setDetailsDialog(false)}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE Employee\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Employee?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchEmployeeFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={employeeColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Employee;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Machine Columns\r\nexport const machineColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"type\", headerName: \"Fuel Type\", width: 150 },\r\n  { field: \"initialReading\", headerName: \"Initial Reading\", width: 150 },\r\n  { field: \"currentReading\", headerName: \"Current Reading\", width: 150 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new meter Reading form fields\r\nexport const machineInputFields = (selectedRowId, currentData) => [\r\n    {\r\n      id: 1,\r\n      label: \"Machine Name\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Fuel Type\",\r\n      type: \"select\",\r\n      name: \"type\",\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        { id: 1, name: \"Petrol\", value: \"petrol\" },\r\n        { id: 2, name: \"Diesel\", value: \"diesel\" },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Initial Reading\",\r\n      type: \"number\",\r\n      name: \"initialReading\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Current Reading\",\r\n      type: \"number\",\r\n      name: \"currentReading\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Status\",\r\n      type: \"select\",\r\n      name: \"status\",\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        { id: 1, name: \"Active\", value: \"active\" },\r\n        { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n        id: 6,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Machine\":\"Add Machine\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Machine Filters\r\nexport const searchMachineFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"type\", value: \"type\" },\r\n        { id: 7, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  LocalGasStation,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { employeeColumns } from \"../../Components/datatable/employeeTableSources\";\r\nimport { addEmployee, clearEmployees, deleteEmplyee, getEmployees, getSingleEmployee, updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { employeeInputFields, searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport { machineColumns } from \"../../Components/datatable/machineTableSources\";\r\nimport { addMachine, clearMachines, deleteMachine, getMachines, getSingleMachine, updateMachine } from \"../../redux/machineSlice/machineSlice\";\r\nimport { machineInputFields, searchMachineFilters } from \"../../Components/sources/machinesFormSources\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\n\r\nconst Machine = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const machines = useSelector((state) => state.machines.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.machines.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.machines.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.machines.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    initialReading: \"\",\r\n    currentReading: \"\",\r\n    status: \"\"\r\n  });\r\n  \r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleMachine(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    dispatch(getMachines(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearMachines());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Machine func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteMachine(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getMachines using dispatch\r\n  dispatch(getMachines(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getMachines(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getMachines(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getMachines(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      type: \"\",\r\n      initialReading: \"\",\r\n      currentReading: \"\",\r\n      status: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getMachines(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = machines.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    type: row.type && capitalizeEachWord(row.type),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  type, initialReading, currentReading, status} = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter machine name\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (type === \"\") {\r\n      toast(\"Select fuel type\", { position: \"top-right\", type: \"error\" });\r\n    } else if (initialReading === \"\") {\r\n      toast(\"Enter initial reading\", { position: \"top-right\", type: \"error\" });\r\n    } else if (currentReading === \"\") {\r\n      toast(\"Enter current reading\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {    \r\n        \r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated machine\r\n          dispatch(updateMachine(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add Machine\r\n          dispatch(addMachine(state));\r\n        }\r\n      \r\n    }\r\n  };\r\n//Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<LocalGasStation style={{ marginRight: \"10px\" }} />}\r\n        title=\"Machines\"\r\n        subTitle=\"Manage Application Machines\"\r\n        addBtnTitle=\"Add Machine\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE MACHINE\"\r\n              : \"ADD MACHINE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={machineInputFields(selectedRowId, currentData)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE MACHINE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Machine?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchMachineFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={machineColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Machine;\r\n","\r\n\r\n//Add new purchase form fields\r\nexport const purchaseInputFields = (selectedRowId, currentData, products, suppliers) => [\r\n  {\r\n    id: 1,\r\n    label: \"Select Product\",\r\n    type: \"select\",\r\n    name: \"productId\",\r\n    options: products.length > 0 && products.map(item => \r\n      // Here we are setup the filter operator items\r\n     { return { id: item._id, name: item.name, value: item._id } }\r\n    ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Select Supplier\",\r\n    type: \"select\",\r\n    name: \"supplierId\",\r\n    options: suppliers.length > 0 && suppliers.map(item => \r\n      // Here we are setup the filter operator items\r\n     { return { id: item._id, name: item.name, value: item._id,  avatarUrl: `http://localhost:5000/public/suppliers/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\"  } }\r\n    ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Product Quantity\",\r\n    type: \"number\",\r\n    name: \"quantity\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Cost Price\",\r\n    type: \"number\",\r\n    name: \"costPrice\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 5,\r\n    label: \"Selling Price\",\r\n    type: \"number\",\r\n    name: \"sellingPrice\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 6,\r\n    label: \"Paying Amount\",\r\n    type: \"number\",\r\n    name: \"paidAmount\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 7,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 8,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentData).length !== 0\r\n        ? \"Update Stock\"\r\n        : \"Add Stock\",\r\n    type: \"button\",\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n//SEARCH Purchase Filters\r\nexport const searchPurchaseFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        filter.field !== \"date\" && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== \"date\" && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === \"date\" && {\r\n          id: 7,\r\n          name: \"In Between\",\r\n          value: \"inBetween\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n\r\n      options: [\r\n        { id: 1, name: \"Supplier Name\", value: \"supplier\" },\r\n        { id: 2, name: \"Product Name\", value: \"product\" },\r\n        { id: 7, name: \"Date\", value: \"date\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Sorting\",\r\n      type: \"select\",\r\n      name: \"sort\",\r\n      size: \"small\",\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        { id: 1, name: \"Ascending\", value: 1 },\r\n        { id: 2, name: \"Descending\", value: -1 },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n    },\r\n  ];\r\n};\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  LocalGasStation,\r\n  Opacity,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { employeeColumns } from \"../../Components/datatable/employeeTableSources\";\r\nimport { addEmployee, clearEmployees, deleteEmplyee, getEmployees, getSingleEmployee, updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { employeeInputFields, searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport { machineColumns } from \"../../Components/datatable/machineTableSources\";\r\nimport { addMachine, clearMachines, deleteMachine, getMachines, getSingleMachine, updateMachine } from \"../../redux/machineSlice/machineSlice\";\r\nimport { machineInputFields, searchMachineFilters } from \"../../Components/sources/machinesFormSources\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { stocksColumns } from \"../../Components/datatable/stocksTableSources\";\r\nimport { getStocks } from \"../../redux/stockSlice/stockSlice\";\r\nimport { purchaseInputFields } from \"../../Components/sources/purchasesFormSources\";\r\nimport { getProducts } from \"../../redux/productSlice/productSlice\";\r\nimport { getSuppliers } from \"../../redux/supplierSlice/supplierSlice\";\r\nimport { addPurchase } from \"../../redux/purchaseStockSlice/purchaseStockSlice\";\r\n\r\nconst Stock = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const stocks = useSelector((state) => state.stocks.data);\r\n  const products = useSelector((state) => state.products.data);\r\n  const suppliers = useSelector((state) => state.suppliers.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.machines.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.stocks.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.stocks.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    productId: \"\",\r\n    supplierId: \"\",\r\n    quantity: \"\",\r\n    costPrice: \"\",\r\n    sellingPrice: \"\",\r\n    paidAmount: \"\",\r\n    date: \"\"\r\n  });\r\n  \r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleMachine(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    dispatch(getStocks(initialData));\r\n    dispatch(getProducts(initialData));\r\n    dispatch(getSuppliers(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearMachines());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Machine func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteMachine(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getMachines using dispatch\r\n  dispatch(getMachines(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getStocks(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getStocks(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getStocks(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      productId: \"\",\r\n      supplierId: \"\",\r\n      quantity: \"\",\r\n      costPrice: \"\",\r\n      sellingPrice: \"\",\r\n      paidAmount: \"\",\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getMachines(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = stocks.map((row) => ({\r\n    ...row,\r\n    // name: row.name && capitalizeEachWord(row.name),\r\n    // type: row.type && capitalizeEachWord(row.type),\r\n    // status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n  //Destructure values from the state\r\n  const { productId,\r\n    supplierId,\r\n    quantity,\r\n    costPrice,\r\n    sellingPrice,\r\n    paidAmount,\r\n    date} = state;\r\n  //Handle on submit function\r\n  const handleOnAddFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productId === \"\") {\r\n      toast(\"Select product\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (supplierId === \"\") {\r\n      toast(\"Select product supplier\", { position: \"top-right\", type: \"error\" });\r\n    } else if (quantity === \"\") {\r\n      toast(\"Enter quantity of product\", { position: \"top-right\", type: \"error\" });\r\n    } else if (costPrice === \"\") {\r\n      toast(\"Enter cost price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (sellingPrice === \"\") {\r\n      toast(\"Enter selling price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (paidAmount === \"\") {\r\n      toast(\"Enter amount paid\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date \", { position: \"top-right\", type: \"error\" });\r\n    } else {    \r\n        \r\n      //Hit API Call using dispatch to add Machine\r\n      dispatch(addPurchase(state));\r\n        \r\n      \r\n    }\r\n  };\r\n//Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<Opacity style={{ marginRight: \"10px\" }} />}\r\n        title=\"Stocks\"\r\n        subTitle=\"Manage Application Stocks\"\r\n        addBtnTitle=\"Add Stock\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\"ADD STOCK\"}\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddFormSubmit}\r\n          inputs={purchaseInputFields(selectedRowId, currentData, products, suppliers)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE MACHINE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Machine?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchMachineFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={stocksColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Stock;\r\n","import { Chip } from \"@mui/material\";\r\n\r\n//Export stocks Columns\r\nexport const stocksColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"product\",\r\n    headerName: \"Product Name\",\r\n    width: 400,\r\n     // width: 100,\r\n     renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n         {params.row?.product && params.row.product.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"stock\", headerName: \"Quantity\", width: 400},\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          {params.row.stock > 0 ? <Chip label=\"Available\" style={{background: \"green\", color: \"white\"}}/> : <Chip label=\"Out of Stock\" style={{background: \"red\"}}/>}\r\n         \r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export Product Columns\r\nexport const productColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/products/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"type\", headerName: \"Type\", width: 100 },\r\n  { field: \"costPrice\", headerName: \"Cost Price\", width: 150, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        {console.log(params.row.prices)}\r\n        Rs. {params.row.prices.costPrice ? params.row.prices.costPrice : \"\"}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"sellingPrice\", headerName: \"Selling Price\", width: 140, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.prices.newSellingPrice}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"date\", headerName: \"Last Updated\", width: 120,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div>\r\n        {params.row.prices.date}\r\n          </div>\r\n      )\r\n    }\r\n   },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 90,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          {/* <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new product form fields\r\nexport const productInputFields = (selectedRowId, currentData) => [\r\n    {\r\n      id: 1,\r\n      label: \"Product Name\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Type\",\r\n      type: \"select\",\r\n      name: \"type\",\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        { id: 1, name: \"Petrol\", value: \"petrol\" },\r\n        { id: 2, name: \"Diesel\", value: \"diesel\" },\r\n        { id: 3, name: \"Mobile\", value: \"mobile\" },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Cost Price\",\r\n      type: \"number\",\r\n      name: \"costPrice\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Selling Price\",\r\n      type: \"number\",\r\n      name: \"sellingPrice\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 6,\r\n      label: \"Status\",\r\n      type: \"select\",\r\n      name: \"status\",\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        { id: 1, name: \"Active\", value: \"active\" },\r\n        { id: 2, name: \"Deactive\", value: \"deactive\" },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n        id: 7,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Product\":\"Add Product\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Product Filters\r\nexport const searchProductFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"type\", value: \"type\" },\r\n        { id: 7, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH Employee Filters\r\nexport const searchEmployeeFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Email\", value: \"email\" },\r\n        { id: 3, name: \"Contact\", value: \"contact\" },\r\n        { id: 4, name: \"Designation\", value: \"designation\" },\r\n        { id: 5, name: \"Advance\", value: \"advance\" },\r\n        { id: 6, name: \"Address\", value: \"address\" },\r\n        { id: 7, name: \"Status\", value: \"status\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}\r\n\r\n//SEARCH EMPLOYEES INPUTS\r\nexport const searchEmployeeInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" && filter.field !== \"contact\" && {\r\n      id: 1,\r\n      label: `Enter ${filter?.field.replace(/^_/, '') // Remove underscore at the beginning, if any\r\n      .replace(/([A-Z])/g, ' $1') // Split on the basis of uppercase and capitalize each word\r\n      .replace(/^./, function(str){ return str.toUpperCase(); })}`,\r\n      type: \"text\",\r\n      disabled: filter.field === \"\" ? true : false,\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 2,\r\n      label: \"Start Date\",\r\n      type: \"date\",\r\n      name: \"startDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: filter.operator === \"inBetween\" ? 5 : 10\r\n      }\r\n    },\r\n    filter.field === \"date\" && filter.operator === \"inBetween\" && {\r\n      id: 3,\r\n      label: \"End Date\",\r\n      type: \"date\",\r\n      name: \"endDate\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 5\r\n      }\r\n    },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10\r\n      }\r\n    },\r\n   {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2  \r\n      },\r\n    },\r\n  ]\r\n}","import * as React from \"react\";\r\n\r\nimport Dialog from \"@mui/material/Dialog\";\r\n\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\n\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nimport { Box, Grid, IconButton, Paper, styled, Typography } from \"@mui/material\";\r\n\r\nimport { Dangerous } from \"@mui/icons-material\";\r\n\r\nimport Avatar from \"react-avatar\";\r\nimport { useContext } from \"react\";\r\nimport ModeContext from \"../../context/mode/ModeContext\";\r\n\r\nconst ProductDetails = ({\r\n    openDetailsDialog,\r\n    handleOnDelete,\r\n    setOpenDetailsDialog,\r\n    heading,\r\n    icon,\r\n    color,\r\n    state,\r\n    setState,\r\n    file,\r\n    setFile,\r\n    Id,\r\n    handleOnCloseDetails,\r\n    handleOnSubmit,\r\n    inputs,\r\n    message,\r\n}) => {\r\n\r\n    //Initializing the use Context to get DarkMode state\r\n    const { darkMode, dispatch } = useContext(ModeContext);\r\n\r\n\r\n    const DemoPaper = styled(Paper)(({ theme }) => ({\r\n        width: \"100%\",\r\n        // height: 120,\r\n        padding: theme.spacing(2),\r\n        ...theme.typography.body2,\r\n    }));\r\n\r\n    const capitalizeEachWord = (str) => {// Use a regular expression to find word boundaries where a lowercase letter is followed by an uppercase letter\r\n        let result = str.replace(/([a-z])([A-Z])/g, '$1 $2');\r\n        \r\n        // Split the string by space and capitalize the first letter of each word\r\n        result = result.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\r\n        \r\n        return result;};\r\n\r\n    const renderValue = (key, value, i) => {\r\n        if (key === 'prices' && value !== null) {\r\n            // Render nested objects with a recursive call\r\n            return (\r\n                <Grid item xs={12} key={i}>\r\n                    <Typography variant=\"h6\" style={{ marginBottom: 5 }}>{capitalizeEachWord(String(key))}</Typography>\r\n                    <Grid container spacing={2} style={{ paddingLeft: 20 }}>\r\n                        \r\n                            { console.log(value)}\r\n                        {value.map((item, nestedIndex) => (\r\n                            Object.entries(item).map(([nestedKey, nestedValue], nestedIndex) => {\r\n                                    if(nestedKey !== \"_id\" && nestedKey !== \"productId\" && nestedKey !== \"purchaseId\" && nestedKey !== \"createdOn\" && nestedKey !== \"__v\" && nestedKey !== \"date\"){\r\n\r\n                                        return  <Grid item xs={12} sm={6} md={6} lg={6} key={nestedKey}>\r\n                                            <Typography>{capitalizeEachWord(String(nestedKey))} : {capitalizeEachWord(String(nestedValue))} </Typography> </Grid>\r\n                                    }\r\n                            })\r\n                        ))}\r\n                    </Grid>\r\n                </Grid>\r\n            );\r\n        } else if (typeof value !== 'object' && key !== \"_id\" && key !== \"createdOn\" && key !== \"pic\" ) {\r\n            // Render simple values and handle \"credit\" and \"cash\" styling\r\n            return (\r\n                <Grid item xs={12} sm={6} md={6} lg={6} key={i}>\r\n                    \r\n                    <Box style={{ display: 'flex', gap: 10 }}>\r\n                        <Typography>{capitalizeEachWord(String(key))}</Typography>\r\n                        {value === \"active\" || value === \"deactive\" ? (\r\n                            <div style={{\r\n                                background: value === \"active\" ? \"#64c72e\" : \"#94928e\",\r\n                                color: \"white\",\r\n                                width: 55,\r\n                                textAlign: \"center\",\r\n                                borderRadius: 4\r\n                            }}>\r\n                                {capitalizeEachWord(String(value))}\r\n                            </div>\r\n                        ) : (\r\n                            <Typography>{capitalizeEachWord(String(value))}</Typography>\r\n                        )}\r\n                    </Box>\r\n                   \r\n                </Grid>\r\n            );\r\n        }\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n    Open alert dialog\r\n  </Button> */}\r\n            <Dialog\r\n                open={openDetailsDialog}\r\n                onClose={handleOnCloseDetails}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle\r\n                    id=\"alert-dialog-title\"\r\n                    style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"800\",\r\n                    }}\r\n                >\r\n                    <Box style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"600\",\r\n                    }}>\r\n                        {icon}\r\n                        {heading}\r\n                    </Box>\r\n                    <Box>\r\n                        <IconButton onClick={handleOnCloseDetails}>\r\n                            <Dangerous />\r\n                        </IconButton>\r\n\r\n                    </Box>\r\n\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {/* <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText> */}\r\n                    {/* Add New Tenant Form  */}\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            paddingTop: \"8px\",\r\n                            paddingBottom: \"8px\",\r\n                        }}\r\n                    >\r\n                        <Avatar src={inputs.pic ? `http://localhost:5000/public/products/images/${inputs.pic}`\r\n                            : \"./img/avatarfile.png\"} size={120} round={true} />\r\n                    </div>\r\n                    <Grid container spacing={2}>\r\n                        {\r\n                            Object.entries(inputs).map(([key, value], i) => (\r\n                       \r\n                                renderValue(key, value, i)\r\n                            ))\r\n                        }\r\n\r\n                    </Grid>\r\n                    {/* <div style={{ marginTop: 10, }}>\r\n                        {Object.entries(inputs).map(([key, value], i) => {\r\n                            if (Array.isArray(value)) {\r\n                                return value.map((item, index) => (\r\n                                    <DemoPaper key={`${key}-${index}`} style={{marginTop: 7, color: darkMode === \"dark\" ? \"#999\" : \"#222\"\r\n                                    }} >\r\n                                        <Box style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n                                            <Box>\r\n                                                <Box>Quantity: {item.quantity}</Box>\r\n                                                <Box>Selling Price: {item.price.newSellingPrice}</Box>\r\n\r\n                                            </Box>\r\n                                            <Box>{item.product.name}</Box>\r\n                                            <Box>\r\n                                                <Box>Total Amount: {item.quantity * item.price.newSellingPrice}</Box>\r\n                                                <Box>Discount Amount: {item.price.newSellingPrice / 100 * item.discount}</Box>\r\n                                            </Box>\r\n                                        </Box>\r\n                                    </DemoPaper>\r\n                                ));\r\n                            }\r\n                            return null; // or handle non-array values if needed\r\n                        })}\r\n                    </div> */}\r\n                </DialogContent>\r\n                {/* <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n         \r\n        </DialogActions> */}\r\n            </Dialog>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ProductDetails;\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  Widgets,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport { productColumns } from \"../../Components/datatable/productTableSources\";\r\nimport {searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport { productInputFields, searchProductFilters } from \"../../Components/sources/productsFormSources\";\r\nimport { addProduct, clearProducts, deleteProduct, getProducts, getSingleProduct, updateProduct } from \"../../redux/productSlice/productSlice\";\r\nimport ProductDetails from \"./ProductDetails\";\r\n\r\nconst Product = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.products.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.products.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.products.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.products.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n   \r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    costPrice: \"\",\r\n    sellingPrice: \"\",\r\n    date: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  \r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Product API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current product\r\n      dispatch(getSingleProduct(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when current Product is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        costPrice: currentData.prices[0].costPrice,\r\n        sellingPrice: currentData.prices[0].newSellingPrice,\r\n        date: currentData.prices[0].date,\r\n        status: currentData.status,\r\n      });\r\n      async function urlToFile(url) {\r\n        // Fetch the file\r\n        let response = await fetch(url);\r\n        let data = await response.blob();\r\n        let metadata = {\r\n          type: \"image/jpeg\",\r\n        };\r\n        let file = new File([data], \"test.jpg\", metadata);\r\n        // Return the file object\r\n        return file;\r\n      }\r\n\r\n      async function loadFile() {\r\n        const fileGenerated = await urlToFile(\r\n          `http://localhost:5000/public/products/images/${currentData.pic}`\r\n        );\r\n\r\n        //Set file\r\n        setFile(fileGenerated);\r\n      }\r\n\r\n      if (currentData.pic) {\r\n        loadFile();\r\n      }\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all employees\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getProducts using dispatch\r\n    dispatch(getProducts(initialData));\r\n\r\n    //Call clear products to clear products from state on unmount\r\n    return () => {\r\n      dispatch(clearProducts());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Product func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteProduct(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getProducts using dispatch\r\n  dispatch(getProducts(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getProducts(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getProducts(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getProducts(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      type: \"\",\r\n      costPrice: \"\",\r\n      sellingPrice: \"\",\r\n      date: \"\",\r\n      status: \"\",\r\n      pic: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getProducts(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getProducts(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getProducts(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows =  products.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    type: row.type && capitalizeEachWord(row.type),\r\n    status: row.status && capitalizeEachWord(row.status),\r\n    }));\r\n  //Destructure values from the state\r\n  const { name,  type, status, date, costPrice, sellingPrice } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter product name\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (type === \"\") {\r\n      toast(\"Select product type\", { position: \"top-right\", type: \"error\" });\r\n    } else if (costPrice === \"\") {\r\n      toast(\"Enter cost price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (costPrice < 0) {\r\n      toast(\"Cost Price can not be negative\", { position: \"top-right\", type: \"error\" });\r\n    } else if (sellingPrice === \"\") {\r\n      toast(\"Enter selling price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (sellingPrice < 0) {\r\n      toast(\"Selling Price can not be negative\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...state };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          if (selectedRowId !== null) {\r\n            const data = {\r\n              id: selectedRowId[0],\r\n              Data: newState,\r\n            };\r\n\r\n            //Hit API Call using dispatch to updated product\r\n            dispatch(updateProduct(data));\r\n          } else {\r\n            //Hit API Call using dispatch to add Product\r\n            dispatch(addProduct(newState));\r\n          }\r\n        }\r\n      } else {\r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated employee\r\n          dispatch(updateProduct(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add Employee\r\n          dispatch(addProduct(state));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOnCloseDetails = () => {\r\n\r\n    setDetailsDialog(false)\r\n  }\r\n  //Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Products Page  */}\r\n      <Header\r\n        icon={<Widgets style={{ marginRight: \"10px\" }} />}\r\n        title=\"Products\"\r\n        subTitle=\"Manage Application Products\"\r\n        addBtnTitle=\"Add Product\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE PRODUCT\"\r\n              : \"ADD PRODUCT\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={productInputFields(selectedRowId, currentData)}\r\n          icon={<Widgets style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <ProductDetails\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={currentData.name}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={handleOnCloseDetails}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE Product\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Product?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchProductFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Products  */}\r\n        <DataTable\r\n          columns={productColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","//Add new price form fields\r\nexport const priceInputFields = (selectedRowId, currentData, products) => [\r\n    {\r\n      id: 1,\r\n      label: \"Product Name\",\r\n      type: \"select\",\r\n      name: \"productId\",\r\n      options: products.length > 0 && products.map(item => \r\n        // Here we are setup the filter operator items\r\n       { return { id: item._id, name: item.name, value: item._id,  avatarUrl: `http://localhost:5000/public/products/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\"  } }\r\n      ),\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Cost Price\",\r\n      type: \"number\",\r\n      name: \"costPrice\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Selling Price\",\r\n      type: \"number\",\r\n      name: \"sellingPrice\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n        id: 7,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Price\":\"Add New Price\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Price Filters\r\nexport const searchPriceFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Product\", value: \"product\" },\r\n        { id: 2, name: \"date\", value: \"date\" }\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export Price Columns\r\nexport const priceColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.product.pic\r\n                ? `${DOMAIN}/public/products/images/${params.row.product.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.product.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"costPrice\", headerName: \"Cost Price\", width: 120, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        {console.log(params.row.prices)}\r\n        Rs. {params.row.costPrice ? params.row.costPrice : \"\"}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"oldSellingPrice\", headerName: \"Old Selling Price\", width: 140, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.oldSellingPrice}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"newSellingPrice\", headerName: \"Selling Price\", width: 120, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.newSellingPrice}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"differenceValue\", headerName: \"Difference Amount\", width: 170, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.differenceValue}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"date\", headerName: \"Date\", width: 120,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div>\r\n        {params.row.date}\r\n          </div>\r\n      )\r\n    }\r\n   },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 110,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport { AssignmentInd, PriceChange, Widgets } from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { productColumns } from \"../../Components/datatable/productTableSources\";\r\nimport {\r\n  addEmployee,\r\n  getEmployees,\r\n  updateEmployee,\r\n} from \"../../redux/employeeSlice/employeeSlice\";\r\nimport {\r\n  searchEmployeeFilters,\r\n  searchEmployeeInput,\r\n} from \"../../Components/sources/employeesFormSources\";\r\nimport { productInputFields } from \"../../Components/sources/productsFormSources\";\r\nimport {\r\n  addProduct,\r\n  clearProducts,\r\n  deleteProduct,\r\n  getProducts,\r\n  getSingleProduct,\r\n  updateProduct,\r\n} from \"../../redux/productSlice/productSlice\";\r\nimport {\r\n  priceInputFields,\r\n  searchPriceFilters,\r\n} from \"../../Components/sources/pricesFormSources\";\r\nimport { priceColumns } from \"../../Components/datatable/priceTableSources\";\r\nimport {\r\n  addPrice,\r\n  clearPrices,\r\n  deletePrice,\r\n  getPrices,\r\n} from \"../../redux/priceSlice/priceSlice\";\r\n\r\nconst Prices = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.products.data);\r\n  const prices = useSelector((state) => state.prices.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.products.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.prices.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.prices.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    productId: \"\",\r\n    costPrice: \"\",\r\n    sellingPrice: \"\",\r\n    date: \"\",\r\n  });\r\n\r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Product API Hit\r\n  useEffect(() => {\r\n    if (\r\n      (selectedRowId !== undefined && openFormDialog === true) ||\r\n      (selectedRowId !== undefined && openDetailsDialog === true)\r\n    ) {\r\n      //Dispatch current product\r\n      dispatch(getSingleProduct(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when current Product is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        costPrice: currentData.prices[0].costPrice,\r\n        sellingPrice: currentData.prices[0].newSellingPrice,\r\n        date: currentData.prices[0].date,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all employees\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getProducts using dispatch\r\n    dispatch(getProducts(initialData));\r\n    dispatch(getPrices(initialData));\r\n\r\n    //Call clear products to clear products from state on unmount\r\n    return () => {\r\n      dispatch(clearPrices());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    } else {\r\n      handleOnFormDialogClose();\r\n    }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Product func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deletePrice(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getProducts using dispatch\r\n    dispatch(getPrices(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPrices(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getPrices(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPrices(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      productId: \"\",\r\n      costPrice: \"\",\r\n      sellingPrice: \"\",\r\n      date: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPrices(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getPrices(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPrices(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word, i) => {\r\n        return i === 0\r\n          ? word.charAt(0).toUpperCase() + word.slice(1)\r\n          : word.toLowerCase();\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = prices.map((row) => ({\r\n    ...row,\r\n  }));\r\n  //Destructure values from the state\r\n  const { productId, date, costPrice, sellingPrice } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productId === \"\") {\r\n      toast(\"Select product\", { position: \"top-right\", type: \"error\" });\r\n    } else if (costPrice === \"\") {\r\n      toast(\"Enter cost price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (costPrice < 0) {\r\n      toast(\"Cost Price can not be negative\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (sellingPrice === \"\") {\r\n      toast(\"Enter selling price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (sellingPrice < 0) {\r\n      toast(\"Selling Price can not be negative\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Hit API Call using dispatch to add New Price\r\n      dispatch(addPrice(state));\r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n  //   window.addEventListener(\"keydown\", (event) => {\r\n  //     // event.ctrlKey.preventDefault()\r\n  //     if (event.ctrlKey && event.key === \"a\") {\r\n  //       event.preventDefault();\r\n  //       setOpenFormDialog(true);\r\n  //     } else if (event.key === \"Delete\") {\r\n  //       if (selectedRowId === null || selectedRowId === \"\") {\r\n  //         toast(\"Select Customer first\", {\r\n  //           position: \"top-right\",\r\n  //           type: \"error\",\r\n  //         });\r\n  //       } else {\r\n  //         setOpenDeleteDialog(true);\r\n  //       }\r\n  //     }\r\n  //     // else if(event.ctrlKey && event.key === 'e'){\r\n  //     //   event.preventDefault()\r\n  //     //   dispatch(getSingleCustomer(selectedRowId))\r\n  //     // }\r\n  //   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Products Page  */}\r\n      <Header\r\n        icon={<PriceChange style={{ marginRight: \"10px\" }} />}\r\n        title=\"Prices\"\r\n        subTitle=\"Manage Application Products Prices\"\r\n        addBtnTitle=\"Add Price\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE PRICE\"\r\n              : \"ADD PRICE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={priceInputFields(selectedRowId, currentData, products)}\r\n          icon={<Widgets style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE Product\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\"Are sure you want to delete Product?.\"}\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchPriceFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Products  */}\r\n        <DataTable\r\n          columns={priceColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Prices;\r\n","export const getCurrentDate = () => {\r\n    const today = new Date();\r\n    \r\n    // Get day, month, and year\r\n    const day = String(today.getDate()).padStart(2, '0');  // Ensures two digits\r\n    const month = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed\r\n    const year = today.getFullYear();\r\n  \r\n    // Return the date in \"DD-MM-YYYY\" format\r\n    return `${day}-${month}-${year}`;\r\n  }","import {\r\n  // Badge,\r\n  Box,\r\n  Button,\r\n  // Chip,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport \"./sales.scss\";\r\nimport {\r\n  ChevronRight,\r\n  DynamicFeed,\r\n  ExpandMore,\r\n  People,\r\n  PersonAdd,\r\n  Refresh,\r\n} from \"@mui/icons-material\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  addMachine,\r\n  clearMachines,\r\n  deleteMachine,\r\n  getMachines,\r\n  updateMachine,\r\n} from \"../../redux/machineSlice/machineSlice\";\r\nimport { getProducts } from \"../../redux/productSlice/productSlice\";\r\nimport {\r\n  addCustomer,\r\n  getCustomers,\r\n} from \"../../redux/customerSlice/customerSlice\";\r\n\r\nimport Avatar from \"react-avatar\";\r\nimport { addSale } from \"../../redux/saleSlice/saleSlice\";\r\nimport { customerInputFields } from \"../../Components/sources/customersFormSources\";\r\nimport { getCurrentDate } from \"../../Components/date/date\";\r\nimport { getAllProducts } from \"../../redux/completeDataSlice/completeDataSlice\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport { getTodaysClosing } from \"../../redux/closingsSlice/closingsSlice\";\r\n\r\n\r\nconst Sale = () => {\r\n  //Call Auth Context & Extract Logout\r\n  const { user } = useContext(AuthContext);\r\n\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.completeData.products);\r\n  //Initializing useSelector to get data from redux store\r\n  const customers = useSelector((state) => state.customers.data);\r\n  //Check closings\r\n  const closed = useSelector((state) => state.closings.closed);\r\n\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.sales.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //State for open details of item in sale form\r\n  const [openItem, setOpenItem] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n  //Setup state for values\r\n  const [customer, setCustomer] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    contact: \"\",\r\n    address: \"\",\r\n    balance: \"\",\r\n    status: \"\",\r\n    pic: \"\",\r\n  });\r\n  //State for bill\r\n  const [bill, setBill] = useState({\r\n    totalAmount: 0,\r\n    discountAmount: 0,\r\n  });\r\n\r\n\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    cashierId: user._id,\r\n    customerId: \"\",\r\n    items: [],\r\n    paymentMethod: \"\",\r\n    paidAmount: \"\",\r\n    date: \"\"\r\n  });\r\n\r\n  const [hold, setHold] = useState(null);\r\n\r\n  console.log(\"Check the Closed => \", closed)\r\n  //Round values function\r\n  const handleValuesRound = (num) => {\r\n    return Math.round(num * 100) / 100;\r\n  }\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getMachines using dispatch\r\n    dispatch(getAllProducts());\r\n    dispatch(getCustomers(initialData));\r\n    dispatch(getTodaysClosing())\r\n\r\n    //set Guest customer \r\n    setState({ ...state, customerId: \"668a5306630d3d9a7448d8fe\" })\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    } else {\r\n      handleOnFormDialogClose();\r\n    }\r\n  }, [submitErrors]);\r\n\r\n  //useEffect to handle amount on quantity and discount change\r\n  useEffect(() => {\r\n    // Function to calculate the total and discount amounts\r\n    const calculateBill = () => {\r\n      let totalAmount = 0;\r\n      let discountAmount = 0;\r\n\r\n      state?.items?.forEach((item) => {\r\n        const product = products.find(\r\n          (product) => product._id === item.productId\r\n        );\r\n        if (product) {\r\n          const price = parseFloat(product.price.newSellingPrice) || 0;\r\n          const quantity = parseInt(item.quantity) || 0;\r\n          const discount = parseFloat(item.discount) || 0;\r\n\r\n          const itemTotal = handleValuesRound(price * quantity);\r\n          const itemDiscount = handleValuesRound(itemTotal * (discount / 100));\r\n\r\n          totalAmount += itemTotal;\r\n          discountAmount += itemDiscount;\r\n        }\r\n      });\r\n\r\n      setBill({\r\n        totalAmount: handleValuesRound(totalAmount),\r\n        discountAmount: handleValuesRound(discountAmount),\r\n      });\r\n    };\r\n\r\n    calculateBill();\r\n  }, [state]);\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      cashierId: user._id,\r\n      customerId: \"\",\r\n      items: [],\r\n      paymentMethod: \"cash\",\r\n      paidAmount: \"\",\r\n    });\r\n  };\r\n\r\n  //Destructure values from the state\r\n  const { cashierId, customerId, items, paymentMethod, paidAmount } = state;\r\n\r\n  //Handle On Input Change\r\n  const handleOnChange = (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n  //Handle On Change in Item\r\n  const handleItemChange = (e, item) => {\r\n    //First find item\r\n    const existingItem = state.items.find(\r\n      (element) => element.productId === item.productId\r\n    );\r\n\r\n    if (existingItem) {\r\n      // Item already in cart, increase quantity\r\n      const updatedItems = state.items.map((element) =>\r\n        element.productId === item.productId\r\n          ? { ...element, [e.target.name]: e.target.value }\r\n          : element\r\n      );\r\n\r\n      setState({\r\n        ...state,\r\n        items: updatedItems,\r\n      });\r\n    }\r\n  };\r\n  //Handle open Item\r\n  const handleOpenItems = () => {\r\n    setOpenItem(!openItem);\r\n  };\r\n  //Handle On Remove Item\r\n  const handleOnRemoveItem = (item) => {\r\n    console.log(\"Removing Item Id => \", item._id);\r\n\r\n    // Find the item to be removed\r\n    const existingItem = state.items.find(\r\n      (element) => element.productId === item._id\r\n    );\r\n\r\n    if (existingItem) {\r\n      const discount =\r\n      handleValuesRound(item.price.newSellingPrice * (existingItem.discount / 100));\r\n      const totalReduction =\r\n      handleValuesRound(item.price.newSellingPrice * existingItem.quantity);\r\n\r\n      // Filter out the item to be removed\r\n      const newItems = state.items.filter(\r\n        (element) => element.productId !== item._id\r\n      );\r\n\r\n      // Update state with new items\r\n      setState({ ...state, items: newItems });\r\n\r\n      // Update the bill\r\n      setBill({\r\n        ...bill,\r\n        totalAmount: handleValuesRound((bill.totalAmount - totalReduction)),\r\n        discountAmount: handleValuesRound((bill.discountAmount - discount * existingItem.quantity)),\r\n      });\r\n    }\r\n  };\r\n\r\n  //Handle On Select\r\n  const handleOnSelect = (item) => {\r\n    // Calculate discount\r\n    let discount = 0;\r\n    const existingItem = state.items.find(\r\n      (element) => element.productId === item._id\r\n    );\r\n\r\n    if (existingItem) {\r\n      // Item already in cart, increase quantity\r\n      const updatedItems = state.items.map((element) =>\r\n        element.productId === item._id\r\n          ? { ...element, quantity: element.quantity + 1 }\r\n          : element\r\n      );\r\n\r\n      setState({\r\n        ...state,\r\n        items: updatedItems,\r\n      });\r\n\r\n      discount = handleValuesRound(item.price.newSellingPrice * (existingItem.discount / 100));\r\n    } else {\r\n      // Item not in cart, add new item\r\n      const newItem = {\r\n        productId: item._id,\r\n        quantity: 1,\r\n        priceId: item.price._id,\r\n        discount: 0,\r\n      };\r\n\r\n      setState({ ...state, items: [...state.items, newItem] });\r\n\r\n      discount = handleValuesRound(item.price.newSellingPrice * (newItem.discount / 100));\r\n    }\r\n\r\n    // Update the total bill amount\r\n    setBill({\r\n      ...bill,\r\n      totalAmount: handleValuesRound(bill.totalAmount + item.price.newSellingPrice),\r\n      discountAmount: handleValuesRound(bill.discountAmount + discount),\r\n    });\r\n  };\r\n\r\n  //Handle Clear Sale\r\n  const handleClearSale = () => {\r\n    //Clear Sale state and also billing state\r\n    setState({\r\n      cashierId: user._id,\r\n      customerId: \"668a5306630d3d9a7448d8fe\",\r\n      items: [],\r\n      paymentMethod: \"cash\",\r\n      paidAmount: \"\",\r\n    });\r\n\r\n    setBill({\r\n      totalAmount: 0,\r\n      discountAmount: 0,\r\n    });\r\n  };\r\n\r\n  //Handle hold sale\r\n  const handleOnHold = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (state.items.length === 0) {\r\n      toast(\"No sale to hold\", { position: 'top-right', type: 'warning' })\r\n    } else {\r\n\r\n      setHold({ ...state });\r\n      setState({\r\n        cashierId: user._id,\r\n        customerId: \"668a5306630d3d9a7448d8fe\",\r\n        items: [],\r\n        paymentMethod: \"\",\r\n        paidAmount: \"\",\r\n      });\r\n    }\r\n  };\r\n\r\n  //Handle on Resume Sale\r\n  const handleOnResume = () => {\r\n    if (hold !== null) {\r\n      setState({ ...hold });\r\n      setHold(null);\r\n    } else {\r\n      toast(\"No Sale to Resume\", { position: \"top-right\", type: \"warning\" });\r\n    }\r\n  };\r\n  //Handle on submit function\r\n  const handleOnAddSale = (e) => {\r\n    e.preventDefault();\r\n    if (cashierId === \"\") {\r\n      toast(\"Login again user id is missing\", { position: \"top-right\", type: \"error\" });\r\n    } else if (customerId === \"\") {\r\n      toast(\"Please select customer\", { position: \"top-right\", type: \"error\" });\r\n    } else if (items.length < 1) {\r\n      toast(\"Please select product to sale\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (paymentMethod === \"\") {\r\n      toast(\"Select any payment method\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (paymentMethod === \"cash\" && paidAmount === \"\") {\r\n      toast(\"In cash payment method amount can't be null\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n\r\n      const newState = { ...state, date: getCurrentDate() }\r\n      //Hit API Call using dispatch to add Machine\r\n      dispatch(addSale(newState));\r\n\r\n\r\n    }\r\n  };\r\n\r\n  const { name, balance, status } = customer;\r\n\r\n  const handleOnAddCustomerSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter Customer name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (balance === \"\") {\r\n      toast(\"Enter initial balance\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n      if (file !== \"\") {\r\n        //Function to convert file data in form data for upload\r\n        function getFormData(object) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", object);\r\n          return formData;\r\n        }\r\n        //File Upload Axios Endpoint function\r\n        const res = await FileUpload(getFormData(file));\r\n\r\n        if (res?.success === true) {\r\n          //NewState variable\r\n          const newState = { ...customer };\r\n          newState.pic = res.filename;\r\n          //Add uploaded file name into the state\r\n          setState(newState);\r\n          //After uploading image file submit other fields\r\n          //Hit API Call using dispatch to add tenant\r\n          dispatch(addCustomer(newState));\r\n        }\r\n      } else {\r\n        //Hit API Call using dispatch to add tenant\r\n        dispatch(addCustomer(customer));\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Main Card for setup employees Table */}\r\n      <Grid container className=\"posCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\"ADD CUSTOMER\"}\r\n          color=\"#999999\"\r\n          state={customer}\r\n          Id={selectedRowId}\r\n          setState={setCustomer}\r\n          file={file}\r\n          setFile={setFile}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddCustomerSubmit}\r\n          inputs={customerInputFields(selectedRowId)}\r\n          icon={<People style={{ marginRight: \"10px\" }} />}\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n\r\n        {/* ************************************ PRODUCTS **********************************************  */}\r\n        <Grid item lg={8} className=\"productGrid\">\r\n          <h4>Point of Sale</h4>\r\n          <h4>Fuel</h4>\r\n          <Grid container gap={1}>\r\n            {products.length > 0 &&\r\n              products.map((item) => {\r\n                if (item.type === \"petrol\" || item.type === \"diesel\") {\r\n                  return (\r\n                    <Grid\r\n                      key={item._id}\r\n                      item\r\n                      lg={2}\r\n                      md={3}\r\n                      xl={3}\r\n                      sm={3}\r\n                      className=\"productItems\"\r\n                      onClick={() => handleOnSelect(item)}\r\n                    >\r\n                      {state.items?.length > 0 &&\r\n                        state.items.map((nestedItem) => {\r\n                          if (item._id === nestedItem.productId) {\r\n                            return (\r\n                              <Box key={item._id} className=\"selectedProduct\">\r\n                                {nestedItem.quantity}\r\n                              </Box>\r\n                            );\r\n                          } else {\r\n                            return null;\r\n                          }\r\n                        })}\r\n                      <Avatar\r\n                        src={`http://localhost:5000/public/products/images/${item.pic}`}\r\n                        round\r\n                        size=\"60\"\r\n                      />\r\n                      <Typography>{item.name}</Typography>\r\n                      <Typography>\r\n                        Rs. {item.price.newSellingPrice}\r\n                      </Typography>\r\n                    </Grid>\r\n                  );\r\n                }\r\n              })}\r\n          </Grid>\r\n          <h4 style={{ marginTop: 20 }}>Mobile Oil</h4>\r\n          <Grid container gap={1}>\r\n            {products.length > 0 &&\r\n              products.map((item) => {\r\n                if (item.type !== \"petrol\" && item.type !== \"diesel\") {\r\n                  return (\r\n                    <Grid\r\n                      key={item._id}\r\n                      item\r\n                      lg={2}\r\n                      md={3}\r\n                      xl={3}\r\n                      sm={3}\r\n                      className=\"productItems\"\r\n                      onClick={() => handleOnSelect(item)}\r\n                    >\r\n                      {state.items?.length > 0 &&\r\n                        state.items.map((nestedItem) => {\r\n                          if (item._id === nestedItem.productId) {\r\n                            return (\r\n                              <Box key={item._id} className=\"selectedProduct\">\r\n                                {nestedItem.quantity}\r\n                              </Box>\r\n                            );\r\n                          } else {\r\n                            return null;\r\n                          }\r\n                        })}\r\n                      <Avatar\r\n                        src={`http://localhost:5000/public/products/images/${item.pic}`}\r\n                        round\r\n                        size=\"60\"\r\n                      />\r\n                      <Typography>{item.name}</Typography>\r\n                      <Typography>\r\n                        Rs. {item?.price?.newSellingPrice}\r\n                      </Typography>\r\n                    </Grid>\r\n                  );\r\n                }\r\n              })}\r\n          </Grid>\r\n        </Grid>\r\n        {/* NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN ADD SALE FORM NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN  */}\r\n        <Grid item lg={4} className=\"itemsForm\">\r\n          <Box\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <Box className=\"title\">\r\n              <h4>Items Entry</h4>\r\n            </Box>\r\n            <Box className=\"actionIcons\">\r\n              <Tooltip title=\"Add Customer\">\r\n                <IconButton onClick={() => setOpenFormDialog(true)}>\r\n                  <PersonAdd />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Refresh / Clear form\">\r\n                <IconButton onClick={() => handleClearSale()}>\r\n                  <Refresh />\r\n                </IconButton>\r\n              </Tooltip>\r\n              <Tooltip title=\"Resume Sale\">\r\n                <IconButton onClick={() => handleOnResume()}>\r\n                  <DynamicFeed />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </Box>\r\n          </Box>\r\n\r\n          <FormControl style={{ width: \"100%\" }} size=\"small\">\r\n            <InputLabel id=\"demo-simple-select-label\">{\"Customer\"}</InputLabel>\r\n            <Select\r\n              labelId=\"demo-simple-select-label\"\r\n              id=\"demo-simple-select\"\r\n              value={state.customerId !== \"\" ? state.customerId : \"\"}\r\n              label=\"Customer\"\r\n              size=\"small\"\r\n              name=\"customerId\"\r\n              onChange={(e) => handleOnChange(e)}\r\n            >\r\n              {/* Mapping up the options of select component */}\r\n              {customers.map(\r\n                (item) =>\r\n                  item && (\r\n                    <MenuItem key={item._id} value={item._id}>\r\n                      <Avatar\r\n                        src={`http://localhost:5000/public/customers/images/${item.pic}`}\r\n                        round\r\n                        size=\"30\"\r\n                        style={{ marginRight: 10 }}\r\n                      />\r\n                      {item.name}\r\n                    </MenuItem>\r\n                  )\r\n              )}\r\n            </Select>\r\n          </FormControl>\r\n          <hr style={{ marginTop: 10, height: 1, color: \"#666\" }} />\r\n\r\n          <Box className=\"itemsContainer\">\r\n            {state.items?.length > 0 &&\r\n              state.items.map((item) => {\r\n                return products.map((element) => {\r\n                  if (item.productId === element._id) {\r\n                    return (\r\n                      <Box\r\n                        key={item.productId} // Ensure unique key for each top-level element\r\n                        className=\"itemBox\"\r\n                        style={{ height: openItem ? 100 : 38 }}\r\n                      >\r\n                        <Box className=\"itemWrapperBox\">\r\n                          <Box className=\"innerItemBox\">\r\n                            <IconButton\r\n                              style={{ padding: 1 }}\r\n                              onClick={handleOpenItems}\r\n                            >\r\n                              {openItem ? <ExpandMore /> : <ChevronRight />}\r\n                            </IconButton>\r\n                            <Typography\r\n                              style={{ marginRight: 10, marginLeft: 3 }}\r\n                            >\r\n                              {item.quantity}\r\n                            </Typography>\r\n                            <Typography>{element.name}</Typography>\r\n                          </Box>\r\n                          <Box className=\"innerItemBox\">\r\n                            <Typography style={{ marginRight: 5 }}>\r\n                              Rs. {element.price.newSellingPrice}\r\n                            </Typography>\r\n                            <IconButton\r\n                              style={{ padding: 1 }}\r\n                              onClick={() => handleOnRemoveItem(element)}\r\n                            >\r\n                              <DangerousIcon style={{ fontSize: 20 }} />\r\n                            </IconButton>\r\n                          </Box>\r\n                        </Box>\r\n                        <Box>\r\n                          <TextField\r\n                            label=\"Quantity\"\r\n                            size=\"small\"\r\n                            type=\"text\"\r\n                            name=\"quantity\"\r\n                            value={item.quantity ? item.quantity : \"\"}\r\n                            onChange={(e) => handleItemChange(e, item)}\r\n                            style={{\r\n                              width: \"48%\",\r\n                              marginTop: 10,\r\n                              marginRight: 4,\r\n                            }}\r\n                          />\r\n                          <TextField\r\n                            label=\"Discount %\"\r\n                            size=\"small\"\r\n                            type=\"text\"\r\n                            name=\"discount\"\r\n                            value={item.discount ? item.discount : \"\"}\r\n                            onChange={(e) => handleItemChange(e, item)}\r\n                            style={{ width: \"48%\", marginTop: 10 }}\r\n                          />\r\n                        </Box>\r\n                      </Box>\r\n                    );\r\n                  }\r\n                  return null;\r\n                });\r\n              })}\r\n          </Box>\r\n          <hr style={{ marginTop: 10, height: 1, color: \"#666\" }} />\r\n          <Box>\r\n            <Box\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                marginTop: 10,\r\n              }}\r\n            >\r\n              <Typography>Total Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600 }}>\r\n                {bill.totalAmount.toLocaleString('en-US', {\r\n                style: 'currency',\r\n                currency: 'PKR',\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2\r\n              })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <Typography>Discount Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600 }}>\r\n                {bill.discountAmount.toLocaleString('en-US', {\r\n                style: 'currency',\r\n                currency: 'PKR',\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2\r\n              })}\r\n              </Typography>\r\n            </Box>\r\n            <Box style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n              <Typography>Payable Amount: </Typography>\r\n              <Typography style={{ marginRight: 10, fontWeight: 600 }}>\r\n                {handleValuesRound(bill.totalAmount - bill.discountAmount).toLocaleString('en-US', {\r\n                style: 'currency',\r\n                currency: 'PKR',\r\n                minimumFractionDigits: 2,\r\n                maximumFractionDigits: 2\r\n              })}\r\n              </Typography>\r\n            </Box>\r\n            <Box>\r\n              <FormControl\r\n                style={{ width: \"48%\", marginRight: 7, marginTop: 10 }}\r\n                size=\"small\"\r\n              >\r\n                <InputLabel id=\"demo-simple-select-label\">\r\n                  {\"Payment Type\"}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"demo-simple-select-label\"\r\n                  id=\"demo-simple-select\"\r\n                  value={state.paymentMethod ? state.paymentMethod : \"\"}\r\n                  label=\"Payment Type\"\r\n                  size=\"small\"\r\n                  name=\"paymentMethod\"\r\n                  onChange={(e) => handleOnChange(e)}\r\n                >\r\n                  {/* Mapping up the options of select component */}\r\n                  {[\r\n                    { id: 1, name: \"Cash\", value: \"cash\" },\r\n                    { id: 2, name: \"Credit\", value: \"credit\" },\r\n                  ].map(\r\n                    (item) =>\r\n                      item && (\r\n                        <MenuItem key={item.id} value={item.value}>\r\n                          {item.name}\r\n                        </MenuItem>\r\n                      )\r\n                  )}\r\n                </Select>\r\n              </FormControl>\r\n              <TextField\r\n                label=\"Amount\"\r\n                size=\"small\"\r\n                type=\"number\"\r\n                name=\"paidAmount\"\r\n                value={state.paidAmount ? state.paidAmount : \"\"}\r\n                onChange={(e) => handleOnChange(e)}\r\n                style={{ width: \"48%\", marginTop: 10 }}\r\n              />\r\n            </Box>\r\n          </Box>\r\n          <Button\r\n            type={`submit`}\r\n            color={`primary`}\r\n            variant=\"contained\"\r\n            style={{ width: \"48%\", marginTop: 10, marginRight: 8 }}\r\n            onClick={(e) => handleOnHold(e)}\r\n            disabled={hold !== null ? true : false}\r\n          >\r\n            Hold\r\n            {hold !== null && (\r\n              <Box\r\n                style={{\r\n                  position: \"absolute\",\r\n                  right: -3,\r\n                  top: -3,\r\n                  backgroundColor: \"#0496c7\",\r\n                  width: 20,\r\n                  height: 20,\r\n                  fontSize: 14,\r\n                  borderRadius: \"50%\",\r\n                }}\r\n              >\r\n                1\r\n              </Box>\r\n            )}\r\n          </Button>\r\n          <Button\r\n            type={`submit`}\r\n            color={`primary`}\r\n            variant=\"contained\"\r\n            disabled={closed}\r\n            onClick={(e) => handleOnAddSale(e)}\r\n            style={{ width: \"48%\", marginTop: 10 }}\r\n          >\r\n            Proceed\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Sale;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export sales Columns\r\nexport const salesColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"date\",\r\n    headerName: \"Date\",\r\n    width: 100\r\n  },\r\n  { field: \"receiptNo\", headerName: \"Receipt No\", width: 90 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 190,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.customer.pic\r\n                ? `${DOMAIN}/public/customers/images/${params.row.customer.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.customer.name.length > 11 ? params.row.customer.name.substring(0,11) + `....` : params.row.customer.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"product\", headerName: \"Products Info\", width: 230, renderCell: (params) => {\r\n    return (\r\n      <div style={{width: \"100%\"}}>\r\n         {params.row.items?.length > 0 && params.row.items.map(item => {\r\n          return (\r\n            <div style={{display: \"flex\", \r\n              justifyContent: \"space-between\", width: \"100%\"\r\n            \r\n            }} key={item._id}>\r\n              <div>{item.product !== null ? item.product.name : null}</div>\r\n              <div>Qty. {item.quantity}</div>\r\n              {/* <div>Rs. {item.price.newSellingPrice}</div> */}\r\n            </div>\r\n          )\r\n         })}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"paymentMethod\", headerName: \"Method\", width: 70, renderCell: (params) => {\r\n    return (\r\n      <div style={{ background: params.row.paymentMethod === \"credit\" ? \"#ff0000\" : \"#06c90a\", color: \"white\", width: 50, textAlign: \"center\", borderRadius: 4}}>\r\n        {params.row.paymentMethod}\r\n        </div>\r\n    )}},\r\n  { field: \"totalAmount\", headerName: \"Total Amount\", width: 120, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.totalAmount}\r\n        </div>\r\n    )}},\r\n  // { field: \"totalDiscount\", headerName: \"Total Discount\", width: 100, renderCell: (params) => {\r\n  //   return (\r\n  //     <div>\r\n  //       Rs. {params.row.totalDiscount}\r\n  //       </div>\r\n  //   )} },\r\n  { field: \"paidAmount\", headerName: \"Paid Amount\", width: 100, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.paidAmount ? params.row.paidAmount : 0}\r\n        </div>\r\n    )} },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 90,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          {/* <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          {params.row.status === \"open\" && <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import * as React from \"react\";\r\n\r\nimport Dialog from \"@mui/material/Dialog\";\r\n\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\n\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nimport { Box, Grid, IconButton, Paper, styled, Typography } from \"@mui/material\";\r\n\r\nimport { Dangerous } from \"@mui/icons-material\";\r\n\r\nimport Avatar from \"react-avatar\";\r\nimport { useContext } from \"react\";\r\nimport ModeContext from \"../../context/mode/ModeContext\";\r\n\r\nconst SaleDetails = ({\r\n    openDetailsDialog,\r\n    handleOnDelete,\r\n    setOpenDetailsDialog,\r\n    heading,\r\n    icon,\r\n    color,\r\n    state,\r\n    setState,\r\n    file,\r\n    setFile,\r\n    Id,\r\n    handleOnCloseDetails,\r\n    handleOnSubmit,\r\n    inputs,\r\n    message,\r\n}) => {\r\n\r\n    //Initializing the use Context to get DarkMode state\r\n  const { darkMode, dispatch } = useContext(ModeContext);\r\n\r\n  console.log(darkMode)\r\n    const DemoPaper = styled(Paper)(({ theme }) => ({\r\n        width: \"100%\",\r\n        // height: 120,\r\n        padding: theme.spacing(2),\r\n        ...theme.typography.body2,\r\n    }));\r\n\r\n    const capitalizeEachWord = (str) => {\r\n        // Ensure the input is a string\r\n        if (typeof str !== 'string') {\r\n            return '';\r\n        }\r\n\r\n        // Step 1: Split the PascalCase string into individual words based on transitions between lowercase and uppercase\r\n        const words = str.match(/([A-Z][a-z]+|[a-z]+)/g);\r\n\r\n        // Step 2: Handle cases where no matches are found (words is null)\r\n        if (!words) {\r\n            return str; // If no matches, return the original string\r\n        }\r\n\r\n        // Step 3: Capitalize the first letter of all words\r\n        const capitalizedWords = words.map((word, index) => {\r\n            // Capitalize the first word, but leave others as lowercase\r\n            return index === 0 ? word.charAt(0).toUpperCase() + word.slice(1).toLowerCase() : word.toLowerCase();\r\n        });\r\n\r\n        // Step 4: Join the words back into a single string with spaces between them\r\n        return capitalizedWords.join(' ');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* <Button variant=\"outlined\" onClick={handleClickOpen}>\r\n    Open alert dialog\r\n  </Button> */}\r\n            <Dialog\r\n                open={openDetailsDialog}\r\n                onClose={handleOnCloseDetails}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle\r\n                    id=\"alert-dialog-title\"\r\n                    style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"800\",\r\n\r\n                    }}\r\n                >\r\n                    <Box style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"600\",\r\n                    }}>\r\n                        {icon}\r\n                        {heading}\r\n                    </Box>\r\n                    <Box>\r\n                        <IconButton onClick={handleOnCloseDetails}>\r\n                            <Dangerous />\r\n                        </IconButton>\r\n\r\n                    </Box>\r\n\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {/* <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText> */}\r\n                    {/* Add New Tenant Form  */}\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            paddingTop: \"8px\",\r\n                            paddingBottom: \"8px\",\r\n                        }}\r\n                    >\r\n                        <Avatar src={inputs.customer ? `http://localhost:5000/public/customers/images/${inputs.customer.pic}`\r\n                            : \"./img/avatarfile.png\"} size={120} round={true} />\r\n                    </div>\r\n                    <Grid container spacing={2}>\r\n                        {\r\n\r\n                            Object.entries(inputs).map(([key, value], i) => {\r\n                                // Convert any objects or other complex values to strings for safe rendering\r\n                                return (\r\n                                    typeof value !== 'object' && typeof value !== 'array' && key !== \"customerId\" && key !== \"_id\" && (\r\n                                        <Grid item xs={12} sm={6} md={6} lg={6} key={i}>\r\n                                            <Box style={{ display: 'flex', gap: 10 }}>\r\n                                                <Typography>{capitalizeEachWord(String(key))}</Typography>\r\n                                               {value === \"credit\" || value === \"cash\" ? <div style={{ background: value === \"credit\" ? \"#ff0000\" : \"#06c90a\", color: \"white\", width: 50, textAlign: \"center\", borderRadius: 4 }}>\r\n                                                    {value}\r\n                                                </div> : <Typography>{capitalizeEachWord(String(value))}</Typography>}\r\n                                            </Box>\r\n                                        </Grid>\r\n                                    )\r\n                                );\r\n                            })\r\n\r\n\r\n                        }\r\n\r\n                    </Grid>\r\n                    <div style={{ marginTop: 10, height: 200, overflow: \"auto\"}}>\r\n                        {Object.entries(inputs).map(([key, value], i) => {\r\n                            if (Array.isArray(value)) {\r\n                                return value.map((item, index) => (\r\n                                    <DemoPaper key={`${key}-${index}`} style={{marginTop: 7, color: darkMode === \"dark\" ? \"#999\" : \"#222\"\r\n                                    }} >\r\n                                        <Box style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n                                            <Box>\r\n                                                <Box>Quantity: {item.quantity}</Box>\r\n                                                <Box>Selling Price: {item.price.newSellingPrice}</Box>\r\n\r\n                                            </Box>\r\n                                            <Box>{item.product.name}</Box>\r\n                                            <Box>\r\n                                                <Box>Total Amount: {item.quantity * item.price.newSellingPrice}</Box>\r\n                                                <Box>Discount Amount: {item.price.newSellingPrice / 100 * item.discount}</Box>\r\n                                            </Box>\r\n                                        </Box>\r\n                                    </DemoPaper>\r\n                                ));\r\n                            }\r\n                            return null; // or handle non-array values if needed\r\n                        })}\r\n                    </div>\r\n                </DialogContent>\r\n                {/* <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n         \r\n        </DialogActions> */}\r\n            </Dialog>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SaleDetails;\r\n","//SEARCH Sales Filters\r\nexport const searchSalesFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Receipt No\", value: \"receiptNo\" },\r\n        { id: 2, name: \"Customer Name\", value: \"name\" },\r\n        { id: 3, name: \"Product Name\", value: \"productName\" },\r\n        { id: 4, name: \"Date\", value: \"date\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  Assessment,\r\n} from \"@mui/icons-material\";\r\nimport \"./sales.scss\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getMachines } from \"../../redux/machineSlice/machineSlice\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { salesColumns } from \"../../Components/datatable/salesTableSources\";\r\nimport { clearSales, deleteSale, getSales, getSingleSale } from \"../../redux/saleSlice/saleSlice\";\r\nimport SaleDetails from \"./SaleDetails\";\r\nimport { searchSalesFilters } from \"../../Components/sources/salesFormSources\";\r\n\r\nconst TotalSale = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const sales = useSelector((state) => state.sales.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.sales.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.sales.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.sales.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    initialReading: \"\",\r\n    currentReading: \"\",\r\n    status: \"\"\r\n  });\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true)) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSale(selectedRowId[0]));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  console.log(\"Checking the search State \", search)\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    // dispatch(getMachines(initialData));\r\n    dispatch(getSales(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearSales());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    }\r\n    // else {\r\n    //   // handleOnFormDialogClose();\r\n    // }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Sale func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deleteSale(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getMachines using dispatch\r\n    dispatch(getSales(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSales(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getSales(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  function calculateTotalAndDiscount(items) {\r\n    let totalAmount = 0;\r\n    let totalDiscount = 0;\r\n\r\n    items?.forEach(item => {\r\n        if (!item.price || !item.price.newSellingPrice) {\r\n            console.error(\"Missing price data for item:\", item);\r\n            return;\r\n        }\r\n\r\n        let sellingPrice = item.price.newSellingPrice;\r\n        let discountAmount = (sellingPrice * item.discount) / 100;\r\n\r\n        let itemTotal = sellingPrice  * item.quantity;\r\n\r\n        totalAmount += itemTotal;\r\n        totalDiscount += discountAmount * item.quantity;\r\n    });\r\n\r\n    console.log(\"Total Amount:\", totalAmount, \"Total Discount:\", totalDiscount);\r\n    return { totalAmount, totalDiscount };\r\n}\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = sales.length > 0 ? sales.map((row) => ({\r\n    ...row,\r\n    totalAmount: row.items && calculateTotalAndDiscount(row.items).totalAmount,\r\n    totalDiscount: row.items && calculateTotalAndDiscount(row.items).totalDiscount,\r\n    product: row.items\r\n  })) : [];\r\n\r\n  const handleOnCloseDetails = () => {\r\n\r\n    setDetailsDialog(false)\r\n  }\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n        title=\"Sales\"\r\n        subTitle=\"Manage Application Sales\"\r\n      // addBtnTitle=\"Add Machine\"\r\n      // dialog={openFormDialog}\r\n      // setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n\r\n        {/* Employee Details Dialog box  */}\r\n        <SaleDetails\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={Object.keys(currentData).length !== 0 ? `Sales Detail of ${currentData.customer.name}` : \"Sale Details\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={handleOnCloseDetails}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE SALE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Sale?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchSalesFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={salesColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TotalSale;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export Purchase Columns\r\nexport const purchaseColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"supplier\",\r\n    headerName: \"Supplier Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.supplier?.pic\r\n                ? `${DOMAIN}/public/suppliers/images/${params.row.supplier.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.supplierName}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"productName\", headerName: \"Product Name\", width: 150 },\r\n  { field: \"quantity\", headerName: \"Quantity\", width: 120 },\r\n  { field: \"costPrice\", headerName: \"Cost Price\", width: 110, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.costPrice}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"sellingPrice\", headerName: \"Selling Price\", width: 110, renderCell: (params) => {\r\n    return (\r\n      <div>\r\n        Rs. {params.row.sellingPrice}\r\n        </div>\r\n    )\r\n  } },\r\n  { field: \"date\", headerName: \"Date\", width: 120,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div>\r\n        {params.row.date}\r\n          </div>\r\n      )\r\n    }\r\n   },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          {/* <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  Store,\r\n  SwitchAccount,\r\n  Widgets,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { productColumns } from \"../../Components/datatable/productTableSources\";\r\nimport {\r\n  addEmployee,\r\n  getEmployees,\r\n  updateEmployee,\r\n} from \"../../redux/employeeSlice/employeeSlice\";\r\nimport {\r\n  searchEmployeeFilters,\r\n  searchEmployeeInput,\r\n} from \"../../Components/sources/employeesFormSources\";\r\nimport { productInputFields } from \"../../Components/sources/productsFormSources\";\r\nimport {\r\n  addProduct,\r\n  clearProducts,\r\n  deleteProduct,\r\n  getProducts,\r\n  getSingleProduct,\r\n  updateProduct,\r\n} from \"../../redux/productSlice/productSlice\";\r\nimport { purchaseColumns } from \"../../Components/datatable/purchaseTableSources\";\r\nimport {\r\n  addPurchase,\r\n  clearPurchases,\r\n  deletePurchase,\r\n  getPurchases,\r\n  getSinglePurchase,\r\n  updatePurchase,\r\n} from \"../../redux/purchaseStockSlice/purchaseStockSlice\";\r\nimport { purchaseInputFields, searchPurchaseFilters } from \"../../Components/sources/purchasesFormSources\";\r\nimport { getSuppliers } from \"../../redux/supplierSlice/supplierSlice\";\r\n\r\nconst Purchase = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.products.data);\r\n  const purchases = useSelector((state) => state.purchases.data);\r\n  const suppliers = useSelector((state) => state.suppliers.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.purchases.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.purchases.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.purchases.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    productId: \"\",\r\n    supplierId: \"\",\r\n    quantity: \"\",\r\n    costPrice: \"\",\r\n    sellingPrice: \"\",\r\n    paidAmount: \"\",\r\n    date: \"\",\r\n  });\r\n\r\n  //Use State for search inputs\r\n  const [file, setFile] = useState(\"\");\r\n\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Product API Hit\r\n  useEffect(() => {\r\n    if (\r\n      (selectedRowId !== undefined && openFormDialog === true) ||\r\n      (selectedRowId !== undefined && openDetailsDialog === true)\r\n    ) {\r\n      //Dispatch current purchase\r\n      dispatch(getSinglePurchase(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when current Product is updated\r\n      setState({\r\n        productId: currentData.productId,\r\n        supplierId: currentData.supplierId,\r\n        quantity: currentData.quantity,\r\n        costPrice: currentData.costPrice,\r\n        sellingPrice: currentData.sellingPrice,\r\n        paidAmount: currentData.paidAmount,\r\n        date: currentData.date,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all purchases\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getProducts using dispatch\r\n    dispatch(getProducts(initialData));\r\n    dispatch(getPurchases(initialData));\r\n    dispatch(getSuppliers(initialData));\r\n\r\n    //Call clear products to clear products from state on unmount\r\n    return () => {\r\n      dispatch(clearPurchases());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    } else {\r\n      handleOnFormDialogClose();\r\n    }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Purchase stock func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deletePurchase(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getPurchases using dispatch\r\n    dispatch(getPurchases(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPurchases(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getPurchases(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPurchases(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      productId: \"\",\r\n      supplierId: \"\",\r\n      quantity: \"\",\r\n      costPrice: \"\",\r\n      sellingPrice: \"\",\r\n      paidAmount: \"\",\r\n      date: \"\",\r\n    });\r\n    //Clear File loaded in file state\r\n    setFile(\"\");\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPurchases(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getPurchases(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getPurchases(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    console.log(sentence)\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = purchases.map((row) => ({\r\n    ...row,\r\n    supplierName: row.supplier && capitalizeEachWord(row.supplier.name),\r\n    productName: row.product && capitalizeEachWord(row.product.name),\r\n    \r\n    // status: row.status && capitalizeEachWord(row.status),\r\n  }));\r\n\r\n  //Destructure values from the state\r\n  const {\r\n    productId,\r\n    supplierId,\r\n    quantity,\r\n    costPrice,\r\n    sellingPrice,\r\n    paidAmount,\r\n    date,\r\n  } = state;\r\n\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productId === \"\") {\r\n      toast(\"Select product\", { position: \"top-right\", type: \"error\" });\r\n    } else if (supplierId === \"\") {\r\n      toast(\"Select product supplier\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (quantity === \"\") {\r\n      toast(\"Enter quantity of product\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (costPrice === \"\") {\r\n      toast(\"Enter cost price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (sellingPrice === \"\") {\r\n      toast(\"Enter selling price\", { position: \"top-right\", type: \"error\" });\r\n    } else if (paidAmount === \"\") {\r\n      toast(\"Enter amount paid\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date \", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      if (selectedRowId !== null) {\r\n        const data = {\r\n          id: selectedRowId[0],\r\n          Data: state,\r\n        };\r\n        //Hit API Call using dispatch to updated purchase\r\n        dispatch(updatePurchase(data));\r\n      } else {\r\n        //Hit API Call using dispatch to add purchase\r\n        dispatch(addPurchase(state));\r\n        loadData()\r\n      }\r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n  //   window.addEventListener(\"keydown\", (event) => {\r\n  //     // event.ctrlKey.preventDefault()\r\n  //     if (event.ctrlKey && event.key === \"a\") {\r\n  //       event.preventDefault();\r\n  //       setOpenFormDialog(true);\r\n  //     } else if (event.key === \"Delete\") {\r\n  //       if (selectedRowId === null || selectedRowId === \"\") {\r\n  //         toast(\"Select Customer first\", {\r\n  //           position: \"top-right\",\r\n  //           type: \"error\",\r\n  //         });\r\n  //       } else {\r\n  //         setOpenDeleteDialog(true);\r\n  //       }\r\n  //     }\r\n  //     // else if(event.ctrlKey && event.key === 'e'){\r\n  //     //   event.preventDefault()\r\n  //     //   dispatch(getSingleCustomer(selectedRowId))\r\n  //     // }\r\n  //   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Products Page  */}\r\n      <Header\r\n        icon={<Store style={{ marginRight: \"10px\" }} />}\r\n        title=\"Purchase History\"\r\n        subTitle=\"Manage Application Stocks\"\r\n        addBtnTitle=\"Add Stock\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE STOCK\"\r\n              : \"ADD STOCK\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={purchaseInputFields(\r\n            selectedRowId,\r\n            currentData,\r\n            products,\r\n            suppliers\r\n          )}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE PURCHASED STOCK\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\"Are sure you want to delete Purchased Stock?.\"}\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchPurchaseFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Products  */}\r\n        <DataTable\r\n          columns={purchaseColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Purchase;\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  LocalGasStation,\r\n  Speed,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { employeeColumns } from \"../../Components/datatable/employeeTableSources\";\r\nimport { addEmployee, clearEmployees, deleteEmplyee, getEmployees, getSingleEmployee, updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { employeeInputFields, searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport { machineColumns } from \"../../Components/datatable/machineTableSources\";\r\nimport { addMachine, clearMachines, deleteMachine, getMachines, getSingleMachine, updateMachine } from \"../../redux/machineSlice/machineSlice\";\r\nimport { machineInputFields, searchMachineFilters } from \"../../Components/sources/machinesFormSources\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { readingColumns } from \"../../Components/datatable/readingTableSources\";\r\nimport { deleteReading, getReadings } from \"../../redux/readingSlice/readingSlice\";\r\n\r\nconst Readings = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const machines = useSelector((state) => state.machines.data);\r\n  const readings = useSelector((state) => state.readings.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.machines.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.machines.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.readings.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    initialReading: \"\",\r\n    currentReading: \"\",\r\n    status: \"\"\r\n  });\r\n  \r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleMachine(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    dispatch(getMachines(initialData));\r\n    dispatch(getReadings(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearMachines());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Machine func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteReading(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getMachines using dispatch\r\n  dispatch(getMachines(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getMachines(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getMachines(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getMachines(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      name: \"\",\r\n      type: \"\",\r\n      initialReading: \"\",\r\n      currentReading: \"\",\r\n      status: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getMachines(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getMachines(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = readings.map((row) => ({\r\n    ...row,\r\n    name: row.machine.name && capitalizeEachWord(row.machine.name),\r\n    type: row.machine.type && capitalizeEachWord(row.machine.type)\r\n  }));\r\n  //Destructure values from the state\r\n  const { name,  type, initialReading, currentReading, status} = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter machine name\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (type === \"\") {\r\n      toast(\"Select fuel type\", { position: \"top-right\", type: \"error\" });\r\n    } else if (initialReading === \"\") {\r\n      toast(\"Enter initial reading\", { position: \"top-right\", type: \"error\" });\r\n    } else if (currentReading === \"\") {\r\n      toast(\"Enter current reading\", { position: \"top-right\", type: \"error\" });\r\n    } else if (status === \"\") {\r\n      toast(\"Please select status\", { position: \"top-right\", type: \"error\" });\r\n    } else {    \r\n        \r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated machine\r\n          dispatch(updateMachine(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add Machine\r\n          dispatch(addMachine(state));\r\n        }\r\n      \r\n    }\r\n  };\r\n//Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<Speed style={{ marginRight: \"10px\" }} />}\r\n        title=\"Machine Readings\"\r\n        subTitle=\"Manage Application Machines Readings\"\r\n        addBtnTitle=\"Add Machine\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE MACHINE\"\r\n              : \"ADD MACHINE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={machineInputFields(selectedRowId, currentData)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE READING\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Machine Reading?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchMachineFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={readingColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Readings;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Reading Columns\r\nexport const readingColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Machine\",\r\n    width: 200,\r\n  },\r\n  // { field: \"email\", headerName: \"Email\", width: 230 },\r\n  { field: \"type\", headerName: \"Type\", width: 200 },\r\n  { field: \"prevReading\", headerName: \"Previous Reading\", width: 200 },\r\n  { field: \"newReading\", headerName: \"Current Reading\", width: 200 },\r\n  { field: \"date\", headerName: \"Date\", width: 130 },\r\n  \r\n];\r\n\r\n","import { Link } from \"react-router-dom\";\r\nimport { Delete, Edit, Info, Style } from \"@mui/icons-material\";\r\nimport { IconButton, Chip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n//Export Customer Payment Columns\r\nexport const customerPaymentColumns = (\r\n  setOpenDeleteDialog,\r\n  setDetailsDialog,\r\n  setOpenFormDialog\r\n) => [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.customer.pic\r\n                ? `${DOMAIN}/public/customers/images/${params.row.customer.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"prevAmount\",\r\n    headerName: \"Previous Amount\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return <div className=\"cellAction\">Rs. {params.row.prevAmount}</div>;\r\n    },\r\n  },\r\n  { field: \"amount\", headerName: \"Paid Amount\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.amount}</div>;\r\n  }, },\r\n  { field: \"remaining\", headerName: \"Remaining Amount\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.remAmountBefore}</div>;\r\n  }, },\r\n  {\r\n    field: \"date\",\r\n    headerName: \"Date\",\r\n    width: 150,\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true);\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setDetailsDialog(true)}\r\n          >\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          {params.row.status === \"open\" && <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { DOMAIN } from \"../../backend/API\";\r\n\r\n//Add new customer Payment form fields\r\nexport const customerPaymentInputFields = (selectedRowId, currentCustomer, customers) => [\r\n  {\r\n    id: 1,\r\n    label: \"Customer\",\r\n    type: \"select\",\r\n    name: \"customerId\",\r\n    options:\r\n      customers.length > 0 &&\r\n      customers.map((item) =>\r\n        // Here we are setup the filter operator items\r\n        {\r\n          return { id: item._id, name: item.name, value: item._id, avatarUrl: `${DOMAIN}/public/customers/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\" , salary: item.balance.toLocaleString('en-US', { style: 'currency' ,\r\n            currency: 'PKR' , minimumFractionDigits: 2, maximumFractionDigits: 2 }) };\r\n        }\r\n      ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Amount\",\r\n    tabIndex: 1,\r\n    type: \"number\",\r\n    name: \"amount\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentCustomer).length !== 0\r\n        ? \"Update Customer Payment\"\r\n        : \"ADD CUSTOMER Payemnt\",\r\n    type: \"button\",\r\n    tabIndex: 6,\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n//SEARCH Customer Payment Filters\r\nexport const searchCustomerPaymentFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        filter.field !== \"date\" && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        // filter.field !== \"date\" && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === \"date\" && {\r\n          id: 7,\r\n          name: \"In Between\",\r\n          value: \"inBetween\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n\r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Date\", value: \"date\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Sorting\",\r\n      type: \"select\",\r\n      name: \"sort\",\r\n      size: \"small\",\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        { id: 1, name: \"Ascending\", value: 1 },\r\n        { id: 2, name: \"Descending\", value: -1 },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n    },\r\n  ];\r\n};\r\n\r\n//SEARCH CUSTOMERS INPUTS\r\nexport const searchCustomerInput = (filter) => {\r\n  return [\r\n    filter.field !== \"date\" &&\r\n      filter.field !== \"contact\" && {\r\n        id: 1,\r\n        label: `Enter ${filter?.field\r\n          .replace(/^_/, \"\") // Remove underscore at the beginning, if any\r\n          .replace(/([A-Z])/g, \" $1\") // Split on the basis of uppercase and capitalize each word\r\n          .replace(/^./, function (str) {\r\n            return str.toUpperCase();\r\n          })}`,\r\n        type: \"text\",\r\n        disabled: filter.field === \"\" ? true : false,\r\n        name: \"searchInput\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 10,\r\n        },\r\n      },\r\n    filter.field === \"date\" &&\r\n      filter.operator === \"inBetween\" && {\r\n        id: 2,\r\n        label: \"Start Date\",\r\n        type: \"date\",\r\n        name: \"startDate\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: filter.operator === \"inBetween\" ? 5 : 10,\r\n        },\r\n      },\r\n    filter.field === \"date\" &&\r\n      filter.operator === \"inBetween\" && {\r\n        id: 3,\r\n        label: \"End Date\",\r\n        type: \"date\",\r\n        name: \"endDate\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 5,\r\n        },\r\n      },\r\n    filter.field === \"contact\" && {\r\n      id: 4,\r\n      type: \"phone\",\r\n      name: \"searchInput\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 8,\r\n        md: 8,\r\n        lg: 10,\r\n      },\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Search\",\r\n      type: \"button\",\r\n      btntype: \"submit\",\r\n      variant: \"contained\",\r\n      color: \"primary\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 2,\r\n      },\r\n    },\r\n  ];\r\n};\r\n","import \"./customer.scss\";\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  AttachMoney,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport {\r\n  addCustomer,\r\n  clearCustomers,\r\n  deleteCustomer,\r\n  getCustomers,\r\n  getSingleCustomer,\r\n  updateCustomer,\r\n} from \"../../redux/customerSlice/customerSlice\";\r\nimport {\r\n  customerInputFields,\r\n  searchCustomerFilters,\r\n  searchCustomerInput,\r\n} from \"../../Components/sources/customersFormSources\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { customerPaymentColumns } from \"../../Components/datatable/customerPaymentTableSources\";\r\nimport { addCustomerPayment, clearCustomerPayments, deleteCustomerPayment, getCustomerPayments, getSingleCustomerPayment, updateCustomerPayment } from \"../../redux/customerPaymentSlice/customerPaymentSlice\";\r\nimport { customerPaymentInputFields, searchCustomerPaymentFilters } from \"../../Components/sources/customerPaymentsFormSources\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\n\r\nconst CustomerPayment = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Use Auth Context get user\r\n  const {user} = useContext(AuthContext)\r\n  //Initializing useSelector to get data from redux store\r\n  const customers = useSelector((state) => state.customers.data);\r\n  const customerpayments = useSelector((state) => state.customerpayments.data);\r\n  //Initializing the current customer\r\n  const currentCustomer = useSelector((state) => state.customerpayments.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.customerpayments.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.customerpayments.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  \r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    cashierId: user._id,\r\n    customerId: \"\",\r\n    amount: \"\",\r\n    date: \"\"\r\n  });\r\n\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current customer\r\n      dispatch(getSingleCustomerPayment(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentCustomer).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        customerId: currentCustomer.customerId,\r\n        amount: currentCustomer.amount,\r\n        date: currentCustomer.date\r\n      });     \r\n    }\r\n  }, [currentCustomer]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getCustomers using dispatch\r\n    dispatch(getCustomers(initialData));\r\n    dispatch(getCustomerPayments(initialData));\r\n\r\n    //Call clear customers to clear customers from state on unmount\r\n    return () => {\r\n      dispatch(clearCustomerPayments());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteCustomerPayment(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getCustomers using dispatch\r\n  dispatch(getCustomerPayments(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  console.log(newState)\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomerPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getCustomerPayments(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      console.log(\"New State => \", newState)\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getCustomerPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      cashierId: user._id,\r\n      customerId: \"\",\r\n      amount: \"\",\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomerPayments(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getCustomerPayments(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomerPayments(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = customerpayments.map((row) => ({\r\n    ...row,\r\n    name: row.customer.name && capitalizeEachWord(row.customer.name),\r\n    remaining: row.customer.balance ? row.customer.balance : 0,\r\n    \r\n  }));\r\n  //Destructure values from the state\r\n  const { cashierId, customerId,  amount, date } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (cashierId === \"\") {\r\n      toast(\"Please re-login\", { position: \"top-right\", type: \"error\" });\r\n    } else if (customerId === \"\") {\r\n      toast(\"Select Customer\", { position: \"top-right\", type: \"error\" });\r\n    } else if (amount === \"\") {\r\n      toast(\"Please enter amount\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n    \r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated tenant\r\n          dispatch(updateCustomerPayment(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add tenant\r\n          dispatch(addCustomerPayment(state));\r\n          loadData()\r\n        }\r\n      \r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<AttachMoney style={{ marginRight: \"10px\" }} />}\r\n        title=\"Customer Payments\"\r\n        subTitle=\"Manage Application Customers\"\r\n        // link=\"/customers/new\"\r\n        addBtnTitle=\"Add Customer Payment\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentCustomer).length !== 0\r\n              ? \"UPDATE CUSTOMER PAYMENT\"\r\n              : \"ADD CUSTOMER PAYMENT\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n        \r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={customerPaymentInputFields(selectedRowId, currentCustomer, customers)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        {Object.keys(currentCustomer).length !== 0 && <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={currentCustomer}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />}\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE CUSTOMER PAYMENT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are you sure you want to delete this payment.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchCustomerPaymentFilters}\r\n          searchInputForm={searchCustomerInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={customerPaymentColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CustomerPayment;\r\n","//Add new supplier Payment form fields\r\nexport const supplierPaymentInputFields = (selectedRowId, currentSupplier, suppliers) => [\r\n  {\r\n    id: 1,\r\n    label: \"Supplier\",\r\n    type: \"select\",\r\n    name: \"supplierId\",\r\n    options:\r\n    suppliers.length > 0 &&\r\n    suppliers.map((item) =>\r\n        // Here we are setup the filter operator items\r\n        {\r\n          return { id: item._id, name: item.name, value: item._id, avatarUrl: `http://localhost:5000/public/suppliers/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\" };\r\n        }\r\n      ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Amount\",\r\n    tabIndex: 1,\r\n    type: \"number\",\r\n    name: \"amount\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentSupplier).length !== 0\r\n        ? \"Update Supplier Payment\"\r\n        : \"ADD Supplier Payemnt\",\r\n    type: \"button\",\r\n    tabIndex: 6,\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n//SEARCH Supplier Payment Filters\r\nexport const searchSupplierPaymentFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        filter.field !== \"date\" && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        // filter.field !== \"date\" && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === \"date\" && {\r\n          id: 7,\r\n          name: \"In Between\",\r\n          value: \"inBetween\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n\r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Date\", value: \"date\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Sorting\",\r\n      type: \"select\",\r\n      name: \"sort\",\r\n      size: \"small\",\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        { id: 1, name: \"Ascending\", value: 1 },\r\n        { id: 2, name: \"Descending\", value: -1 },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n    },\r\n  ];\r\n};\r\n\r\n\r\n","import { Delete, Edit, Info } from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n//Export Supplier Payment Columns\r\nexport const supplierPaymentColumns = (\r\n  setOpenDeleteDialog,\r\n  setDetailsDialog,\r\n  setOpenFormDialog\r\n) => [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.pic\r\n                ? `${DOMAIN}/public/suppliers/images/${params.row.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"prevAmount\",\r\n    headerName: \"Previous Amount\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return <div className=\"cellAction\">Rs. {params.row.prevAmount}</div>;\r\n    },\r\n  },\r\n  { field: \"amount\", headerName: \"Paid Amount\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.amount}</div>;\r\n  }, },\r\n  { field: \"remaining\", headerName: \"Remaining Amount\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.remaining}</div>;\r\n  }, },\r\n  {\r\n    field: \"date\",\r\n    headerName: \"Date\",\r\n    width: 150,\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true);\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setDetailsDialog(true)}\r\n          >\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","// import \"./customer.scss\";\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  AttachMoney,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { addSupplierPayment, clearSupplierPayments, deleteSupplierPayment, getSingleSupplierPayment, getSupplierPayments, updateSupplierPayment } from \"../../redux/supplierPaymentSlice/supplierPaymentSlice\";\r\nimport { getSuppliers } from \"../../redux/supplierSlice/supplierSlice\";\r\nimport { searchSupplierPaymentFilters, supplierPaymentInputFields } from \"../../Components/sources/supplierPaymentsFormSources\";\r\nimport { supplierPaymentColumns } from \"../../Components/datatable/supplierPaymentTableSources\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\n\r\nconst SupplierPayment = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const suppliers = useSelector((state) => state.suppliers.data);\r\n  const supplierpayments = useSelector((state) => state.supplierpayments.data);\r\n  //Initializing the current customer\r\n  const currentData = useSelector((state) => state.supplierpayments.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.supplierpayments.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.supplierpayments.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  \r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    supplierId: \"\",\r\n    amount: \"\",\r\n    date: \"\"\r\n  });\r\n\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Supplier API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSupplierPayment(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        supplierId: currentData.supplierId,\r\n        amount: currentData.amount,\r\n        date: currentData.date\r\n      });     \r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getSuppliers using dispatch\r\n    dispatch(getSuppliers(initialData))\r\n    dispatch(getSupplierPayments(initialData));\r\n\r\n    //Call clear customers to clear customers from state on unmount\r\n    return () => {\r\n      dispatch(clearSupplierPayments());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteSupplierPayment(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getSuppliers Payments using dispatch\r\n  dispatch(getSupplierPayments(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n \r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getSupplierPayments(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      console.log(\"New State => \", newState)\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      supplierId: \"\",\r\n      amount: \"\",\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSupplierPayments(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getSupplierPayments(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSupplierPayments(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = supplierpayments.map((row) => ({\r\n    ...row,\r\n    name: row.supplier.name && capitalizeEachWord(row.supplier.name),\r\n    remaining: row.supplier.balance ? row.supplier.balance : 0,\r\n    \r\n  }));\r\n  //Destructure values from the state\r\n  const { supplierId,  amount, date } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (supplierId === \"\") {\r\n      toast(\"Select Supplier \", { position: \"top-right\", type: \"error\" });\r\n    } else if (amount === \"\") {\r\n      toast(\"Please enter amount\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n    \r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated supplier payment\r\n          dispatch(updateSupplierPayment(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add supplier payment\r\n          dispatch(addSupplierPayment(state));\r\n          loadData()\r\n        }\r\n      \r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n  window.addEventListener(\"keydown\", (event) => {\r\n    // event.ctrlKey.preventDefault()\r\n    if (event.ctrlKey && event.key === \"a\") {\r\n      event.preventDefault();\r\n      setOpenFormDialog(true);\r\n    } else if (event.key === \"Delete\") {\r\n      if (selectedRowId === null || selectedRowId === \"\") {\r\n        toast(\"Select Customer first\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        setOpenDeleteDialog(true);\r\n      }\r\n    }\r\n  });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<AttachMoney style={{ marginRight: \"10px\" }} />}\r\n        title=\"Supplier Payments\"\r\n        subTitle=\"Manage Application Supplier Payments\"\r\n        // link=\"/customers/new\"\r\n        addBtnTitle=\"Add Supplier Payment\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE SUPPLIER PAYMENT\"\r\n              : \"ADD SUPPLIER PAYMENT\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n        \r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={supplierPaymentInputFields(selectedRowId, currentData, suppliers)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        {Object.keys(currentData).length !== 0 && <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />}\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE SUPPLIER PAYMENT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are you sure you want to delete this payment.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchSupplierPaymentFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Tenants  */}\r\n        <DataTable\r\n          columns={supplierPaymentColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default SupplierPayment;\r\n","import { Delete, Edit, Info } from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n//Export Employee Payment Columns\r\nexport const employeeSalaryColumns = (\r\n  setOpenDeleteDialog,\r\n  setDetailsDialog,\r\n  setOpenFormDialog\r\n) => [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.employee.pic\r\n                ? `${DOMAIN}/public/employees/images/${params.row.employee.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"advanceDeducted\",\r\n    headerName: \"Advance Deducted\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return <div className=\"cellAction\">Rs. {params.row.advanceDeducted}</div>;\r\n    },\r\n  },\r\n  { field: \"grossSalary\", headerName: \"Gross Salary\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.grossSalary}</div>;\r\n  }, },\r\n  { field: \"netSalary\", headerName: \"Net Salary\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.netSalary}</div>;\r\n  }, },\r\n  {\r\n    field: \"salaryOfMonth\",\r\n    headerName: \"Month of\",\r\n    width: 100,\r\n  },\r\n  {\r\n    field: \"salaryOfYear\",\r\n    headerName: \"Year\",\r\n    width: 100,\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          {/* <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setDetailsDialog(true)}\r\n          >\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { DOMAIN } from \"../../backend/API\";\r\n\r\n//Add new Employee Salary form fields\r\nexport const employeeSalaryInputFields = (selectedRowId, currentData, employees) => [\r\n  {\r\n    id: 1,\r\n    label: \"Employee\",\r\n    type: \"select\",\r\n    name: \"employeeId\",\r\n    options:\r\n    employees.length > 0 &&\r\n    employees.map((item) =>\r\n        // Here we are setup the filter operator items\r\n        {\r\n          return { id: item._id, name: item.name, value: item._id, avatarUrl: `${DOMAIN}/public/employees/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\", designation: item.designation, salary: item.salary };\r\n        }\r\n      ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Advance Deduct\",\r\n    tabIndex: 1,\r\n    type: \"number\",\r\n    name: \"advanceDeducted\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Month of Salary\",\r\n    type: \"month\",\r\n    name: \"salaryOfMonth\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 5,\r\n    label: \"Status\",\r\n    type: \"select\",\r\n    tabIndex: 5,\r\n    disable: false,\r\n    name: \"status\",\r\n    size: \"small\",\r\n    minWidth: \"100wh\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,  \r\n    },\r\n    options: [\r\n      { id: 1, name: \"Paid\", value: \"paid\" },\r\n      { id: 2, name: \"Un Paid\", value: \"pending\" },\r\n    ],\r\n  },\r\n  {\r\n    id: 6,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentData).length !== 0\r\n        ? \"Update Employee Salary\"\r\n        : \"ADD Employee Salary\",\r\n    type: \"button\",\r\n    tabIndex: 6,\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n//SEARCH Supplier Payment Filters\r\nexport const searchSupplierPaymentFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        filter.field !== \"date\" && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        // filter.field !== \"date\" && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === \"date\" && {\r\n          id: 7,\r\n          name: \"In Between\",\r\n          value: \"inBetween\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n\r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Date\", value: \"date\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Sorting\",\r\n      type: \"select\",\r\n      name: \"sort\",\r\n      size: \"small\",\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        { id: 1, name: \"Ascending\", value: 1 },\r\n        { id: 2, name: \"Descending\", value: -1 },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n    },\r\n  ];\r\n};\r\n\r\n\r\n","// import \"./customer.scss\";\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  AttachMoney,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport {startOfMonth} from \"date-fns\"\r\n\r\nimport {\r\n searchCustomerInput,\r\n} from \"../../Components/sources/customersFormSources\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport {clearCustomerPayments, getCustomerPayments } from \"../../redux/customerPaymentSlice/customerPaymentSlice\";\r\nimport { searchCustomerPaymentFilters } from \"../../Components/sources/customerPaymentsFormSources\";\r\nimport { addSupplierPayment, deleteSupplierPayment, getSingleSupplierPayment, getSupplierPayments, updateSupplierPayment } from \"../../redux/supplierPaymentSlice/supplierPaymentSlice\";\r\nimport { getSuppliers } from \"../../redux/supplierSlice/supplierSlice\";\r\nimport { supplierPaymentInputFields } from \"../../Components/sources/supplierPaymentsFormSources\";\r\nimport { supplierPaymentColumns } from \"../../Components/datatable/supplierPaymentTableSources\";\r\nimport { addEmployeeSalary, clearEmployeePayments, clearEmployeeSalaries, deleteEmployeeSalary, getEmployeePayments, getEmployeeSalaries, updateEmployeeSalary } from \"../../redux/employeeSalarySlice/employeeSalarySlice\";\r\nimport { employeeSalaryColumns } from \"../../Components/datatable/employeeSalaryTableSources\";\r\nimport { employeeSalaryInputFields } from \"../../Components/sources/employeeSalaryFormSources\";\r\nimport { getEmployees } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport dayjs from \"dayjs\";\r\nimport { getAllEmployees } from \"../../redux/completeDataSlice/completeDataSlice\";\r\n\r\nconst EmployeeSalary = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const allEmployees = useSelector((state) => state.completeData.employees);\r\n  const salaries = useSelector((state) => state.salaries.data);\r\n  //Initializing the current customer\r\n  const currentData = useSelector((state) => state.supplierpayments.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.salaries.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.supplierpayments.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  \r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    employeeId: \"\",\r\n    advanceDeducted: 0,\r\n    salaryOfMonth: dayjs().format('MMM'),\r\n    salaryOfYear: dayjs().format('YYYY'),\r\n    date: \"\"\r\n  });\r\n\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Supplier API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSupplierPayment(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        supplierId: currentData.supplierId,\r\n        amount: currentData.amount,\r\n        date: currentData.date\r\n      });     \r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getEmployees using dispatch\r\n    dispatch(getAllEmployees())\r\n    // dispatch(getSupplierPayments(initialData));\r\n    dispatch(getEmployeeSalaries(initialData));\r\n\r\n    //Call clear employee payments to clear employee payments from state on unmount\r\n    return () => {\r\n      dispatch(clearEmployeeSalaries());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteEmployeeSalary(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getSuppliers Payments using dispatch\r\n  dispatch(getSupplierPayments(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n \r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getSupplierPayments(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      console.log(\"New State => \", newState)\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      employeeId: \"\",\r\n      advanceDeducted: 0,\r\n      salaryOfMonth: dayjs().format('MMM'),\r\n      salaryOfYear: dayjs().format('YYYY'),\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomerPayments(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getCustomerPayments(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getCustomerPayments(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = salaries.map((row) => ({\r\n    ...row,\r\n    name: row.employee.name && capitalizeEachWord(row.employee.name),\r\n    remaining: row.employee.balance ? row.employee.balance : 0,\r\n    \r\n  }));\r\n  //Destructure values from the state\r\n  const { employeeId,  advanceDeducted, salaryOfMonth, date } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (employeeId === \"\") {\r\n      toast(\"Select employee first \", { position: \"top-right\", type: \"error\" });\r\n    } else if (advanceDeducted === \"\") {\r\n      toast(\"Please enter advance deducted or Zero\", { position: \"top-right\", type: \"error\" });\r\n    } else if (salaryOfMonth === \"\") {\r\n      toast(\"Please select salary of month\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n    \r\n        //Upload data if image not selected\r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated employee salary\r\n          dispatch(updateEmployeeSalary(data));\r\n          handleOnFormDialogClose()\r\n        } else {\r\n          //Hit API Call using dispatch to add employee salar\r\n          dispatch(addEmployeeSalary(state));\r\n          handleOnFormDialogClose()\r\n        }\r\n      \r\n    }\r\n  };\r\n  \r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<AttachMoney style={{ marginRight: \"10px\" }} />}\r\n        title=\"Employee Salaries\"\r\n        subTitle=\"Manage Application Employee Salary\"\r\n        // link=\"/s/new\"\r\n        addBtnTitle=\"Add Salary\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE EMPLOYEE SALARY\"\r\n              : \"ADD EMPLOYEE SALARY\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n        \r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={employeeSalaryInputFields(selectedRowId, currentData, allEmployees)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Customer Details Dialog box  */}\r\n        {Object.keys(currentData).length !== 0 && <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />}\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE EMPLOYEE SALARY\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are you sure you want to delete this salary.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchCustomerPaymentFilters}\r\n          searchInputForm={searchCustomerInput}\r\n        />\r\n        {/* DataTable for Employee Payments  */}\r\n        <DataTable\r\n          columns={employeeSalaryColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EmployeeSalary;\r\n","import { Delete, Info } from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n//Export Employee Payment Columns\r\nexport const employeeAdvanceColumns = (\r\n  setOpenDeleteDialog,\r\n  setDetailsDialog,\r\n  setOpenFormDialog\r\n) => [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.employee.pic\r\n                ? `${DOMAIN}/public/employees/images/${params.row.employee.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"advanceDeducted\",\r\n    headerName: \"Total Adv Amount \",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return <div className=\"cellAction\">Rs. {params.row.amount}</div>;\r\n    },\r\n  },\r\n  { field: \"totAdvanceReturned\", headerName: \"Returned Advance\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.totAdvanceReturned}</div>;\r\n  }, },\r\n  { field: \"remainingAdvance\", headerName: \"Rem: Advance\", width: 150,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.remainingAdvance}</div>;\r\n  }, },\r\n  { field: \"grossSal\", headerName: \"Date\", width: 110,  renderCell: (params) => {\r\n    return <div className=\"cellAction\">{params.row.date}</div>;\r\n  }, },\r\n  { field: \"status\", headerName: \"Status\", width: 100,  renderCell: (params) => {\r\n    return (\r\n      <div style={{ background: params.row.status === \"pending\" ? \"#ff0000\" : \"#06c90a\", color: \"white\", width: 60, textAlign: \"center\", borderRadius: 4}}>\r\n        {params.row.status}\r\n        </div>\r\n    )\r\n  }, },\r\n  \r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setDetailsDialog(true)}\r\n          >\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new Employee Salary form fields\r\nexport const employeeAdvanceInputFields = (selectedRowId, currentData, employees) => [\r\n  {\r\n    id: 1,\r\n    label: \"Employee \",\r\n    type: \"select\",\r\n    name: \"employeeId\",\r\n    options:\r\n    employees.length > 0 &&\r\n    employees.map((item) =>\r\n        // Here we are setup the filter operator items\r\n        {\r\n          return { id: item._id, name: item.name, value: item._id, avatarUrl: `http://localhost:5000/public/employees/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\" };\r\n        }\r\n      ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Amount\",\r\n    type: \"number\",\r\n    name: \"amount\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 6,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentData).length !== 0\r\n        ? \"Update Employee Advance\"\r\n        : \"ADD Employee Advance\",\r\n    type: \"button\",\r\n    tabIndex: 6,\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n\r\n\r\n\r\n","//Add new Employee Salary form fields\r\nexport const advanceInstallmentsInputFields = (selectedRowId, currentData, employees) => [\r\n  {\r\n    id: 1,\r\n    label: \"Select Advance\",\r\n    type: \"select\",\r\n    name: \"advanceId\",\r\n    options:\r\n    employees.length > 0 &&\r\n    employees.map((item) =>\r\n        // Here we are setup the filter operator items\r\n        {\r\n          return { id: item._id, name: item.employee.name, date: item.date, amount: item.amount, remAdv: item.remainingAdvance, value: item._id, avatarUrl: `http://localhost:5000/public/employees/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\" };\r\n        }\r\n      ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"Amount\",\r\n    type: \"number\",\r\n    name: \"amount\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 3,\r\n    label: \"Date\",\r\n    type: \"date\",\r\n    name: \"date\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 6,\r\n      md: 6,\r\n      lg: 6,\r\n    },\r\n  },\r\n  {\r\n    id: 6,\r\n    label:\r\n      selectedRowId !== null && Object.keys(currentData).length !== 0\r\n        ? \"Update Advance Payment\"\r\n        : \"Pay Advance\",\r\n    type: \"button\",\r\n    tabIndex: 6,\r\n    btntype: \"submit\",\r\n    color: \"primary\",\r\n    variant: \"contained\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12,\r\n    },\r\n  },\r\n];\r\n\r\n//SEARCH Supplier Payment Filters\r\nexport const searchSupplierPaymentFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        filter.field !== \"date\" && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        // filter.field !== \"date\" && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === \"date\" && {\r\n          id: 7,\r\n          name: \"In Between\",\r\n          value: \"inBetween\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n\r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Date\", value: \"date\" },\r\n      ],\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Sorting\",\r\n      type: \"select\",\r\n      name: \"sort\",\r\n      size: \"small\",\r\n      options: [\r\n        // Here we are setup the filter operator items\r\n        { id: 1, name: \"Ascending\", value: 1 },\r\n        { id: 2, name: \"Descending\", value: -1 },\r\n      ],\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,\r\n      },\r\n    },\r\n  ];\r\n};\r\n\r\n\r\n","import * as React from \"react\";\r\n\r\nimport Dialog from \"@mui/material/Dialog\";\r\n\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\n\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\n\r\nimport { Box, Grid, IconButton, Paper, styled, Typography } from \"@mui/material\";\r\n\r\nimport { Dangerous, Delete } from \"@mui/icons-material\";\r\n\r\nimport Avatar from \"react-avatar\";\r\nimport { useContext } from \"react\";\r\nimport ModeContext from \"../../context/mode/ModeContext\";\r\n\r\nconst AdvanceDetails = ({\r\n    openDetailsDialog,\r\n    heading,\r\n    icon,\r\n    color,\r\n    handleOnCloseDetails,\r\n    inputs,\r\n}) => {\r\n\r\n    //Initializing the use Context to get DarkMode state\r\n    const { darkMode, dispatch } = useContext(ModeContext);\r\n\r\n    console.log(darkMode)\r\n    const DemoPaper = styled(Paper)(({ theme }) => ({\r\n        width: \"100%\",\r\n        // height: 120,\r\n        padding: theme.spacing(2),\r\n        ...theme.typography.body2,\r\n    }));\r\n\r\n    const capitalizeEachWord = (str) => {\r\n        // Ensure the input is a string\r\n        if (typeof str !== 'string') {\r\n            return '';\r\n        }\r\n\r\n        // Step 1: Split the PascalCase string into individual words based on transitions between lowercase and uppercase\r\n        const words = str.match(/([A-Z][a-z]+|[a-z]+)/g);\r\n\r\n        // Step 2: Handle cases where no matches are found (words is null)\r\n        if (!words) {\r\n            return str; // If no matches, return the original string\r\n        }\r\n\r\n        // Step 3: Capitalize the first letter of all words\r\n        const capitalizedWords = words.map((word, index) => {\r\n            // Capitalize the first word, but leave others as lowercase\r\n            return index === 0 ? word.charAt(0).toUpperCase() + word.slice(1).toLowerCase() : word.toLowerCase();\r\n        });\r\n\r\n        // Step 4: Join the words back into a single string with spaces between them\r\n        return capitalizedWords.join(' ');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog\r\n                open={openDetailsDialog}\r\n                onClose={handleOnCloseDetails}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle\r\n                    id=\"alert-dialog-title\"\r\n                    style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"space-between\",\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"800\",\r\n\r\n                    }}\r\n                >\r\n                    <Box style={{\r\n                        color: color,\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n\r\n                        fontSize: \"16px\",\r\n                        fontWeight: \"600\",\r\n                    }}>\r\n                        {icon}\r\n                        {heading}\r\n                    </Box>\r\n                    <Box>\r\n                        <IconButton onClick={handleOnCloseDetails}>\r\n                            <Dangerous />\r\n                        </IconButton>\r\n\r\n                    </Box>\r\n\r\n                </DialogTitle>\r\n                <DialogContent>\r\n                    {console.log(inputs)}\r\n                    {/* <DialogContentText id=\"alert-dialog-description\">\r\n            {message}\r\n          </DialogContentText> */}\r\n                    {/* Add New Tenant Form  */}\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            justifyContent: \"center\",\r\n                            paddingTop: \"8px\",\r\n                            paddingBottom: \"8px\",\r\n                        }}\r\n                    >\r\n                        <Avatar src={inputs.employee && inputs.employee.pic !== \"\" ? `http://localhost:5000/public/employees/images/${inputs.employee.pic}`\r\n                            : \"./img/avatarfile.png\"} size={120} round={true} />\r\n                    </div>\r\n                    <Grid container spacing={2}>\r\n                        {\r\n\r\n                            Object.entries(inputs).map(([key, value], i) => {\r\n                                // Convert any objects or other complex values to strings for safe rendering\r\n                                return (\r\n                                    typeof value !== 'object' && typeof value !== 'array' && key !== \"employeeId\" && key !== \"_id\" && (\r\n                                        <Grid item xs={12} sm={6} md={6} lg={6} key={i}>\r\n                                            <Box style={{ display: 'flex', gap: 10 }}>\r\n                                                <Typography>{capitalizeEachWord(String(key))}</Typography>\r\n                                                {value === \"partial\" || value === \"pending\" ? <div style={{ background: value === \"partial\" ? \"#ff7912\" : \"#2486d1\", color: \"white\", width: 60, textAlign: \"center\", borderRadius: 4 }}>\r\n                                                    {value}\r\n                                                </div> : <Typography>{capitalizeEachWord(String(value))}</Typography>}\r\n                                            </Box>\r\n                                        </Grid>\r\n                                    )\r\n                                );\r\n                            })\r\n\r\n\r\n                        }\r\n\r\n                    </Grid>\r\n                    <div style={{ marginTop: 10, height: 200, overflow: \"auto\" }}>\r\n                        {Object.entries(inputs).map(([key, value], i) => {\r\n                            if (Array.isArray(value)) {\r\n                                return value.map((item, index) => (\r\n                                    <DemoPaper key={`${key}-${index}`} style={{\r\n                                        marginTop: 7, color: darkMode === \"dark\" ? \"#999\" : \"#222\"\r\n                                    }} >\r\n                                        <Box style={{ display: \"flex\", justifyContent: \"space-around\", alignItems: \"center\" }}>\r\n                                            <Box>\r\n                                                <Box>Date: {item.date}</Box>\r\n                                                <Box>Method: {capitalizeEachWord(item.method)}</Box>\r\n                                            </Box>\r\n                                            <Box>Amount: {`Rs. ${item.amount}`}</Box>\r\n                                            <Box>\r\n                                                <IconButton\r\n                                                    className=\"viewButton\"\r\n                                                    onClick={() => console.log(\"Deleted...\")}\r\n                                                >\r\n                                                    <Delete style={{ fontSize: \"20px\" }} />\r\n                                                </IconButton>\r\n                                            </Box>\r\n                                        </Box>\r\n                                    </DemoPaper>\r\n                                ));\r\n                            }\r\n                            return null; // or handle non-array values if needed\r\n                        })}\r\n                    </div>\r\n                </DialogContent>\r\n                {/* <DialogActions style={{marginRight: \"18px\", marginBottom: \"15px\"}}>\r\n         \r\n        </DialogActions> */}\r\n            </Dialog>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default AdvanceDetails;\r\n","// import \"./customer.scss\";\r\nimport { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  Assessment,\r\n  AssignmentInd,\r\n  AttachMoney,\r\n  CurrencyExchangeRounded,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nimport {\r\n searchCustomerInput,\r\n} from \"../../Components/sources/customersFormSources\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { getCustomerPayments } from \"../../redux/customerPaymentSlice/customerPaymentSlice\";\r\nimport { searchCustomerPaymentFilters } from \"../../Components/sources/customerPaymentsFormSources\";\r\nimport { deleteSupplierPayment, getSingleSupplierPayment, getSupplierPayments } from \"../../redux/supplierPaymentSlice/supplierPaymentSlice\";\r\nimport { addEmployeeSalary, clearEmployeeSalaries, getEmployeeSalaries, updateEmployeeSalary } from \"../../redux/employeeSalarySlice/employeeSalarySlice\";\r\nimport { getEmployees } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport dayjs from \"dayjs\";\r\nimport { employeeAdvanceColumns } from \"../../Components/datatable/employeeAdvanceTableSources\";\r\nimport { employeeAdvanceInputFields } from \"../../Components/sources/employeeAdvanceFormSources\";\r\nimport { addAdvanceInstallment, addEmployeeAdvance, getEmployeeAdvances, getSingleEmployeeAdvance } from \"../../redux/employeeAdvanceSlice/employeeAdvanceSlice\";\r\nimport { advanceInstallmentsInputFields } from \"../../Components/sources/AdvanceInstallmentFormSources\";\r\nimport { getAllActiveAdvances, getAllEmployees } from \"../../redux/completeDataSlice/completeDataSlice\";\r\nimport AdvanceDetails from \"./AdvanceDetails\";\r\n\r\nconst EmployeeAdvance = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const allActiveEmployees = useSelector((state) => state.completeData.employees);\r\n  const allActiveAdvances = useSelector((state) => state.completeData.advances);\r\n  const advances = useSelector((state) => state.advances.data);\r\n  //Initializing the current customer\r\n  const currentData = useSelector((state) => state.advances.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.advances.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.advances.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  const [openPayFormDialog, setOpenPayFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  \r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    employeeId: \"\",\r\n    advanceId: \"\",\r\n    amount: 0,\r\n    date: \"\"\r\n  });\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Supplier API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleEmployeeAdvance(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        supplierId: currentData.supplierId,\r\n        amount: currentData.amount,\r\n        date: currentData.date\r\n      });     \r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all customers\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getEmployees using dispatch\r\n    dispatch(getAllEmployees())\r\n    dispatch(getAllActiveAdvances())\r\n    dispatch(getEmployeeAdvances(initialData));\r\n\r\n    //Call clear employee payments to clear employee payments from state on unmount\r\n    return () => {\r\n      dispatch(clearEmployeeSalaries());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Tenant func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteSupplierPayment(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getSuppliers Payments using dispatch\r\n  dispatch(getSupplierPayments(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n \r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getSupplierPayments(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      console.log(\"New State => \", newState)\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSupplierPayments(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    setOpenPayFormDialog(false)\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      employeeId: \"\",\r\n      advanceId: \"\",\r\n      amount: 0,\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getEmployeeAdvances(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getEmployeeAdvances(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getEmployeeAdvances(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = advances.map((row) => ({\r\n    ...row,\r\n    name: row.employee.name && capitalizeEachWord(row.employee.name),\r\n    remaining: row.employee.balance ? row.employee.balance : 0,\r\n    \r\n  }));\r\n\r\n \r\n  //Destructure values from the state\r\n  const { employeeId, advanceId, amount,  date } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (employeeId === \"\" && advanceId === \"\") {\r\n        if(employeeId === \"\"){\r\n          toast(\"Select employee first \", { position: \"top-right\", type: \"error\" });\r\n        } else {\r\n          toast(\"Select advance first \", { position: \"top-right\", type: \"error\" });\r\n        }\r\n    } else if (amount === \"\" || amount === 0) {\r\n      toast(\"Please amount given as advance\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Check for image uploaded\r\n          if(employeeId !== \"\"){\r\n            //Hit API Call using dispatch to add employee salar\r\n            dispatch(addEmployeeAdvance(state));\r\n          } else if(advanceId !== \"\"){\r\n            dispatch(addAdvanceInstallment(state));\r\n          }\r\n          // loadData()\r\n    }\r\n  };\r\n\r\n  \r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Tenants Page  */}\r\n      <Header\r\n        icon={<AttachMoney style={{ marginRight: \"10px\" }} />}\r\n        title=\"Employee Advance\"\r\n        subTitle=\"Manage Employee Advances\"\r\n        // link=\"/s/new\"\r\n        addBtnTitle=\"Add Advance\"\r\n        secondaryBtnTitle=\"Pay Advance\"\r\n        dialog={openFormDialog}\r\n        secondaryDialog={openPayFormDialog}\r\n        btnIcon={<AttachMoney />}\r\n        secondaryBtnIcon = {<CurrencyExchangeRounded style={{ marginRight: \"10px\" }} />}\r\n        setDialog={setOpenFormDialog}\r\n        setSecondaryDialog={setOpenPayFormDialog}\r\n      />\r\n      {/* Main Card for setup tenants Table */}\r\n      <Box className=\"mainCard\">\r\n\r\n        {/* Employee Advance Details Dialog box  */}\r\n        <AdvanceDetails\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={Object.keys(currentData).length !== 0 ? `Advance Detail of ${currentData.employee.name}` : \"Advance Details\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={()=>setDetailsDialog(false)}\r\n        />\r\n        {/* Add OR Update Customer Dialog Box  */}\r\n       {openFormDialog && <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE EMPLOYEE ADVANCE\"\r\n              : \"ADD EMPLOYEE ADVANCE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={employeeAdvanceInputFields(selectedRowId, currentData, allActiveEmployees)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        /> }\r\n         {/* Add OR Update Customer Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openPayFormDialog}\r\n          heading={\r\n            selectedRowId !== null && openPayFormDialog === true && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE Advance Payment\"\r\n              : \"PAY EMPLOYEE ADVANCE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={advanceInstallmentsInputFields(selectedRowId, currentData, allActiveAdvances)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        /> \r\n\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE EMPLOYEE PAYMENT\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are you sure you want to delete this payment.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchCustomerPaymentFilters}\r\n          searchInputForm={searchCustomerInput}\r\n        />\r\n        {/* DataTable for Employee Payments  */}\r\n        <DataTable\r\n          columns={employeeAdvanceColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default EmployeeAdvance;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export Expense Columns\r\nexport const expenseColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Expense Name\",\r\n    width: 230\r\n  },\r\n  { field: \"description\", headerName: \"Description\", width: 300 },\r\n  { field: \"amount\", headerName: \"Amount\", width: 150, renderCell: (params) => {\r\n    return <div className=\"cellAction\">Rs. {params.row.amount}</div>;\r\n  }, },\r\n  { field: \"date\", headerName: \"Date\", width: 150 },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 130,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          {params.row.status === \"open\" && <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>}\r\n          {params.row.status === \"open\" && <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new expense form fields\r\nexport const expenseInputFields = (selectedRowId, currentData) => [\r\n    {\r\n      id: 1,\r\n      label: \"Expense Name\",\r\n      type: \"text\",\r\n      name: \"name\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Amount\",\r\n      type: \"number\",\r\n      name: \"amount\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      label: \"Description\",\r\n      type: \"text\",\r\n      name: \"description\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 12,\r\n        md: 12,\r\n        lg: 12\r\n      }\r\n    },\r\n    {\r\n        id: 6,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Expense\":\"Add Expense\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Expense Filters\r\nexport const searchExpenseFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Name\", value: \"name\" },\r\n        { id: 2, name: \"Description\", value: \"description\" },\r\n        { id: 3, name: \"Date\", value: \"date\" },\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { FileUpload } from \"../../backend/uploadFile\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AddShoppingCartTwoTone,\r\n  AssignmentInd,\r\n  SwitchAccount,\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport { addMachine, deleteMachine, getMachines, getSingleMachine, updateMachine } from \"../../redux/machineSlice/machineSlice\";\r\nimport { machineInputFields, searchMachineFilters } from \"../../Components/sources/machinesFormSources\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { expenseColumns } from \"../../Components/datatable/expenseTableSources\";\r\nimport { addExpense, clearExpenses, deleteExpense, getExpenses, getSingleExpense, updateExpense } from \"../../redux/expenseSlice/expenseSlice\";\r\nimport { expenseInputFields, searchExpenseFilters } from \"../../Components/sources/expensesFormSources\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\n\r\nconst Expense = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Call Auth Context & Extract Logout\r\n  const { user } = useContext(AuthContext);\r\n\r\n  //Initializing useSelector to get data from redux store\r\n  const expenses = useSelector((state) => state.expenses.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.expenses.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.expenses.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.expenses.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    cashierId: user._id,\r\n    name: \"\",\r\n    description: \"\",\r\n    amount: \"\",\r\n    date: \"\"\r\n  });\r\n\r\n  //Round values function\r\n  const handleValuesRound = (num) => {\r\n    return Math.round(num * 100) / 100;\r\n  }\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Expense API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true)) {\r\n      //Dispatch current expense\r\n      dispatch(getSingleExpense(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        description: currentData.description,\r\n        amount: currentData.amount,\r\n        date: currentData.date\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n\r\n    dispatch(getExpenses(initialData));\r\n\r\n    //Call clear expenses to clear expenses from state on unmount\r\n    return () => {\r\n      dispatch(clearExpenses());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    } else {\r\n      handleOnFormDialogClose();\r\n    }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Expense func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deleteExpense(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getExpenses using dispatch\r\n    dispatch(getExpenses(initialData));\r\n  };\r\n  //Handle On submit For search\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getExpenses(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getExpenses(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getExpenses(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n      cashierId: user._id,\r\n      name: \"\",\r\n      description: \"\",\r\n      amount: \"\",\r\n      date: \"\"\r\n    });\r\n  };\r\n\r\n  console.log(state)\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getExpenses(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getExpenses(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getExpenses(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word, i) => {\r\n        return i === 0 ? word.charAt(0).toUpperCase() + word.slice(1) : word;\r\n      })\r\n      .join(\" \");\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = expenses.map((row) => ({\r\n    ...row,\r\n    name: row.name && capitalizeEachWord(row.name),\r\n    description: row.description && capitalizeEachWord(row.description)\r\n  }));\r\n  //Destructure values from the state\r\n  const { name, description, amount, date } = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (name === \"\") {\r\n      toast(\"Enter expense name\", { position: \"top-right\", type: \"error\" });\r\n    } else if (description === \"\") {\r\n      toast(\"Enter description\", { position: \"top-right\", type: \"error\" });\r\n    } else if (amount === \"\") {\r\n      toast(\"Enter amount expend\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date please\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n\r\n      let newObj = { ...state, amount: handleValuesRound(amount) }\r\n      if (selectedRowId !== null) {\r\n        const data = {\r\n          id: selectedRowId[0],\r\n          Data: newObj,\r\n        };\r\n        //Hit API Call using dispatch to updated expense\r\n        dispatch(updateExpense(data));\r\n\r\n      } else {\r\n        let newObj = { ...state, amount: handleValuesRound(amount) }\r\n        //Hit API Call using dispatch to add Expense\r\n        dispatch(addExpense(newObj));\r\n        loadData()\r\n      }\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<AddShoppingCartTwoTone style={{ marginRight: \"10px\" }} />}\r\n        title=\"Expenses\"\r\n        subTitle=\"Manage Expenses\"\r\n        addBtnTitle=\"Add Expense\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE EXPENSE\"\r\n              : \"ADD EXPENSE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={expenseInputFields(selectedRowId, currentData)}\r\n          icon={<SwitchAccount style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE EXPENSE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Expense?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchExpenseFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={expenseColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Expense;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export wastage Columns\r\nexport const wastageColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 300,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.product.pic\r\n                ? `${DOMAIN}/public/products/images/${params.row.product.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.product.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"quantity\", headerName: \"Quantity\", width: 250 },\r\n  { field: \"date\", headerName: \"Date\", width: 250},\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new wastage form fields\r\nexport const wastageInputFields = (selectedRowId, currentData, products) => [\r\n  {\r\n    id: 1,\r\n    label: \"Product Name\",\r\n    type: \"select\",\r\n    name: \"productId\",\r\n    options: products.length > 0 && products.map(item => \r\n      // Here we are setup the filter operator items\r\n     { return { id: item._id, name: item.name, value: item._id,  avatarUrl: `http://localhost:5000/public/products/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\"  } }\r\n    ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12\r\n    }\r\n  },\r\n   \r\n    {\r\n      id: 3,\r\n      label: \"Quantity\",\r\n      type: \"number\",\r\n      name: \"quantity\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n        id: 7,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Wastage\":\"Add Wastage\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Wastage Filters\r\nexport const searchWastageFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Product\", value: \"product\" },\r\n        { id: 2, name: \"date\", value: \"date\" }\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  AssignmentInd,\r\n  FormatColorReset\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport {updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport {  getProducts, getSingleProduct } from \"../../redux/productSlice/productSlice\";\r\nimport { wastageColumns } from \"../../Components/datatable/wastageTableSources\";\r\nimport { addWastage, clearWastages, deleteWastage, getSingleWastage, getWastages, updateWastage } from \"../../redux/wastageSlice/wastageSlice\";\r\nimport { searchWastageFilters, wastageInputFields } from \"../../Components/sources/wastagesFormSources\";\r\n\r\nconst StockWastage = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.products.data);\r\n  const wastages = useSelector((state) => state.wastages.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.wastages.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.wastages.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.wastages.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n   productId: \"\",\r\n   quantity: \"\",\r\n   date: \"\"\r\n  });\r\n  \r\n   //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Product API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current wastage\r\n      dispatch(getSingleWastage(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when current Product is updated\r\n      setState({\r\n        productId: currentData.productId,\r\n        quantity: currentData.quantity,\r\n        date: currentData.date\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all employees\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getProducts using dispatch\r\n    dispatch(getProducts(initialData));\r\n    dispatch(getWastages(initialData));\r\n\r\n    //Call clear products to clear products from state on unmount\r\n    return () => {\r\n      dispatch(clearWastages());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Product func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteWastage(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getWastages using dispatch\r\n  dispatch(getWastages(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getWastages(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getWastages(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getWastages(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n        productId: \"\",\r\n        quantity: \"\",\r\n        date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getWastages(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getWastages(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getWastages(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = wastages.length > 0 && wastages.map((row) => ({\r\n    ...row,\r\n    productName: row.product.name && capitalizeEachWord(row.product.name)\r\n    }));\r\n  //Destructure values from the state\r\n  const { productId, quantity,  date} = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productId === \"\") {\r\n      toast(\"Select product please\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (quantity === \"\") {\r\n      toast(\"Enter wastage quantity\", { position: \"top-right\", type: \"error\" });\r\n    } else if (quantity < 0) {\r\n      toast(\"Quantity can not be negative\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date please\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n   \r\n        //Upload data \r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated wastage\r\n          dispatch(updateWastage(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add wastage\r\n          dispatch(addWastage(state));\r\n          loadData();\r\n        }\r\n      \r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Wastages Page  */}\r\n      <Header\r\n        icon={<FormatColorReset style={{ marginRight: \"10px\" }} />}\r\n        title=\"Stock Wastages\"\r\n        subTitle=\"Manage Stock Wastage\"\r\n        addBtnTitle=\"Add Wastage\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE WASTAGE\"\r\n              : \"ADD WASTAGE\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={wastageInputFields(selectedRowId, currentData, products)}\r\n          icon={<FormatColorReset style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE WASTAGE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Wastage Entry?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchWastageFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Products  */}\r\n        <DataTable\r\n          columns={wastageColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default StockWastage;\r\n","import { Delete, Edit, Info} from \"@mui/icons-material\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export dips Columns\r\nexport const dipColumns = (setOpenDeleteDialog, setDetailsDialog, setOpenFormDialog) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    width: 300,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row?.product.pic\r\n                ? `${DOMAIN}/public/products/images/${params.row.product.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.product.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"dip\", headerName: \"Dip Reading\", width: 250 },\r\n  { field: \"date\", headerName: \"Date\", width: 250},\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => {\r\n              setOpenFormDialog(true)\r\n            }}\r\n          >\r\n            <Edit style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n\r\n          {/* <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n\r\n          <IconButton\r\n            className=\"viewButton\"\r\n            onClick={() => setOpenDeleteDialog(true)}\r\n          >\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","//Add new dip form fields\r\nexport const dipInputFields = (selectedRowId, currentData, products) => [\r\n  {\r\n    id: 1,\r\n    label: \"Product Name\",\r\n    type: \"select\",\r\n    name: \"productId\",\r\n    options: products.length > 0 && products.map(item => \r\n      // Here we are setup the filter operator items\r\n     { return { id: item._id, name: item.name, value: item._id,  avatarUrl: `http://localhost:5000/public/products/images/${item.pic}`, avatarAlt: \"./img/avatarfile.png\"  } }\r\n    ),\r\n    grid: {\r\n      xs: 12,\r\n      sm: 12,\r\n      md: 12,\r\n      lg: 12\r\n    }\r\n  },\r\n   \r\n    {\r\n      id: 3,\r\n      label: \"Dip Reading\",\r\n      type: \"number\",\r\n      name: \"dip\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      label: \"Date\",\r\n      type: \"date\",\r\n      name: \"date\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 6,\r\n        lg: 6\r\n      }\r\n    },\r\n    {\r\n        id: 7,\r\n        label: selectedRowId !== null && Object.keys(currentData).length !== 0 ? \"Update Dip\":\"Add Dip\",\r\n        type: \"button\",\r\n        btntype: \"submit\",\r\n        color: \"primary\",\r\n        variant: \"contained\",\r\n        grid: {\r\n          xs: 12,\r\n          sm: 12,\r\n          md: 12,\r\n          lg: 12,\r\n        }\r\n      },\r\n    \r\n  ];\r\n\r\n//SEARCH Dip Filters\r\nexport const searchDipFilters = (filter) => {\r\n  return [\r\n    {\r\n      id: 1,\r\n      label: \"Condition\",\r\n      type: \"select\",\r\n      disable: filter.operator === \"inBetween\" ? true : false,\r\n      name: \"operator\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,\r\n        lg: 4,  \r\n      },\r\n      options: [\r\n        // Here we are setup the filter operator items \r\n        filter.field !== 'date' && { id: 1, name: \"Contains\", value: \"$regex\" },\r\n        filter.field !== 'date' && { id: 2, name: \"Equals\", value: \"$eq\" },\r\n        filter.field === 'date' && { id: 7, name: \"In Between\", value: \"inBetween\" },\r\n\r\n      ],\r\n    },\r\n    {\r\n      id: 2,\r\n      label: \"Select Column\",\r\n      type: \"select\",\r\n      name: \"field\",\r\n      size: \"small\",\r\n      minWidth: \"100wh\",\r\n      grid: {\r\n        xs: 12,\r\n        sm: 6,\r\n        md: 4,  \r\n        lg: 4\r\n      },\r\n     \r\n      options: [\r\n        { id: 1, name: \"Product\", value: \"product\" },\r\n        { id: 2, name: \"date\", value: \"date\" }\r\n      ]\r\n    },\r\n    {\r\n        id: 3,\r\n        label: \"Sorting\",\r\n        type: \"select\",\r\n        name: \"sort\",\r\n        size: \"small\",\r\n        options: [\r\n          // Here we are setup the filter operator items \r\n          { id: 1, name: \"Ascending\", value: 1 },\r\n          { id: 2, name: \"Descending\", value: -1 },\r\n        ],\r\n        grid: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          lg: 4 \r\n        },\r\n      },\r\n  ]\r\n}","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport FormDialog from \"../../Components/dialogue/FormDialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  Assessment,\r\n  AssignmentInd,\r\n  FormatColorReset\r\n} from \"@mui/icons-material\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport DetailsDialog from \"../../Components/dialogue/DetailsDialogue\";\r\nimport {updateEmployee } from \"../../redux/employeeSlice/employeeSlice\";\r\nimport { searchEmployeeFilters, searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport {  getProducts, getSingleProduct } from \"../../redux/productSlice/productSlice\";\r\nimport { wastageColumns } from \"../../Components/datatable/wastageTableSources\";\r\nimport { addWastage, clearWastages, deleteWastage, getSingleWastage, getWastages, updateWastage } from \"../../redux/wastageSlice/wastageSlice\";\r\nimport { searchWastageFilters, wastageInputFields } from \"../../Components/sources/wastagesFormSources\";\r\nimport { dipColumns } from \"../../Components/datatable/dipTableSources\";\r\nimport { addDip, clearDips, deleteDip, getDips, getSingleDip, updateDip } from \"../../redux/dipSlice/dipSlice\";\r\nimport { dipInputFields } from \"../../Components/sources/dipsFormSources\";\r\n\r\nconst StockDip = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const products = useSelector((state) => state.products.data);\r\n  const dips = useSelector((state) => state.dips.data);\r\n  //Initializing the current employee\r\n  const currentData = useSelector((state) => state.dips.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.dips.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.dips.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n   productId: \"\",\r\n   dip: \"\",\r\n   date: \"\"\r\n  });\r\n  \r\n   //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Product API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true) ) {\r\n      //Dispatch current wastage\r\n      dispatch(getSingleDip(selectedRowId));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when current Product is updated\r\n      setState({\r\n        productId: currentData.productId,\r\n        dip: currentData.dip,\r\n        date: currentData.date\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all employees\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getProducts using dispatch\r\n    dispatch(getProducts(initialData));\r\n    dispatch(getDips(initialData));\r\n\r\n    //Call clear products to clear products from state on unmount\r\n    return () => {\r\n      dispatch(clearDips());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n//useEffect to Iterate submit Errors\r\nuseEffect(() => {\r\n  if (submitErrors?.length > 0) {\r\n    //iterate submit errors\r\n    submitErrors.forEach((item) => {\r\n      toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n    });\r\n  } else {\r\n    handleOnFormDialogClose();\r\n  }\r\n}, [submitErrors]);\r\n\r\n//Handle Delete Product func\r\nconst handleOnDelete = () => {\r\n  //Calling delete function\r\n  dispatch(deleteDip(selectedRowId));\r\n  //after delete clear row id\r\n  setSelectedRowId(null);\r\n};\r\n\r\n//Load The Data\r\nconst loadData = () => {\r\n  const initialData = { page: 0, sort: -1 };\r\n  //Call getWastages using dispatch\r\n  dispatch(getDips(initialData));\r\n};\r\n//Handle On submit\r\nconst handleOnSubmit = async (e) => {\r\n  e.preventDefault();\r\n  //Destructuring values from state\r\n  const { startDate, endDate, searchInput } = search;\r\n  //Destructuring values from filters\r\n  const { field, operator, sort } = filters;\r\n  //Organizing data from filters and search Input\r\n  let newState = {\r\n    field: field === \"\" ? undefined : field,\r\n    operator: operator,\r\n    sort: sort,\r\n    page: 0,\r\n    searchInput: searchInput,\r\n    startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n    endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n  };\r\n  if (field === \"date\") {\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getDips(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  } else if (field === \"\") {\r\n    //Calling dispatch function to hit API Call\r\n    dispatch(getDips(newState));\r\n    //After search results close the filters panel\r\n    setOpenFiltersPanel(!openFiltersPanel);\r\n    //Set Page to Zero\r\n    setCurrentPage(0);\r\n  } else {\r\n    if (field !== \"\" && searchInput === \"\") {\r\n      toast(\"Please Enter to search..\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n      toast(\"Please select condition\", {\r\n        position: \"top-right\",\r\n        type: \"error\",\r\n      });\r\n    } else {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getDips(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    }\r\n  }\r\n};\r\n\r\n  //Handle On Form Dialog Close\r\n  const handleOnFormDialogClose = () => {\r\n    //Close Form Dialog\r\n    setOpenFormDialog(false);\r\n    //Clear selected Row Id\r\n    setSelectedRowId(null);\r\n    //Clear State and remove previous data\r\n    setState({\r\n        productId: \"\",\r\n        dip: \"\",\r\n        date: \"\"\r\n    });\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = state;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? endDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getDips(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getDips(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getDips(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = dips.map((row) => ({\r\n    ...row,\r\n    productName: row.product.name && capitalizeEachWord(row.product.name)\r\n    }));\r\n  //Destructure values from the state\r\n  const { productId, dip,  date} = state;\r\n  //Handle on submit function\r\n  const handleOnAddUpdateFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (productId === \"\") {\r\n      toast(\"Select product please\", { position: \"top-right\", type: \"error\" });  \r\n    } else if (dip === \"\") {\r\n      toast(\"Enter wastage quantity\", { position: \"top-right\", type: \"error\" });\r\n    } else if (dip < 0) {\r\n      toast(\"Quantity can not be negative\", { position: \"top-right\", type: \"error\" });\r\n    } else if (date === \"\") {\r\n      toast(\"Select date please\", { position: \"top-right\", type: \"error\" });\r\n    } else {\r\n   \r\n        //Upload data \r\n        if (selectedRowId !== null) {\r\n          const data = {\r\n            id: selectedRowId[0],\r\n            Data: state,\r\n          };\r\n          //Hit API Call using dispatch to updated dip\r\n          dispatch(updateDip(data));\r\n        } else {\r\n          //Hit API Call using dispatch to add dip\r\n          dispatch(addDip(state));\r\n          loadData();\r\n        }\r\n      \r\n    }\r\n  };\r\n  //Short Cut for add new customer\r\n//   window.addEventListener(\"keydown\", (event) => {\r\n//     // event.ctrlKey.preventDefault()\r\n//     if (event.ctrlKey && event.key === \"a\") {\r\n//       event.preventDefault();\r\n//       setOpenFormDialog(true);\r\n//     } else if (event.key === \"Delete\") {\r\n//       if (selectedRowId === null || selectedRowId === \"\") {\r\n//         toast(\"Select Customer first\", {\r\n//           position: \"top-right\",\r\n//           type: \"error\",\r\n//         });\r\n//       } else {\r\n//         setOpenDeleteDialog(true);\r\n//       }\r\n//     }\r\n//     // else if(event.ctrlKey && event.key === 'e'){\r\n//     //   event.preventDefault()\r\n//     //   dispatch(getSingleCustomer(selectedRowId))\r\n//     // }\r\n//   });\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Dips Page  */}\r\n      <Header\r\n        icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n        title=\"Dips Record\"\r\n        subTitle=\"Manage Stock Dips\"\r\n        addBtnTitle=\"Add Dip\"\r\n        dialog={openFormDialog}\r\n        setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n        <FormDialog\r\n          openFormDialog={openFormDialog}\r\n          setOpenFormDialog={setOpenFormDialog}\r\n          heading={\r\n            selectedRowId !== null && Object.keys(currentData).length !== 0\r\n              ? \"UPDATE DIP\"\r\n              : \"ADD DIP\"\r\n          }\r\n          color=\"#999999\"\r\n          state={state}\r\n          Id={selectedRowId}\r\n          setState={setState}\r\n          handleOnClose={handleOnFormDialogClose}\r\n          handleOnSubmit={handleOnAddUpdateFormSubmit}\r\n          inputs={dipInputFields(selectedRowId, currentData, products)}\r\n          icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Employee Details Dialog box  */}\r\n        <DetailsDialog\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\"Kashif's Detail\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<AssignmentInd style={{ marginRight: \"10px\" }} />}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE DIP READING\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Dip Reading?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchWastageFilters}\r\n          searchInputForm={searchEmployeeInput}\r\n        />\r\n        {/* DataTable for Dips  */}\r\n        <DataTable\r\n          columns={dipColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            setOpenFormDialog\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default StockDip;\r\n","\r\nimport { Link } from \"react-router-dom\";\r\nimport { Delete, Edit, Style } from \"@mui/icons-material\";\r\nimport { IconButton, Chip } from \"@mui/material\";\r\n\r\n\r\n\r\n// SAMPLE DATA FOR USERS\r\n//Export User Columns\r\nexport const reportColumns = [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"description\",\r\n    headerName: \"Description\",\r\n    width: 350,\r\n    headerAlign: \"center\",\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\" >\r\n          {params.row.heading ? <div style={{fontWeight: 800}}>{params.row.heading}</div> : <div>{params.row.description}</div>} \r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"quantity\", headerName: \"Liters/Qty\", width: 250, headerAlign: \"center\" },\r\n  { field: \"amount\", headerName: \"Amount\", width: 170, headerAlign: \"center\",  renderCell: (params) => {\r\n    return (\r\n      <div className=\"cellWithImg\" >\r\n        {params.row?.amount && <span> Rs. {params.row?.amount}</span>} \r\n      </div>\r\n    );\r\n  }, },\r\n  { field: \"profit\", headerName: \"Profit\", width: 170, headerAlign: \"center\",  renderCell: (params) => {\r\n    return (\r\n      <div className=\"cellWithImg\">\r\n        {params.row?.grossTotalProfit ? <div style={{fontWeight: 800}}>Rs. {params.row.grossTotalProfit}</div> : <div> {params.row.totalProfit && <span> Rs. {params.row.totalProfit}</span>}</div>} \r\n      </div>\r\n    );\r\n  }, },\r\n];\r\n\r\n//Export User Rows\r\nexport const userRows = [\r\n  {\r\n    id: 1,\r\n    username: \"snow\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"active\",\r\n    email: \"1snow@gmail.com\",\r\n    age: 35,\r\n  },\r\n  {\r\n    id: 2,\r\n    username: \"Jamie Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"passive\",\r\n    email: \"2snow@gmail.com\",\r\n    age: 42,\r\n  },\r\n  {\r\n    id: 3,\r\n    username: \"Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"pending\",\r\n    email: \"3snow@gmail.com\",\r\n    age: 45,\r\n  },\r\n  {\r\n    id: 4,\r\n    username: \"snow\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"active\",\r\n    email: \"1snow@gmail.com\",\r\n    age: 35,\r\n  },\r\n  {\r\n    id: 5,\r\n    username: \"Jamie Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"passive\",\r\n    email: \"2snow@gmail.com\",\r\n    age: 42,\r\n  },\r\n  {\r\n    id: 6,\r\n    username: \"Lannister\",\r\n    img: \"img/profilepic.jpg\",\r\n    status: \"pending\",\r\n    email: \"3snow@gmail.com\",\r\n    age: 45,\r\n  },\r\n];\r\n\r\n// DATA TABLE FORMATE FOR FEATURES\r\n//Export User Columns\r\nexport const featureColumns = [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"feature\",\r\n    headerName: \"Feature Name\",\r\n    width: 250,\r\n  },\r\n  { field: \"description\", headerName: \"Description\", width: 250 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 150,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n\r\n\r\nexport const featureRows = [\r\n  {\r\n    id: 1,\r\n    feature: \"Blackberry\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 2,\r\n    feature: \"Orange\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 3,\r\n    feature: \"Cherry\",\r\n    description: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n];\r\n\r\n// DATA TABLE FORMATE FOR PACKAGES\r\n//Export PACKAGES Columns\r\nexport const packagesColumns = (deleteItem) => [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Plan\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.image} alt=\"\" className=\"cellImg\" />\r\n          {params.row.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"price\", headerName: \"Price\", width: 70 },\r\n  {\r\n    field: \"features\",\r\n    headerName: \"Features\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction features\" >\r\n          <Chip label=\"Features\" size=\"small\" />\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Link to={`/packages/update/${params.row.id}`}  style={{ textDecoration: \"none\" }}>\r\n            <IconButton className=\"viewButton\">\r\n              <Edit style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Link>\r\n\r\n          <IconButton onClick={() => deleteItem(params.row.id)}>\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n//DATA TABLE FORMATE FOR TENANTS\r\n//Export TENANTS Columns\r\nexport const tenantsColumns = (setOpenDeleteDialog) =>[\r\n  // { field: \"_id\", headerName: \"ID\", width: 70,  sortable: false,\r\n  // },\r\n  {\r\n    field: \"ownerName\",\r\n    headerName: \"Owner Name\",\r\n    sortable: false,\r\n    width: 200,\r\n\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.logo ? `http://localhost:5000/public/tenants/images/${params.row.logo}`:\"./img/avatarfile.png\"} alt=\"\" className=\"cellImg\" />\r\n          {params.row.ownerName}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"username\", headerName: \"Username\", width: 200 },\r\n  { field: \"email\", headerName: \"Email\", width: 200, sortable: false, },\r\n  { field: \"tenantName\", headerName: \"Company Name\", width: 200,  sortable: false, },\r\n  { field: \"contact\", headerName: \"Contact\", width: 200,  sortable: false, },\r\n  { field: \"address\", headerName: \"Address\", width: 200,  sortable: false, },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    sortable: false,\r\n    width: 100,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Link to={`/tenants/update/${params.row.id}`}  style={{ textDecoration: \"none\" }}>\r\n            <IconButton className=\"viewButton\">\r\n              <Edit style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Link>\r\n\r\n          <IconButton onClick={() => setOpenDeleteDialog(true)}>\r\n            <Delete style={{ fontSize: \"20px\" }} />\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n]\r\nexport const tenantsRows = [\r\n  {\r\n    id: 1,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\"\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Kashif Hussain\",\r\n    image: \"img/blackberry.png\",\r\n    // username: \"kashif\",\r\n    email: \"kashif@gmail.com\",\r\n    tenantName: \"Saimon Technologies\",\r\n    contact: \"0302-2365926\",\r\n    address: \"Qaim colony Naushahro feroze\"\r\n  }\r\n\r\n];\r\n// DATA TABLE FORMATE FOR PACKAGES\r\n//Export PACKAGES Columns\r\nexport const subColumns = [\r\n  { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"plan\",\r\n    headerName: \"Plan\",\r\n    width: 230,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img src={params.row.image} alt=\"\" className=\"cellImg\" />\r\n          {params.row.plan}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  { field: \"price\", headerName: \"Price\", width: 70 },\r\n  {\r\n    field: \"features\",\r\n    headerName: \"Features\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction features\" >\r\n          <Chip label=\"Features\" size=\"small\" />\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  // { field: \"features\", headerName: \"Features\", width: 150 },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 160,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className={`cellWithStatus ${params.row.status}`}>\r\n          {params.row.status}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\nexport const subRows = [\r\n  {\r\n    id: 1,\r\n    plan: \"Blackberry\",\r\n    img: \"img/blackberry.png\",\r\n    price: \"$5\",\r\n    features: \"Read, Add, Update, Delete\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 2,\r\n    plan: \"Orange\",\r\n    price: \"$10\",\r\n    img: \"img/orange.png\",\r\n    status: \"active\",\r\n  },\r\n  {\r\n    id: 3,\r\n    plan: \"Cherry\",\r\n    price: \"$15\",\r\n    img: \"img/cherry3.jpg\",\r\n    status: \"active\",\r\n  },\r\n];\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useState } from \"react\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport { subColumns, subRows } from \"../../Components/datatable/dataTableSources\";\r\nimport { Receipt } from \"@mui/icons-material\";\r\nimport GridForm from \"../../Components/form/GridForm\";\r\nimport { reportColumns } from \"../../Components/datatable/reportsTableSources\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { searchWastageFilters } from \"../../Components/sources/wastagesFormSources\";\r\nimport { searchEmployeeInput } from \"../../Components/sources/employeesFormSources\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { genReport, getReports } from \"../../redux/reportSlice/reportSlice\";\r\nimport { ENDPOINTS } from \"../../backend/API\";\r\nimport axios from \"axios\"\r\n//SEARCH USERS INPUTS\r\nconst searchReportInput = (printReport) => [\r\n  {\r\n    id: 1,\r\n    label: \"Start Date\",\r\n    type: \"date\",\r\n    name: \"startDate\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 4\r\n    }\r\n  },\r\n  {\r\n    id: 2,\r\n    label: \"End Date\",\r\n    type: \"date\",\r\n    name: \"endDate\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 4\r\n    }\r\n  },\r\n\r\n  {\r\n    id: 3,\r\n    label: \"Filter\",\r\n    type: \"button\",\r\n    btntype: \"submit\",\r\n    variant: \"contained\",\r\n    color: \"primary\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 2\r\n    },\r\n  },\r\n  {\r\n    id: 4,\r\n    label: \"Print\",\r\n    type: \"button\",\r\n    btntype: \"button\",\r\n    variant: \"contained\",\r\n    btnFunc: printReport,\r\n    color: \"primary\",\r\n    grid: {\r\n      xs: 12,\r\n      sm: 2\r\n    },\r\n  },\r\n]\r\n\r\n\r\nexport default function Report() {\r\n\r\n  //Initializing use dispatch \r\n  const disptach = useDispatch()\r\n  //Initializing reports\r\n  const reports = useSelector(state => state.reports.data)\r\n  const totalRecords = useSelector(state => state.reports.totalRecord)\r\n  //State for hold values\r\n  const [state, setState] = useState({\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  })\r\n\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    console.log(sentence)\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  const printReport = async () => {\r\n    async function genReport(initData) {\r\n      const { startDate, endDate } =\r\n        initData;\r\n      try {\r\n        // Fetch the PDF Blob directly in the component\r\n        const response = await axios.get(`${ENDPOINTS.GENREPORT}?startDate=${startDate}&endDate=${endDate}`, {\r\n          responseType: 'blob',\r\n        });\r\n\r\n        // Create a blob URL and open it\r\n        const pdfBlob = new Blob([response.data], { type: 'application/pdf' });\r\n        const pdfUrl = window.URL.createObjectURL(pdfBlob);\r\n        window.open(pdfUrl, '_blank');\r\n\r\n        // Optionally, clean up the object URL after use\r\n        window.URL.revokeObjectURL(pdfUrl);\r\n      } catch (error) {\r\n        console.error('Error fetching the PDF:', error);\r\n      }\r\n    }\r\n    try {\r\n      // Start the PDF generation process in Redux (but don't store the Blob)\r\n      const { startDate, endDate } = state\r\n\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please select date first\", { position: \"top-right\", type: \"error\" })\r\n      } else {\r\n\r\n        if (startDate !== \"\" && endDate !== \"\") {\r\n\r\n          //If both dates are selected \r\n          let newData = { startDate: startDate, endDate: endDate }\r\n          //Hid Function \r\n          genReport(newData)\r\n        } else if (startDate !== \"\" && endDate === \"\") {\r\n          //If start date is selected set endDate same to start date\r\n          let newData = { startDate: startDate, endDate: startDate }\r\n          //Hit API Call\r\n          genReport(newData)\r\n        } else if (startDate === \"\" && endDate !== \"\") {\r\n          //If start date is selected set endDate same to start date\r\n          let newData = { startDate: endDate, endDate: endDate }\r\n          //Hit API Call\r\n          genReport(newData)\r\n        }\r\n      }\r\n\r\n     \r\n    } catch (error) {\r\n      console.error('Error fetching the PDF:', error);\r\n    }\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n\r\n  let array = []\r\n  reports.map((row) => {\r\n\r\n    for (let i = 0; i < Object.keys(row).length; i++) {\r\n      if (Object.keys(row)[i] === \"products\") {\r\n        // Access the 'products' array dynamically\r\n        const getRow = row[Object.keys(row)[i]];  // Dynamically fetches row.products\r\n\r\n        // Clone 'products' array to make it extensible\r\n        let newRow = [...getRow].map(modified => {\r\n          return {\r\n            ...modified,\r\n            id: modified._id\r\n          }\r\n        });\r\n        // Push new product into the cloned array\r\n        newRow.unshift({ id: 1001, heading: \"Products\" });\r\n\r\n        array.push(...newRow)\r\n      } else if (Object.keys(row)[i] === \"grossTotal\") {\r\n        // Access the 'products' array dynamically\r\n        const getRow = row[Object.keys(row)[i]];  // Dynamically fetches row.products\r\n\r\n        // Clone 'products' array to make it extensible\r\n        let newRow = [...getRow].map(modified => {\r\n          return {\r\n            ...modified,\r\n            id: modified._id\r\n          }\r\n        });\r\n        // Push new product into the cloned array\r\n        newRow.unshift({ id: 1002, heading: \"Gross Totals\" });\r\n\r\n        array.push(...newRow)\r\n      } else if (Object.keys(row)[i] === \"expenseData\") {\r\n        // Access the 'products' array dynamically\r\n        const getRow = row[Object.keys(row)[i]];  // Dynamically fetches row.products\r\n\r\n        // Clone 'products' array to make it extensible\r\n        let newRow = [...getRow].map(modified => {\r\n          return {\r\n            ...modified,\r\n            id: modified._id\r\n          }\r\n        });\r\n        // Push new product into the cloned array\r\n        newRow.unshift({ id: 1003, heading: \"Total Expense\" });\r\n\r\n        array.push(...newRow)\r\n      } else if (Object.keys(row)[i] === \"recovery\") {\r\n        // Access the 'products' array dynamically\r\n        const getRow = row[Object.keys(row)[i]];  // Dynamically fetches row.products\r\n\r\n        // Clone 'products' array to make it extensible\r\n        let newRow = [...getRow].map(modified => {\r\n          return {\r\n            ...modified,\r\n            id: modified._id\r\n          }\r\n        });\r\n        // Push new product into the cloned array\r\n        newRow.unshift({ id: 1005, heading: \"Recovery\" });\r\n\r\n        array.push(...newRow)\r\n      }\r\n    }\r\n    console.log(\"check row item => \", Object.keys(row)[1])\r\n\r\n  }\r\n  );\r\n\r\n  const iterateRows = array.map(item => {\r\n    return {\r\n      ...item\r\n    }\r\n  })\r\n  // console.log(...capitalizedRows)\r\n  console.log(array)\r\n  //Create handle one submit function \r\n  const handleOnSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    const { startDate, endDate } = state\r\n\r\n    if (startDate === \"\" && endDate === \"\") {\r\n      toast(\"Please select date first\", { position: \"top-right\", type: \"error\" })\r\n    } else {\r\n\r\n      if (startDate !== \"\" && endDate !== \"\") {\r\n\r\n        //If both dates are selected \r\n        let newData = { startDate: startDate, endDate: endDate }\r\n        //Hid Function \r\n        disptach(getReports(newData))\r\n      } else if (startDate !== \"\" && endDate === \"\") {\r\n        //If start date is selected set endDate same to start date\r\n        let newData = { startDate: startDate, endDate: startDate }\r\n        //Hit API Call\r\n        disptach(getReports(newData))\r\n      } else if (startDate === \"\" && endDate !== \"\") {\r\n        //If start date is selected set endDate same to start date\r\n        let newData = { startDate: endDate, endDate: endDate }\r\n        //Hit API Call\r\n        disptach(getReports(newData))\r\n      }\r\n    }\r\n\r\n  }\r\n  return (\r\n    <Box m=\"0px 20px 20px 20px\">\r\n      {/* Header for subscription page  */}\r\n      <Header title=\"Reports\" subTitle=\"Generate Statement or Report\" icon={<Receipt />} />\r\n      {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n      <Box sx={{ paddingLeft: 3, paddingRight: 3 }}>\r\n\r\n        <GridForm inputs={searchReportInput(printReport)} state={state} setState={setState} submit={handleOnSubmit} />\r\n      </Box>\r\n      {/* Data Table of Subscription Plans */}\r\n      <DataTable columns={reportColumns} rows={array.length > 0 && iterateRows} footer={true} />\r\n    </Box>\r\n  );\r\n}\r\n","import { Delete, Edit, Info, Print } from \"@mui/icons-material\";\r\nimport { IconButton, Tooltip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\n\r\n\r\n//Export sales Columns\r\nexport const salesClosingsColumns = (setOpenDeleteDialog, setDetailsDialog, handlePrint) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Cashier Name\",\r\n    width: 190,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.cashier?.pic\r\n                ? `${DOMAIN}/public/users/images/${params.row.cashier.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.cashier.name.length > 11 ? params.row.cashier.name.substring(0, 11) + `....` : params.row.cashier.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"salesCash\", headerName: \"Sales Cash\", width: 140, renderCell: (params) => {\r\n      return (\r\n        <div>\r\n          {params.row.salesCash ? params.row.salesCash.toLocaleString('en-US', {\r\n            style: 'currency',\r\n            currency: 'PKR',\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2\r\n          }) : 0}\r\n        </div>\r\n      )\r\n    }\r\n  },\r\n  {\r\n    field: \"debitCash\", headerName: \"Debit Cash\", width: 140, renderCell: (params) => {\r\n      return (\r\n        <div>\r\n          {params.row.debitCash ? params.row.debitCash.toLocaleString('en-US', {\r\n            style: 'currency',\r\n            currency: 'PKR',\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2\r\n          }) : 0}\r\n        </div>\r\n      )\r\n    }\r\n  },\r\n  {\r\n    field: \"cardAmount\", headerName: \"Card Amount\", width: 140, renderCell: (params) => {\r\n      return (\r\n        <div>\r\n          {params.row.cardAmount ? params.row.cardAmount.toLocaleString('en-US', {\r\n            style: 'currency',\r\n            currency: 'PKR',\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2\r\n          }) : 0}\r\n        </div>\r\n      )\r\n    }\r\n  },\r\n  {\r\n    field: \"creditAmount\", headerName: \"Credit Amount\", width: 140, renderCell: (params) => {\r\n      return (\r\n        <div>\r\n          {params.row.creditAmount ? params.row.creditAmount.toLocaleString('en-US', {\r\n            style: 'currency',\r\n            currency: 'PKR',\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2\r\n          }) : 0}\r\n        </div>\r\n      )\r\n    }\r\n  },\r\n  {\r\n    field: \"date\",\r\n    headerName: \"Date\",\r\n    width: 100\r\n  },\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 130,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Tooltip title=\"Print Report\">\r\n            <IconButton\r\n              className=\"viewButton\"\r\n              onClick={() => handlePrint(params.row._id)\r\n              }\r\n            >\r\n              <Print style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {/* <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n          <Tooltip title=\"Delete Closing\">\r\n            <IconButton\r\n              className=\"viewButton\"\r\n              onClick={() => setOpenDeleteDialog(true)}\r\n            >\r\n              <Delete style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Tooltip>\r\n\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport {\r\n  Assessment,\r\n} from \"@mui/icons-material\";\r\n// import \"./sales.scss\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getMachines } from \"../../redux/machineSlice/machineSlice\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { salesColumns } from \"../../Components/datatable/salesTableSources\";\r\nimport { clearSales, deleteSale, getSales, getSingleSale } from \"../../redux/saleSlice/saleSlice\";\r\nimport SaleDetails from \"../../Pages/Sales/SaleDetails\";\r\nimport { searchSalesFilters } from \"../../Components/sources/salesFormSources\";\r\nimport { salesClosingsColumns } from \"../../Components/datatable/salesClosingsTableSources\";\r\nimport { clearClosings, getPrintClosingReport, getSaleClosings } from \"../../redux/closingsSlice/closingsSlice\";\r\n\r\nconst TotalSaleClosings = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Initializing useSelector to get data from redux store\r\n  const closings = useSelector((state) => state.closings.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.sales.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.closings.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.sales.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\"\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    initialReading: \"\",\r\n    currentReading: \"\",\r\n    status: \"\"\r\n  });\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if ((selectedRowId !== undefined && openFormDialog === true) || (selectedRowId !== undefined && openDetailsDialog === true)) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSale(selectedRowId[0]));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  console.log(\"Checking the search State \", search)\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    // dispatch(getMachines(initialData));\r\n    dispatch(getSaleClosings(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearClosings());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    }\r\n    // else {\r\n    //   // handleOnFormDialogClose();\r\n    // }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Sale func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deleteSale(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Handle Print Sale func\r\n  const handlePrint = (id) => {\r\n\r\n    dispatch(getPrintClosingReport(id))\r\n    console.log(\"Check print id => \", id)\r\n  }\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getMachines using dispatch\r\n    dispatch(getSales(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSales(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getSales(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  function calculateTotalAndDiscount(items) {\r\n    let totalAmount = 0\r\n    let totalDiscount = 0\r\n\r\n    items?.forEach(item => {\r\n      totalAmount += (item.quantity * item.price.newSellingPrice)\r\n      totalDiscount += (item.price.newSellingPrice / 100 * item.discount) * item.quantity\r\n    })\r\n\r\n    return { totalAmount, totalDiscount }\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows = closings.length > 0 ? closings.map((row) => ({\r\n    ...row,\r\n    totalAmount: row.items && calculateTotalAndDiscount(row.items).totalAmount,\r\n    totalDiscount: row.items && calculateTotalAndDiscount(row.items).totalDiscount,\r\n    product: row.items\r\n  })) : [];\r\n\r\n  const handleOnCloseDetails = () => {\r\n\r\n    setDetailsDialog(false)\r\n  }\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Employee Page  */}\r\n      <Header\r\n        icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n        title=\"Sale Closings\"\r\n        subTitle=\"Manage Application Sale Closings\"\r\n      // addBtnTitle=\"Add Machine\"\r\n      // dialog={openFormDialog}\r\n      // setDialog={setOpenFormDialog}\r\n      />\r\n      {/* Main Card for setup employees Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Employee Dialog Box  */}\r\n\r\n        {/* Employee Details Dialog box  */}\r\n        <SaleDetails\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={Object.keys(currentData).length !== 0 ? `Sales Detail of ${currentData.customer.name}` : \"Sale Details\"}\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={handleOnCloseDetails}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE SALE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\r\n            \"Are sure you want to delete Sale?.\"\r\n          }\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchSalesFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={salesClosingsColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            handlePrint,\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TotalSaleClosings;\r\n","import React, { useContext } from \"react\";\r\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\r\nimport Navbar from \"../../Components/navbar/Navbar\";\r\nimport Sidebar from \"../../Components/sidebar/Sidebar\";\r\nimport Dashboard from \"../../Pages/Home/Dashboard\";\r\nimport \"./authapp.scss\";\r\nimport \"../../style/dark.scss\";\r\nimport Subscription from \"../../Pages/Admin/Subscription/Subscription\";\r\nimport Features from \"../../Pages/Admin/Subscription/Features\";\r\nimport NewFeature from \"../../Pages/Admin/Subscription/NewFeature\";\r\nimport Packages from \"../../Pages/Admin/Subscription/Packages/Packages\";\r\nimport NewPackage from \"../../Pages/Admin/Subscription/Packages/NewPackage\";\r\nimport Alert from \"../../Components/alert/Alert\";\r\nimport Tenants from \"../../Pages/Admin/Accounts/Tenants/Tenants\";\r\nimport NewTenant from \"../../Pages/Admin/Accounts/Tenants/NewTenant\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Users from \"../../Pages/Admin/Accounts/Users/Users\";\r\nimport Meters from \"../../Pages/DataEntry/Meters/Meters\";\r\nimport SalesClose from \"../../Pages/DataEntry/Meters/SalesClose\";\r\nimport Customer from \"../../Pages/Customer/Customer\";\r\nimport Supplier from \"../../Pages/Supplier/Supplier\";\r\nimport Employee from \"../../Pages/Employee/Employee\";\r\nimport Machine from \"../../Pages/Machines/Machines\";\r\nimport Stock from \"../../Pages/Stock/Stock\";\r\nimport Products from \"../../Pages/Products/Products\";\r\nimport Prices from \"../../Pages/Prices/Prices\";\r\nimport Sale from \"../../Pages/Sales/Sales\";\r\nimport TotalSale from \"../../Pages/Sales/TotalSale\";\r\nimport Purchase from \"../../Pages/Purchase/Purchase\";\r\nimport Readings from \"../../Pages/Readings/Readings\";\r\nimport CustomerPayment from \"../../Pages/Customer/CustomerPayment\";\r\nimport SupplierPayment from \"../../Pages/Supplier/SupplierPayment\";\r\nimport EmployeeSalary from \"../../Pages/Employee/EmployeeSalary\";\r\nimport EmployeeAdvance from \"../../Pages/Employee/EmployeeAdvance\";\r\nimport Expense from \"../../Pages/Expense/Expenses\";\r\nimport StockWastage from \"../../Pages/Stock/StockWastage\";\r\nimport StockDip from \"../../Pages/Stock/StockDip\";\r\nimport Report from \"../../Pages/Reports/Report\";\r\n\r\nimport Closing from \"../../Pages/Closing/Closing\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\nimport TotalSaleClosings from \"../../Pages/DataEntry/TotalSaleClosings\";\r\n\r\nconst AuthApp = ({ mode }) => {\r\n  \r\n  //Call Auth Context & Extract Logout\r\n  const { logout, user } = useContext(AuthContext);\r\n  return (\r\n    <div className={mode === \"dark\" ? \"authApp dark\" : \"authApp\"}>\r\n      <BrowserRouter>\r\n       \r\n        <Navbar className=\"authNavbar\" user={user} logout={logout} />\r\n        <ToastContainer theme=\"colored\" closeButton={false} />\r\n        <Alert />\r\n        <div className=\"main\">\r\n          <Sidebar className=\"authSidebar\" />\r\n          <div className=\"appContainer\">\r\n            <Routes>\r\n              <Route exact path=\"/\" element={<Dashboard />} />\r\n              {/**************** SAIMON TECHNOLOGIES ADMIN PANEL ROUTES ********************/}\r\n              <Route exact path=\"/subscriptions\" element={<Subscription />} />\r\n              <Route exact path=\"/packages\" element={<Packages />} />\r\n              <Route exact path=\"/packages/new\" element={<NewPackage />} />\r\n              <Route\r\n                exact\r\n                path=\"/packages/update/:id\"\r\n                element={<NewPackage />}\r\n              />\r\n              <Route exact path=\"/features\" element={<Features />} />\r\n              <Route exact path=\"/features/new\" element={<NewFeature />} />\r\n              {/* METER ROUTES */}\r\n              <Route exact path=\"/meters\" element={<Meters />} />\r\n              {/* CUSTOMER ROUTES  */}\r\n              <Route exact path=\"/customers\" element={<Customer />} />\r\n              <Route exact path=\"/customerpayments\" element={<CustomerPayment />} />\r\n              {/* SUPPLIER ROUTES  */}\r\n              <Route exact path=\"/suppliers\" element={<Supplier />} />\r\n              <Route exact path=\"/supplierpayments\" element={<SupplierPayment />} />\r\n              {/* EMPLOYEE ROUTES  */}\r\n              <Route exact path=\"/employees\" element={<Employee />} />\r\n              <Route exact path=\"/employeesalary\" element={<EmployeeSalary />} />\r\n              <Route exact path=\"/employeeadvances\" element={<EmployeeAdvance />} />\r\n              {/* MACHINE ROUTES  */}\r\n              <Route exact path=\"/machines\" element={<Machine />} />\r\n              {/* MACHINE READINGS ROUTES  */}\r\n              <Route exact path=\"/readings\" element={<Readings />} />\r\n              {/* PRODUCTS ROUTES  */}\r\n              <Route exact path=\"/products\" element={<Products />} />\r\n              {/* PRICES ROUTES  */}\r\n              <Route exact path=\"/prices\" element={<Prices />} />\r\n              {/* SALES ROUTES  */}\r\n              <Route exact path=\"/pos\" element={<Sale />} />\r\n              <Route exact path=\"/sales\" element={<TotalSale />} />\r\n              {/* PURCHASE ROUTES  */}\r\n              <Route exact path=\"/purchases\" element={<Purchase />} />\r\n              {/* REPORT GENERATIONS ROUTE  */}\r\n              <Route exact path=\"/reports\" element={<Report />} />\r\n              {/* STOCKS ROUTES  */}\r\n              <Route exact path=\"/stocks\" element={<Stock />} />\r\n              <Route exact path=\"/wastages\" element={<StockWastage />} />\r\n              <Route exact path=\"/dips\" element={<StockDip />} />\r\n              {/* REPORTS ROUTES  */}\r\n              <Route exact path=\"/expenses\" element={<Expense />} />\r\n              {/* TENANTS ROUTES  */}\r\n              <Route exact path=\"/tenants\" element={<Tenants />} />\r\n              <Route exact path=\"/tenants/new\" element={<NewTenant />} />\r\n              <Route exact path=\"/tenants/update/:id\" element={<NewTenant />} />\r\n              {/* USERS ROUTES  */}\r\n              <Route exact path=\"/admin/users\" element={<Users />} />\r\n              <Route exact path=\"/closing\" element={<SalesClose />} />\r\n              <Route exact path=\"/allclosings\" element={<TotalSaleClosings />} />\r\n            </Routes>\r\n          </div>\r\n        </div>\r\n\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthApp;\r\n"],"names":["Alert","alerts","useSelector","state","enqueueSnackbar","useSnackbar","AlertStack","_ref","id","msg","type","useEffect","variant","preventDuplicate","autoHideDuration","anchorOrigin","horizontal","vertical","length","map","alert","key","_jsx","className","children","capitalize","string","_string$charAt","charAt","toUpperCase","slice","selected","handleRegister","setSelected","setState","title","color","image","price","feature","_jsxs","style","background","undefined","checked","onClick","window","location","href","handleOnClick","packageId","CheckCircle","sx","fontSize","visibility","Avatar","src","size","round","concat","Array","isArray","element","display","justifyContent","groupStatus","DoneAll","RemoveDone","Typography","groupDescription","substr","Button","width","backgroundColor","ShoppingCart","settingItems","icon","Dashboard","AccountCircle","PowerSettingsNew","Dropdown","anchorElUser","setAnchorElUser","handleCloseUserMenu","Box","flexGrow","xs","md","Menu","mt","anchorEl","keepMounted","transformOrigin","marginLeft","open","Boolean","onClose","setting","MenuItem","marginRight","alignItems","textAlign","Navbar","darkMode","dispatch","useContext","ModeContext","isAuthenticated","user","AuthContext","useLocation","useState","IconButton","MenuIcon","Link","to","textDecoration","_Fragment","name","event","currentTarget","p","alt","pic","BackdropProps","invisible","pathname","textTransform","setAlert","store","addAlert","Sidebar","listItems","useLocalHook","navigate","useNavigate","logout","LogoutFunc","WebAdminPanel","label","DashboardCustomize","url","category","SwitchAccount","setList","nested","itemId","AttachMoney","People","Payment","AssignmentInd","LocalAtm","access","Speed","TrendingUp","Assessment","Settings","LocalGasStation","Widgets","PriceChange","Receipt","Opacity","Store","FormatColorReset","clickFunc","AdminPanel","HourglassBottom","CashierPanel","sidebar","toggle","filter","item","getToggle","useDispatch","listItem","List","minWidth","padding","subheader","ListItemButton","toggleFunc","ListItemIcon","ListItemText","primary","ExpandLess","ExpandMore","nestedItem","Collapse","in","timeout","component","disablePadding","pl","data","stock","product","petrolCane","dieselCane","DOMAIN","link","newSellingPrice","costPrice","Business","stocks","completeData","getAllStocks","cleardata","console","log","Grid","container","spacing","sm","lg","Widget","_id","columns","footer","rows","totalRecords","selectedRowId","handleOnPageChange","currentPage","setSelectedRowId","DataGrid","pageSize","disableColumnFilter","rowCount","paginationMode","components","NoRowsOverlay","Stack","height","Pagination","page","onSelectionModelChange","selectionModel","onPageChange","e","rowsPerPageOptions","checkboxSelection","disableRowSelectionOnClick","subTitle","dialog","btnIcon","setDialog","addBtnTitle","secondaryBtnTitle","secondaryBtnIcon","setSecondaryDialog","secondaryDialog","theme","useTheme","colors","colorTokens","palette","mode","m","position","top","zIndex","bgcolor","main","grey","fontWeight","flexDirection","mb","featureColumns","field","headerName","renderCell","params","row","status","tenantsColumns","setOpenDeleteDialog","sortable","logo","ownerName","Edit","Delete","subColumns","plan","Chip","subRows","img","features","Subscription","Header","DataTable","Form","inputs","submit","submitBtn","handleOnChange","target","value","sItem","forEach","onSubmit","paddingLeft","paddingRight","input","grid","TextField","onChange","FormGroup","FormControlLabel","control","Switch","defaultChecked","disabled","FormControl","InputLabel","Select","labelId","paddingTop","options","getField","featureInputFields","packageFeatureForm","groups","class","groupTitle","btntype","tenantForm","submitBtnTitle","packages","expiresInMonths","searchTenantFilters","disable","operator","searchTenantInput","replace","str","searchInput","Features","alertContext","AlertContext","description","getFeatures","clearFeatures","async","preventDefault","_res$payload","res","addFeature","payload","success","deleteItem","deleteFeature","NewFeature","Packages","getPackages","clearPackages","deletePackage","file","setFile","files","handleColorChange","MuiColorInput","format","setVisibility","handleVisibility","Visibility","right","VisibilityOff","PhoneInput","country","masks","pk","placeholder","contact","formTitle","colorValue","marginBottom","marginTop","tabIndex","spellCheck","disability","btnFunc","MenuProps","PaperProps","maxHeight","overflowY","renderValue","selectedValue","selectedItem","find","gap","flex","avatarUrl","amount","toLocaleString","currency","minimumFractionDigits","maximumFractionDigits","remAdv","salary","designation","date","justifyItems","avatarAlt","ColorPicker","FileInput","PasswordInput","CellInput","LocalizationProvider","dateAdapter","AdapterDayjs","DatePicker","dayjs","slotProps","textField","fullWidth","error","$d","views","formattedValue","FormLabel","RadioGroup","defaultValue","Radio","FileUpload","axios","then","response","heading","deleteGroup","dbfeatures","getFeatureName","_dbfeatures$filter$","groupItem","Cancel","flexWrap","group","onDelete","NewPackage","get_package","current","useParams","Object","keys","getSinglePackage","u_id","uuid","setGroup","setFeature","selectgroup","selectfeature","handleAddorUpdate","object","formData","FormData","append","getFormData","newState","filename","request","Data","updatePackage","addPackages","resp","PlanCard","URL","createObjectURL","Card","GridForm","push","addfeature","openDeleteDialog","setConfirmInput","handleOnDelete","confirmInput","message","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","handleDelete","autoFocus","filters","setFilter","loadDataFunc","openFiltersPanel","setOpenFiltersPanel","searchFiltersForm","searchInputForm","FilterList","handleClearFilters","sort","startDate","endDate","SyncIcon","FilterForm","Tenants","tenants","totalRecord","setCurrentPage","initialData","getTenants","clearTenants","capitalizeEachWord","sentence","split","word","join","capitalizedTenantsRows","username","tenantName","address","Dialogue","email","deleteTenant","toast","DangerousIcon","Search","loadData","NewTenant","get_tenant","password","confirmPassword","subscriptionId","getSingleTenant","getTenantPackages","urlToFile","fetch","blob","File","loadFile","fileGenerated","paddingBottom","AvatarInput","updateTenant","addTenant","userColumns","setOpenFormDialog","setDetailsDialog","Info","openFormDialog","handleOnClose","handleOnSubmit","Dangerous","customerInputFields","currentCustomer","searchCustomerFilters","searchCustomerInput","words","match","index","toLowerCase","entries","_ref2","i","borderRadius","String","openDetailsDialog","setOpenDetailsDialog","Id","handleOnCloseDetails","DetailsPaper","userInputFields","currentData","Users","users","submitErrors","errors","search","setSearch","getAllUsers","handleOnFormDialogClose","balance","capitalizedRows","PeopleAlt","FormDialog","updateCustomer","addUser","DetailsDialog","deleteCustomer","getCustomers","meterInputFields","Meters","machines","machineId","reading","salesCash","setProduct","petrol","diesel","handleProductSelection","productName","initData","getMachines","cashSalesAmount","newReading","handleMachineSelection","currentReading","addReading","_products$find2","_products$find3","_products$find4","_products$find5","products","prices","readings","closings","getAllProducts","getAllMachines","getCurrentPrices","getCurrentReadings","cashierId","items","debitCash","cardAmount","creditAmount","salesEntry","setSalesEntry","productId","quantity","openItem","setOpenItem","handleOpenItems","handleSalesEntry","some","list","selectedMachines","arry","reduce","acc","TotalSaleCalculation","productid","totalSale","totalSaleAmount","values","machineSale","currentPrice","parseInt","roundAmount","handleValuesRound","sale","saleAmountClearanceCal","daySaleAmount","num","Math","regex","test","_products$find","_readings$find","cursor","_item$price","xl","Tooltip","Refresh","DynamicFeed","handleOnAddEntry","newObj","Add","_ref3","ChevronRight","newItems","handleOnRemoveItem","Width","_machines$find","parseFloat","addClosing","Save","customerColumns","Customer","customers","getSingleCustomer","clearCustomers","addCustomer","supplierInputFields","searchSupplierFilters","searchSupplierInput","supplierColumns","Supplier","suppliers","companyName","getSingleSupplier","getSuppliers","clearSuppliers","updateSupplier","addSupplier","deleteSupplier","employeeColumns","remainingAdvance","employeeInputFields","searchEmployeeFilters","searchEmployeeInput","Employee","employees","getSingleEmployee","getEmployees","clearEmployees","updateEmployee","addEmployee","deleteEmplyee","machineColumns","machineInputFields","searchMachineFilters","Machine","initialReading","getSingleMachine","clearMachines","updateMachine","addMachine","deleteMachine","purchaseInputFields","searchPurchaseFilters","Stock","supplierId","sellingPrice","paidAmount","getStocks","getProducts","addPurchase","_params$row","productColumns","productInputFields","searchProductFilters","styled","Paper","typography","body2","result","_ref4","nestedIndex","nestedKey","nestedValue","Product","getSingleProduct","clearProducts","updateProduct","addProduct","ProductDetails","deleteProduct","priceInputFields","searchPriceFilters","priceColumns","oldSellingPrice","differenceValue","Prices","getPrices","clearPrices","addPrice","deletePrice","getCurrentDate","today","Date","day","getDate","padStart","month","getMonth","year","getFullYear","Sale","_state$items4","closed","sales","customer","setCustomer","bill","setBill","totalAmount","discountAmount","customerId","paymentMethod","hold","setHold","getTodaysClosing","calculateBill","_state$items","discount","itemTotal","itemDiscount","handleItemChange","updatedItems","handleOnSelect","existingItem","newItem","priceId","_state$items2","_state$items3","PersonAdd","totalReduction","handleOnHold","addSale","handleOnAddSale","salesColumns","substring","_params$row$items","DemoPaper","overflow","searchSalesFilters","TotalSale","getSingleSale","getSales","clearSales","calculateTotalAndDiscount","totalDiscount","SaleDetails","deleteSale","purchaseColumns","_params$row$supplier","supplier","supplierName","Purchase","purchases","getSinglePurchase","getPurchases","clearPurchases","updatePurchase","deletePurchase","Readings","getReadings","machine","deleteReading","customerPaymentColumns","prevAmount","remAmountBefore","customerPaymentInputFields","searchCustomerPaymentFilters","CustomerPayment","customerpayments","getSingleCustomerPayment","getCustomerPayments","clearCustomerPayments","remaining","updateCustomerPayment","addCustomerPayment","deleteCustomerPayment","supplierPaymentInputFields","currentSupplier","searchSupplierPaymentFilters","supplierPaymentColumns","SupplierPayment","supplierpayments","getSingleSupplierPayment","getSupplierPayments","clearSupplierPayments","addEventListener","ctrlKey","updateSupplierPayment","addSupplierPayment","deleteSupplierPayment","employeeSalaryColumns","employee","advanceDeducted","grossSalary","netSalary","employeeSalaryInputFields","EmployeeSalary","allEmployees","salaries","employeeId","salaryOfMonth","salaryOfYear","getAllEmployees","getEmployeeSalaries","clearEmployeeSalaries","updateEmployeeSalary","addEmployeeSalary","deleteEmployeeSalary","employeeAdvanceColumns","totAdvanceReturned","employeeAdvanceInputFields","advanceInstallmentsInputFields","method","EmployeeAdvance","allActiveEmployees","allActiveAdvances","advances","openPayFormDialog","setOpenPayFormDialog","advanceId","getSingleEmployeeAdvance","getAllActiveAdvances","getEmployeeAdvances","handleOnAddUpdateFormSubmit","addEmployeeAdvance","addAdvanceInstallment","CurrencyExchangeRounded","AdvanceDetails","expenseColumns","expenseInputFields","searchExpenseFilters","Expense","expenses","getSingleExpense","getExpenses","clearExpenses","AddShoppingCartTwoTone","updateExpense","addExpense","deleteExpense","wastageColumns","wastageInputFields","searchWastageFilters","StockWastage","wastages","getSingleWastage","getWastages","clearWastages","updateWastage","addWastage","deleteWastage","dipColumns","dipInputFields","StockDip","dips","dip","getSingleDip","getDips","clearDips","updateDip","addDip","deleteDip","reportColumns","headerAlign","_params$row2","_params$row3","grossTotalProfit","totalProfit","searchReportInput","printReport","Report","disptach","reports","array","newRow","modified","unshift","iterateRows","genReport","ENDPOINTS","GENREPORT","responseType","pdfBlob","Blob","pdfUrl","revokeObjectURL","newData","getReports","salesClosingsColumns","handlePrint","_params$row$cashier","cashier","Print","TotalSaleClosings","getSaleClosings","clearClosings","getPrintClosingReport","BrowserRouter","ToastContainer","closeButton","Routes","Route","exact","path","Products","SalesClose"],"sourceRoot":""}