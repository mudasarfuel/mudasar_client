"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[421],{23052:(e,t,a)=>{a.d(t,{Z:()=>s});a(72791),a(34127);var i=a(80184);const s=e=>{let{file:t,setFile:a}=e;return(0,i.jsxs)("div",{className:"avatarInputWrapper",id:"wrapper",children:[(0,i.jsx)("img",{src:t&&URL.createObjectURL(t),width:"130px",height:"130px"}),(0,i.jsx)("input",{type:"file",onChange:e=>{a(e.target.files[0])},className:"avatarInput"})]})}},21701:(e,t,a)=>{a.d(t,{As:()=>s,cL:()=>r,eK:()=>m,hq:()=>l,kE:()=>i,nj:()=>o,v0:()=>d,xl:()=>n});const i=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],s=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],n=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],d=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],r=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],l=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],m=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},11421:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var i=a(72791),s=a(28924),n=a(93973),d=a(697),r=a(21701),l=a(59434),o=a(70591),m=a(75985),p=a(95113),c=a(57689),u=a(23052),g=a(37725),y=a(80184);const b=()=>{const e=(0,l.I0)(),t=(0,l.v9)((e=>e.tenants.packages)),a=(0,l.v9)((e=>e.tenants.current)),{id:b}=(0,c.UO)(),[x,v]=(0,i.useState)({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",confirmPassword:"",logo:"",subscriptionId:""}),[f,h]=(0,i.useState)("");(0,i.useEffect)((()=>{void 0!==b&&e((0,p.cg)(b)),e((0,p.BP)("active"))}),[b]),console.log(f),(0,i.useEffect)((()=>{if(void 0!==b&&0!==Object.keys(a).length){async function e(e){let t=await fetch(e),a=await t.blob(),i=new File([a],"test.jpg",{type:"image/jpeg"});return console.log(i),i}async function t(){const t=await e("".concat(g.y,"/public/tenants/images/").concat(a.logo));h(t)}v({...x,...a}),a.logo&&t()}else v({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",confirmPassword:"",subscriptionId:""})}),[a]);const{ownerName:w,username:A,email:N,tenantName:D,contact:I,address:k,password:E,status:S,date:j,packageId:C,confirmPassword:P}=x;return(0,y.jsxs)(d.Z,{m:"0px 20px 15px 20px",children:[(0,y.jsx)(s.Z,{title:"New Tenant",subTitle:"Manage Application Tenants"}),(0,y.jsxs)(d.Z,{className:"mainCard",children:[(0,y.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingTop:"8px",paddingBottom:"8px"},children:(0,y.jsx)(u.Z,{file:f,setFile:h})}),t.length>0&&(0,y.jsx)(n.Z,{title:"Add New Tenant",inputs:(0,r.cL)("Add Tenant",t),state:x,setState:v,file:f,setFile:h,submit:async t=>{if(t.preventDefault(),""===w)(0,m.Am)("Enter owner name",{position:"top-right",type:"error"});else if(""===A)(0,m.Am)("Enter username",{position:"top-right",type:"error"});else if(""===N)(0,m.Am)("Enter username",{position:"top-right",type:"error"});else if(""===D)(0,m.Am)("Enter enter company name",{position:"top-right",type:"error"});else if(""===I)(0,m.Am)("Enter username",{position:"top-right",type:"error"});else if(""===k)(0,m.Am)("Enter username",{position:"top-right",type:"error"});else if(""===E)(0,m.Am)("Enter username",{position:"top-right",type:"error"});else if(""===C)(0,m.Am)("Please select package",{position:"top-right",type:"error"});else if(""===S)(0,m.Am)("Please select status",{position:"top-right",type:"error"});else if(""===j)(0,m.Am)("Please select date",{position:"top-right",type:"error"});else if(E!==P)(0,m.Am)("Password does not Match !",{position:"top-right",type:"error"});else if(""!==f){function a(e){const t=new FormData;return t.append("file",e),t}const i=await(0,o.p)(a(f));if(!0===(null===i||void 0===i?void 0:i.success)){const s={...x};if(s.logo=i.filename,v(s),void 0!==b){const n={id:b,Data:s};console.log("Checking data before send => ",n),e((0,p.Jq)(n)),v({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",logo:"",subscriptionId:""}),h("")}else e((0,p.Gc)(s)),v({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",logo:"",subscriptionId:""}),h("")}}else if(void 0!==b){const d={id:b,Data:x};e((0,p.Jq)(d)),v({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",logo:"",subscriptionId:""}),h("")}else e((0,p.Gc)(x)),v({ownerName:"",username:"",email:"",tenantName:"",contact:"",address:"",packageId:"",status:"",date:"",password:"",logo:"",subscriptionId:""}),h("")}})]})]})}},70591:(e,t,a)=>{a.d(t,{p:()=>d});var i=a(74569),s=a.n(i),n=a(37725);const d=async e=>{try{return await s().post("".concat(n.y,"/api/uploads"),e).then((e=>e.data))}catch(t){return t.response.data}}}}]);
//# sourceMappingURL=421.92eecfd6.chunk.js.map