"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[941],{47953:(e,t,i)=>{i.d(t,{o:()=>o});var a=i(38820),r=i(52524),l=i(20068),n=i(13400),d=i(37725),s=i(80184);const o=(e,t,i)=>[{field:"name",headerName:"Name",width:230,renderCell:e=>(0,s.jsxs)("div",{className:"cellWithImg",children:[(0,s.jsx)("img",{src:e.row.pic?"".concat(d.y,"/public/products/images/").concat(e.row.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.name]})},{field:"type",headerName:"Type",width:100},{field:"costPrice",headerName:"Cost Price",width:150,renderCell:e=>{var t;return(0,s.jsx)("div",{children:e.row.prices.costPrice?(null===(t=e.row.prices.costPrice)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0:""})}},{field:"sellingPrice",headerName:"Selling Price",width:140,renderCell:e=>{var t;return(0,s.jsx)("div",{children:(null===(t=e.row.prices.newSellingPrice)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Last Updated",width:120,renderCell:e=>(0,s.jsx)("div",{children:e.row.prices.date})},{field:"status",headerName:"Status",width:90,renderCell:e=>(0,s.jsx)("div",{style:{background:"active"===e.row.status.toLowerCase()?"#02bf2e":"#999",color:"white",width:65,textAlign:"center",borderRadius:4},children:e.row.status})},{field:"action",headerName:"Action",width:160,renderCell:e=>(0,s.jsxs)("div",{className:"cellAction",children:[(0,s.jsx)(l.Z,{title:"Edit Product",children:(0,s.jsx)(n.Z,{className:"viewButton",onClick:()=>{i(!0)},children:(0,s.jsx)(a.Z,{style:{fontSize:"20px"}})})}),(0,s.jsx)(l.Z,{title:"Product Details",children:(0,s.jsx)(n.Z,{className:"viewButton",onClick:()=>t(!0),children:(0,s.jsx)(r.Z,{style:{fontSize:"20px"}})})})]})}]},95957:(e,t,i)=>{i.d(t,{CE:()=>l,Ty:()=>r,c0:()=>a});const a=(e,t)=>[{id:1,label:"Name *",type:"text",name:"name",tabIndex:0,grid:{xs:12,sm:12,md:6,lg:6}},{id:2,label:"Email",tabIndex:1,type:"email",name:"email",grid:{xs:12,sm:12,md:6,lg:6}},{id:3,label:"Contact",tabIndex:2,type:"phone",name:"contact",grid:{xs:12,sm:12,md:6,lg:6}},{id:4,label:"Salary *",tabIndex:3,type:"number",name:"salary",grid:{xs:12,sm:12,md:6,lg:6}},{id:5,label:"Advance *",tabIndex:3,type:"number",name:"advance",grid:{xs:12,sm:12,md:6,lg:6}},{id:6,label:"Designation *",tabIndex:4,type:"text",name:"designation",grid:{xs:12,sm:12,md:6,lg:6}},{id:7,label:"Address",tabIndex:4,type:"text",name:"address",grid:{xs:12,sm:12,md:6,lg:6}},{id:8,label:"Status",type:"select",tabIndex:5,disable:!1,name:"status",size:"small",minWidth:"100wh",grid:{xs:12,sm:12,md:6,lg:6},options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]},{id:9,label:null!==e&&0!==Object.keys(t).length?"Update Employee":"Add Employee",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],r=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Email",value:"email"},{id:3,name:"Contact",value:"contact"},{id:4,name:"Designation",value:"designation"},{id:5,name:"Status",value:"status"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],l=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",name:"searchInput",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},9311:(e,t,i)=>{i.r(t),i.d(t,{default:()=>E});var a=i(697),r=i(72791),l=i(28924),n=i(66351),d=i(59434),s=(i(70591),i(19570)),o=i(98635),c=i(66807),m=i(75057),p=i(56266),u=i(5092),g=i(97246),h=i(75985),v=i(26384),x=(i(47953),i(18481),i(95957)),y=(i(92061),i(37725));const f=(e,t,i)=>[{id:1,label:"Product Name",type:"select",name:"productId",options:i.length>0&&i.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(y.y,"/public/products/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png"}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:2,label:"Cost Price",type:"number",name:"costPrice",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Selling Price",type:"number",name:"sellingPrice",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:"Date",type:"date",name:"date",grid:{xs:12,sm:12,md:12,lg:12}},{id:7,label:null!==e&&0!==Object.keys(t).length?"Update Price":"Add New Price",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],D=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Product",value:"product"},{id:2,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}];var b=i(52524),w=i(5397),P=i(20068),S=i(13400),j=i(80184);const C=(e,t,i)=>[{field:"name",headerName:"Name",width:200,renderCell:e=>(0,j.jsxs)("div",{className:"cellWithImg",children:[(0,j.jsx)("img",{src:e.row.product.pic?"".concat(y.y,"/public/products/images/").concat(e.row.product.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.product.name]})},{field:"costPrice",headerName:"Cost Price",width:120,renderCell:e=>{var t;return(0,j.jsx)("div",{children:(null===(t=e.row.costPrice)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"oldSellingPrice",headerName:"Old Selling Price",width:140,renderCell:e=>{var t;return(0,j.jsx)("div",{children:(null===(t=e.row.oldSellingPrice)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"newSellingPrice",headerName:"Selling Price",width:120,renderCell:e=>{var t;return(0,j.jsx)("div",{children:(null===(t=e.row.newSellingPrice)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"differenceValue",headerName:"Difference Amount",width:170,renderCell:e=>{var t;return(0,j.jsx)("div",{children:(null===(t=e.row.differenceValue)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Date",width:120,renderCell:e=>(0,j.jsx)("div",{children:e.row.date})},{field:"action",headerName:"Action",width:110,renderCell:i=>{var a;return(0,j.jsxs)("div",{className:"cellAction",children:[(0,j.jsx)(P.Z,{title:"Price Details",children:(0,j.jsx)(S.Z,{className:"viewButton",onClick:()=>t(!0),children:(0,j.jsx)(b.Z,{style:{fontSize:"20px"}})})}),"open"===(null===(a=i.row)||void 0===a?void 0:a.status)&&(0,j.jsx)(P.Z,{title:"Delete Price",children:(0,j.jsx)(S.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,j.jsx)(w.Z,{style:{fontSize:"20px"}})})})]})}}];var I=i(78638),A=i(6001);const E=()=>{var e;const t=(0,d.I0)(),i=(0,d.v9)((e=>e.completeData.products)),y=(0,d.v9)((e=>e.prices.data)),b=(0,d.v9)((e=>e.prices.current)),w=(0,d.v9)((e=>e.prices.totalRecord)),P=(0,d.v9)((e=>e.prices.errors)),[S,E]=(0,r.useState)(!1),[N,Z]=(0,r.useState)(!1),[F,z]=(0,r.useState)(!1),[R,B]=(0,r.useState)(null),[O,k]=(0,r.useState)(0),[U,L]=(0,r.useState)({field:"",operator:"",sort:-1}),[T,V]=(0,r.useState)({searchInput:"",startDate:"",endDate:""}),[W,K]=(0,r.useState)({productId:"",costPrice:"",sellingPrice:"",date:""}),[M,$]=(0,r.useState)(""),[_,q]=(0,r.useState)(!1);(0,r.useEffect)((()=>{(void 0!==R&&!0===S||void 0!==R&&!0===N)&&t((0,I.CO)(R))}),[R]),(0,r.useEffect)((()=>{var e,t,i;0!==Object.keys(b).length&&K({name:null===b||void 0===b||null===(e=b.product)||void 0===e?void 0:e.name,type:null===b||void 0===b||null===(t=b.product)||void 0===t?void 0:t.type,costPrice:b.costPrice,sellingPrice:b.newSellingPrice,date:b.date,status:null===b||void 0===b||null===(i=b.product)||void 0===i?void 0:i.status})}),[b]),(0,r.useEffect)((()=>{const e={page:0,sort:U.sort};return t((0,A.Dg)()),t((0,I.vD)(e)),()=>{t((0,I.Tl)())}}),[]),(0,r.useEffect)((()=>{"date"===U.field?L({...U,operator:"inBetween"}):"inBetween"===U.operator&&L({...U,operator:"$regex"})}),[U.field]),(0,r.useEffect)((()=>{(null===P||void 0===P?void 0:P.length)>0?P.forEach((e=>{(0,h.Am)(e.msg,{position:"top-right",type:"error"})})):H()}),[P]);const H=()=>{E(!1),B(null),Z(!1),K({productId:"",costPrice:"",sellingPrice:"",date:""}),$(""),t((0,I.Cu)())};const Y=y.map((e=>({...e}))),{productId:G,date:J,costPrice:Q,sellingPrice:X}=W;return(0,j.jsxs)(a.Z,{m:"0px 20px 15px 20px",children:[(0,j.jsx)(l.Z,{icon:(0,j.jsx)(m.Z,{style:{marginRight:"10px"}}),title:"Prices",subTitle:"Manage Application Products Prices",addBtnTitle:"Add Price",dialog:S,setDialog:E}),(0,j.jsxs)(a.Z,{className:"mainCard",children:[(0,j.jsx)(o.Z,{openFormDialog:S,setOpenFormDialog:E,heading:null!==R&&0!==Object.keys(b).length?"UPDATE PRICE":"ADD PRICE",color:"#999999",state:W,Id:R,setState:K,handleOnClose:H,handleOnSubmit:async e=>{e.preventDefault(),""===G?(0,h.Am)("Select product",{position:"top-right",type:"error"}):""===Q?(0,h.Am)("Enter cost price",{position:"top-right",type:"error"}):Q<0?(0,h.Am)("Cost Price can not be negative",{position:"top-right",type:"error"}):""===X?(0,h.Am)("Enter selling price",{position:"top-right",type:"error"}):X<0?(0,h.Am)("Selling Price can not be negative",{position:"top-right",type:"error"}):""===J?(0,h.Am)("Select date",{position:"top-right",type:"error"}):t((0,I.zB)(W))},inputs:f(R,b,i),icon:(0,j.jsx)(p.Z,{style:{marginRight:"10px"}})}),Object.entries(b).length>0&&(0,j.jsx)(v.Z,{openDetailsDialog:N,heading:"".concat(null===b||void 0===b||null===(e=b.product)||void 0===e?void 0:e.name,"'s Detail"),inputs:0!==Object.keys(b).length&&(e=>{let{product:t,...i}=e;return i})(b),icon:(0,j.jsx)(u.Z,{style:{marginRight:"10px"}}),handleOnCloseDetails:H}),(0,j.jsx)(s.Z,{openDeleteDialog:F,setOpenDeleteDialog:z,handleOnDelete:()=>{t((0,I.oh)(R)),B(null)},heading:"REVISE PRICE BY DELETE",color:"#ff0000",icon:(0,j.jsx)(c.Z,{style:{marginRight:"10px"}}),message:"Are sure you want to delete price entry it will revise prices?."}),(0,j.jsx)(g.Z,{submit:async e=>{e.preventDefault();const{startDate:i,endDate:a,searchInput:r}=T,{field:l,operator:n,sort:d}=U;let s={field:""===l?void 0:l,operator:n,sort:d,page:0,searchInput:r,startDate:""!==a&&""===i?a:i,endDate:""===a&&""!==i?i:a};"date"===l?""===i&&""===a?(0,h.Am)("Please Select Date",{position:"top-right",type:"error"}):(t((0,I.vD)(s)),q(!_),k(0)):""===l?(t((0,I.vD)(s)),q(!_),k(0)):""!==l&&""===r?(0,h.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==l&&""!==r&&""===n?(0,h.Am)("Please select condition",{position:"top-right",type:"error"}):(t((0,I.vD)(s)),q(!_),k(0))},filters:U,setFilter:L,state:T,setState:V,openFiltersPanel:_,setOpenFiltersPanel:q,loadDataFunc:()=>{t((0,I.vD)({page:0,sort:-1}))},searchFiltersForm:D,searchInputForm:x.CE}),(0,j.jsx)(n.Z,{columns:C(z,Z),rows:Y,currentPage:O,totalRecords:w,selectedRowId:R,setSelectedRowId:B,handleOnPageChange:e=>{k(e);const{startDate:i,endDate:a,searchInput:r}=T,{field:l,operator:n,sort:d}=U;let s={field:""===l?"":l,operator:n,sort:d,page:e,searchInput:r,startDate:""!==a&&""===i?a:i,endDate:""===a&&""!==i?i:a};"date"===l?""===i&&""===a?(0,h.Am)("Please Select Date",{position:"top-right",type:"error"}):t((0,I.vD)(s)):""===l?t((0,I.vD)(s)):""!==l&&""===r?(0,h.Am)("Please Enter to search..",{position:"top-right",type:"error"}):t((0,I.vD)(s))}})]})]})}},70591:(e,t,i)=>{i.d(t,{p:()=>n});var a=i(74569),r=i.n(a),l=i(37725);const n=async e=>{try{return await r().post("".concat(l.y,"/api/uploads"),e).then((e=>e.data))}catch(t){return t.response.data}}},5397:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(74223),r=i(80184);const l=(0,a.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},38820:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(74223),r=i(80184);const l=(0,a.Z)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},52524:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(74223),r=i(80184);const l=(0,a.Z)((0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info")}}]);
//# sourceMappingURL=941.ace49680.chunk.js.map