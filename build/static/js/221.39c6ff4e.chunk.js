"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[221],{58893:(e,a,t)=>{t.d(a,{N:()=>m});var i=t(52524),l=t(38820),n=t(5397),s=t(20068),r=t(13400),d=t(37725),o=t(80184);const m=(e,a,t)=>[{field:"name",headerName:"Name",width:230,renderCell:e=>(0,o.jsxs)("div",{className:"cellWithImg",children:[(0,o.jsx)("img",{src:e.row.supplier.pic?"".concat(d.y,"/public/suppliers/images/").concat(e.row.supplier.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.supplier.name]})},{field:"prevAmount",headerName:"Previous Amount",width:150,renderCell:e=>{var a;return(0,o.jsx)("div",{className:"cellAction",children:(null===(a=e.row.prevAmount)||void 0===a?void 0:a.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"amount",headerName:"Paid Amount",width:150,renderCell:e=>{var a;return(0,o.jsx)("div",{className:"cellAction",children:(null===(a=e.row.amount)||void 0===a?void 0:a.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"remaining",headerName:"Remaining Amount",width:150,renderCell:e=>{var a;return(0,o.jsx)("div",{className:"cellAction",children:(null===(a=e.row.remaining)||void 0===a?void 0:a.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Date",width:150},{field:"action",headerName:"Action",width:160,renderCell:d=>(0,o.jsxs)("div",{className:"cellAction",children:[(0,o.jsx)(s.Z,{title:"Supplier Payment Details",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>a(!0),children:(0,o.jsx)(i.Z,{style:{fontSize:"20px"}})})}),"open"===d.row.status&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{title:"Edit Supplier Payment",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>{t(!0)},children:(0,o.jsx)(l.Z,{style:{fontSize:"20px"}})})}),(0,o.jsx)(s.Z,{title:"Delete Supplier Payment",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,o.jsx)(n.Z,{style:{fontSize:"20px"}})})})]})]})}]},19396:(e,a,t)=>{t.d(a,{CF:()=>l,ru:()=>n});var i=t(37725);const l=(e,a,t)=>[{id:1,label:"Customer",type:"select",name:"customerId",disabled:Object.entries(a).length>0,options:t.length>0&&t.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(i.y,"/public/customers/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png",salary:e.balance.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:2,label:"Amount",tabIndex:1,type:"number",name:"payingAmount",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:null!==e&&0!==Object.keys(a).length?"Update Customer Payment":"ADD CUSTOMER Payemnt",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],n=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},96418:(e,a,t)=>{t.d(a,{Lg:()=>n,PV:()=>i,Vx:()=>l});const i=(e,a)=>[{id:1,label:"Name",type:"text",name:"name",tabIndex:0,grid:{xs:12,sm:6,md:6,lg:6}},{id:2,label:"Email",tabIndex:1,type:"email",name:"email",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Contact",tabIndex:2,type:"phone",name:"contact",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:"Balance",tabIndex:3,type:"number",name:"balance",grid:{xs:12,sm:6,md:6,lg:6}},{id:5,label:"Address",tabIndex:4,type:"text",name:"address",grid:{xs:12,sm:6,md:6,lg:6}},{id:6,label:"Status",type:"select",tabIndex:5,disable:!1,name:"status",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:6,lg:6},options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]},{id:7,label:null!==e&&0!==Object.keys(a).length?"Update Customer":"ADD CUSTOMER",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],l=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Email",value:"email"},{id:3,name:"Contact",value:"contact"},{id:4,name:"Status",value:"status"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],n=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",name:"searchInput",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},10195:(e,a,t)=>{t.d(a,{C:()=>l,M:()=>n});var i=t(37725);const l=(e,a,t)=>[{id:1,label:"Supplier",type:"select",name:"supplierId",disabled:Object.entries(a).length>0,options:t.length>0&&t.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(i.y,"/public/suppliers/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png",salary:e.balance.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:2,label:"Amount",tabIndex:1,type:"number",name:"amount",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:null!==e&&0!==Object.keys(a).length?"Update Supplier Payment":"ADD Supplier Payemnt",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],n=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},37170:(e,a,t)=>{t.r(a),t.d(a,{default:()=>O});var i=t(697),l=t(72791),n=t(28924),s=t(66351),r=t(59434),d=t(19570),o=t(98635),m=t(66807),c=t(46174),p=t(92167),u=t(5092),g=t(97246),y=t(75985),h=t(96418),x=t(26384),v=(t(23317),t(19396),t(24697)),b=(t(99784),t(10195),t(58893),t(11292)),f=t(5397),D=t(20068),S=t(13400),w=t(37725),A=t(80184);const j=(e,a,t)=>[{field:"name",headerName:"Name",width:300,renderCell:e=>(0,A.jsxs)("div",{className:"cellWithImg",children:[(0,A.jsx)("img",{src:e.row.employee.pic?"".concat(w.y,"/public/employees/images/").concat(e.row.employee.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.name]})},{field:"netSalary",headerName:"Net Salary",width:200,renderCell:e=>{var a;return(0,A.jsx)("div",{className:"cellAction",children:(null===(a=e.row.netSalary)||void 0===a?void 0:a.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Date",width:150},{field:"salaryOfMonth",headerName:"Month of",width:130},{field:"salaryOfYear",headerName:"Year",width:120},{field:"action",headerName:"Action",width:150,renderCell:a=>(0,A.jsx)("div",{className:"cellAction",children:(0,A.jsx)(D.Z,{title:"Delete Employee Salary",children:(0,A.jsx)(S.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,A.jsx)(f.Z,{style:{fontSize:"20px"}})})})})}],I=(e,a,t)=>[{id:1,label:"Employee",type:"select",name:"employeeId",options:t.length>0&&t.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(w.y,"/public/employees/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png",designation:e.designation,salary:e.salary}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:3,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:"Month of Salary",type:"month",name:"salaryOfMonth",grid:{xs:12,sm:6,md:6,lg:6}},{id:5,label:"Status",type:"select",tabIndex:5,disable:!1,name:"status",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:6,lg:6},options:[{id:1,name:"Pending",value:"pending"},{id:2,name:"Paid",value:"paid"}]},{id:6,label:null!==e&&0!==Object.keys(a).length?"Update Employee Salary":"ADD Employee Salary",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],C=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Month",value:"salaryOfMonth"},{id:3,name:"Year",value:"salaryOfYear"},{id:4,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}];t(18481);var E=t(97892),N=t.n(E),P=t(6001),Z=t(39086);const O=()=>{const e=(0,r.I0)(),{user:a}=(0,l.useContext)(Z.Z),t=(0,r.v9)((e=>e.completeData.employees)),f=(0,r.v9)((e=>e.salaries.data)),D=(0,r.v9)((e=>e.supplierpayments.current)),S=(0,r.v9)((e=>e.salaries.totalRecord)),w=(0,r.v9)((e=>e.supplierpayments.errors)),[E,O]=(0,l.useState)(!1),[M,z]=(0,l.useState)(!1),[F,B]=(0,l.useState)(!1),[R,Y]=(0,l.useState)(null),[U,L]=(0,l.useState)(0),[k,W]=(0,l.useState)({field:"",operator:"",sort:-1}),[_,X]=(0,l.useState)({searchInput:"",startDate:"",endDate:""}),[K,$]=(0,l.useState)({userId:a._id,employeeId:"",salaryOfMonth:N()().format("MMM"),salaryOfYear:N()().format("YYYY"),date:""}),[T,V]=(0,l.useState)(!1);(0,l.useEffect)((()=>{(void 0!==R&&!0===E||void 0!==R&&!0===M)&&e((0,v.UA)(R))}),[R]),(0,l.useEffect)((()=>{0!==Object.keys(D).length&&$({supplierId:D.supplierId,amount:D.amount,date:D.date})}),[D]),(0,l.useEffect)((()=>{const a={page:0,sort:k.sort};return e((0,P.XA)()),e((0,b.cX)(a)),()=>{e((0,b.f6)())}}),[]),(0,l.useEffect)((()=>{"date"===k.field?W({...k,operator:"inBetween"}):"inBetween"===k.operator&&W({...k,operator:"$regex"})}),[k.field]),(0,l.useEffect)((()=>{(null===w||void 0===w?void 0:w.length)>0?w.forEach((e=>{(0,y.Am)(e.msg,{position:"top-right",type:"error"})})):q()}),[w]);const q=()=>{O(!1),Y(null),$({userId:a._id,employeeId:"",salaryOfMonth:N()().format("MMM"),salaryOfYear:N()().format("YYYY"),date:""})};const H=f.map((e=>{return{...e,name:e.employee.name&&(a=e.employee.name,a.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")),remaining:e.employee.balance?e.employee.balance:0};var a})),{userId:G,employeeId:J,advanceDeducted:Q,salaryOfMonth:ee,date:ae}=K;return(0,A.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,A.jsx)(n.Z,{icon:(0,A.jsx)(c.Z,{style:{marginRight:"10px"}}),title:"Employee Salaries",subTitle:"Manage Application Employee Salary",addBtnTitle:"Add Salary",dialog:E,setDialog:O}),(0,A.jsxs)(i.Z,{className:"mainCard",children:[(0,A.jsx)(o.Z,{openFormDialog:E,setOpenFormDialog:O,heading:null!==R&&0!==Object.keys(D).length?"UPDATE EMPLOYEE SALARY":"ADD EMPLOYEE SALARY",color:"#999999",state:K,Id:R,setState:$,handleOnClose:q,handleOnSubmit:async a=>{if(a.preventDefault(),""===J)(0,y.Am)("Select employee first ",{position:"top-right",type:"error"});else if(""===Q)(0,y.Am)("Please enter advance deducted or Zero",{position:"top-right",type:"error"});else if(""===ee)(0,y.Am)("Please select salary of month",{position:"top-right",type:"error"});else if(""===ae)(0,y.Am)("Select date",{position:"top-right",type:"error"});else if(null!==R){const a={id:R[0],Data:K};e((0,b.dd)(a)),q()}else e((0,b.MF)(K)),q()},inputs:I(R,D,t),icon:(0,A.jsx)(p.Z,{style:{marginRight:"10px"}})}),0!==Object.keys(D).length&&(0,A.jsx)(x.Z,{openDetailsDialog:M,heading:"Kashif's Detail",inputs:D,icon:(0,A.jsx)(u.Z,{style:{marginRight:"10px"}})}),(0,A.jsx)(d.Z,{openDeleteDialog:F,setOpenDeleteDialog:B,handleOnDelete:()=>{e((0,b.Xh)(R)),Y(null)},heading:"DELETE EMPLOYEE SALARY",color:"#ff0000",icon:(0,A.jsx)(m.Z,{style:{marginRight:"10px"}}),message:"Are you sure you want to delete this salary."}),(0,A.jsx)(g.Z,{submit:async a=>{a.preventDefault();const{startDate:t,endDate:i,searchInput:l}=_,{field:n,operator:s,sort:r}=k;let d={field:""===n?void 0:n,operator:s,sort:r,page:0,searchInput:l,startDate:""!==i&&""===t?i:t,endDate:""===i&&""!==t?t:i};"date"===n?""===t&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):(e((0,b.cX)(d)),V(!T),L(0)):""===n?(e((0,b.cX)(d)),V(!T),L(0)):""!==n&&""===l?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==n&&""!==l&&""===s?(0,y.Am)("Please select condition",{position:"top-right",type:"error"}):(e((0,b.cX)(d)),V(!T),L(0))},filters:k,setFilter:W,state:_,setState:X,openFiltersPanel:T,setOpenFiltersPanel:V,loadDataFunc:()=>{e((0,b.cX)({page:0,sort:-1}))},searchFiltersForm:C,searchInputForm:h.Lg}),(0,A.jsx)(s.Z,{columns:j(B),rows:H,currentPage:U,totalRecords:S,selectedRowId:R,setSelectedRowId:Y,handleOnPageChange:a=>{L(a);const{startDate:t,endDate:i,searchInput:l}=_,{field:n,operator:s,sort:r}=k;let d={field:""===n?"":n,operator:s,sort:r,page:a,searchInput:l,startDate:""!==i&&""===t?i:t,endDate:""===i&&""!==t?t:i};"date"===n?""===t&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):e((0,b.cX)(d)):""===n?e((0,b.cX)(d)):""!==n&&""===l?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):e((0,b.cX)(d))}})]})]})}},5397:(e,a,t)=>{t.d(a,{Z:()=>n});var i=t(74223),l=t(80184);const n=(0,i.Z)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},38820:(e,a,t)=>{t.d(a,{Z:()=>n});var i=t(74223),l=t(80184);const n=(0,i.Z)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},52524:(e,a,t)=>{t.d(a,{Z:()=>n});var i=t(74223),l=t(80184);const n=(0,i.Z)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info")}}]);
//# sourceMappingURL=221.39c6ff4e.chunk.js.map