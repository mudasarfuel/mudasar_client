"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[133],{21701:(e,t,a)=>{a.d(t,{As:()=>n,cL:()=>d,eK:()=>m,hq:()=>r,kE:()=>i,nj:()=>o,v0:()=>l,xl:()=>s});const i=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],n=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],s=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],l=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],d=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],r=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],m=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},53905:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var i=a(697),n=a(72791),s=a(28924),l=a(66351),d=a(59434),r=(a(70591),a(19570)),o=a(98635),m=a(66807),p=a(74223),c=a(80184);const u=(0,p.Z)((0,c.jsx)("path",{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-8.9-5h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.41 4l-3.86 7H8.53L4.27 2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2z"}),"AddShoppingCartTwoTone");var g=a(92167),x=a(5092),h=a(97246),y=a(75985),v=a(26384),b=(a(92686),a(21701)),f=a(5397),D=a(13400);const w=(e,t,a)=>[{field:"name",headerName:"Expense Name",width:230},{field:"description",headerName:"Description",width:300},{field:"amount",headerName:"Amount",width:150,renderCell:e=>{var t;return(0,c.jsx)("div",{className:"cellAction",children:(null===(t=e.row.amount)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Date",width:150},{field:"action",headerName:"Action",width:130,renderCell:t=>(0,c.jsx)("div",{className:"cellAction",children:"open"===t.row.status&&(0,c.jsx)(D.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,c.jsx)(f.Z,{style:{fontSize:"20px"}})})})}];var E=a(97603);const S=(e,t)=>[{id:1,label:"Expense Name",type:"text",name:"name",grid:{xs:12,sm:6,md:6,lg:6}},{id:2,label:"Amount",type:"number",name:"amount",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Description",type:"text",name:"description",grid:{xs:12,sm:12,md:12,lg:12}},{id:5,label:"Date",type:"date",name:"date",grid:{xs:12,sm:12,md:12,lg:12}},{id:6,label:null!==e&&0!==Object.keys(t).length?"Update Expense":"Add Expense",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],A=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Description",value:"description"},{id:3,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}];var N=a(39086);const j=()=>{const e=(0,d.I0)(),{user:t}=(0,n.useContext)(N.Z),a=(0,d.v9)((e=>e.expenses.data)),p=(0,d.v9)((e=>e.expenses.current)),f=(0,d.v9)((e=>e.expenses.totalRecord)),D=(0,d.v9)((e=>e.expenses.errors)),[j,C]=(0,n.useState)(!1),[z,P]=(0,n.useState)(!1),[I,Z]=(0,n.useState)(!1),[T,B]=(0,n.useState)(null),[F,O]=(0,n.useState)(0),[k,W]=(0,n.useState)({field:"",operator:"",sort:-1}),[R,M]=(0,n.useState)({searchInput:"",startDate:"",endDate:""}),[U,_]=(0,n.useState)({userId:t._id,name:"",description:"",amount:"",date:""}),$=e=>Math.round(100*e)/100,[H,q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(void 0!==T&&!0===j||void 0!==T&&!0===z)&&e((0,E.dw)(T))}),[T]),(0,n.useEffect)((()=>{0!==Object.keys(p).length&&_({name:p.name,description:p.description,amount:p.amount,date:p.date})}),[p]),(0,n.useEffect)((()=>{const t={page:0,sort:k.sort};return e((0,E.T4)(t)),()=>{e((0,E.bv)())}}),[]),(0,n.useEffect)((()=>{"date"===k.field?W({...k,operator:"inBetween"}):"inBetween"===k.operator&&W({...k,operator:"$regex"})}),[k.field]),(0,n.useEffect)((()=>{(null===D||void 0===D?void 0:D.length)>0?D.forEach((e=>{(0,y.Am)(e.msg,{position:"top-right",type:"error"})})):G()}),[D]);const G=()=>{C(!1),B(null),_({userId:t._id,name:"",description:"",amount:"",date:""})};console.log(U);function L(e){return e.split(" ").map(((e,t)=>0===t?e.charAt(0).toUpperCase()+e.slice(1):e)).join(" ")}const V=a.map((e=>({...e,name:e.name&&L(e.name),description:e.description&&L(e.description)}))),{name:K,description:X,amount:J,date:Q}=U;return(0,c.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,c.jsx)(s.Z,{icon:(0,c.jsx)(u,{style:{marginRight:"10px"}}),title:"Expenses",subTitle:"Manage Expenses",addBtnTitle:"Add Expense",dialog:j,setDialog:C}),(0,c.jsxs)(i.Z,{className:"mainCard",children:[(0,c.jsx)(o.Z,{openFormDialog:j,setOpenFormDialog:C,heading:null!==T&&0!==Object.keys(p).length?"UPDATE EXPENSE":"ADD EXPENSE",color:"#999999",state:U,Id:T,setState:_,handleOnClose:G,handleOnSubmit:async t=>{if(t.preventDefault(),""===K)(0,y.Am)("Enter expense name",{position:"top-right",type:"error"});else if(""===X)(0,y.Am)("Enter description",{position:"top-right",type:"error"});else if(""===J)(0,y.Am)("Enter amount expend",{position:"top-right",type:"error"});else if(""===Q)(0,y.Am)("Select date please",{position:"top-right",type:"error"});else{let t={...U,amount:$(J)};if(null!==T){const a={id:T[0],Data:t};e((0,E.E)(a))}else{let t={...U,amount:$(J)};e((0,E.ai)(t))}}},inputs:S(T,p),icon:(0,c.jsx)(g.Z,{style:{marginRight:"10px"}})}),(0,c.jsx)(v.Z,{openDetailsDialog:z,heading:"Kashif's Detail",inputs:0!==Object.keys(p).length&&p,icon:(0,c.jsx)(x.Z,{style:{marginRight:"10px"}})}),(0,c.jsx)(r.Z,{openDeleteDialog:I,setOpenDeleteDialog:Z,handleOnDelete:()=>{e((0,E.vu)(T)),B(null)},heading:"DELETE EXPENSE",color:"#ff0000",icon:(0,c.jsx)(m.Z,{style:{marginRight:"10px"}}),message:"Are sure you want to delete Expense?."}),(0,c.jsx)(h.Z,{submit:async t=>{t.preventDefault();const{startDate:a,endDate:i,searchInput:n}=R,{field:s,operator:l,sort:d}=k;let r={field:""===s?void 0:s,operator:l,sort:d,page:0,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===s?""===a&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):(e((0,E.T4)(r)),q(!H),O(0)):""===s?(e((0,E.T4)(r)),q(!H),O(0)):""!==s&&""===n?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==s&&""!==n&&""===l?(0,y.Am)("Please select condition",{position:"top-right",type:"error"}):(e((0,E.T4)(r)),q(!H),O(0))},filters:k,setFilter:W,state:R,setState:M,openFiltersPanel:H,setOpenFiltersPanel:q,loadDataFunc:()=>{e((0,E.T4)({page:0,sort:-1}))},searchFiltersForm:A,searchInputForm:b.eK}),(0,c.jsx)(l.Z,{columns:w(Z),rows:V,currentPage:F,totalRecords:f,selectedRowId:T,setSelectedRowId:B,handleOnPageChange:t=>{O(t);const{startDate:a,endDate:i,searchInput:n}=R,{field:s,operator:l,sort:d}=k;let r={field:""===s?"":s,operator:l,sort:d,page:t,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===s?""===a&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):e((0,E.T4)(r)):""===s?e((0,E.T4)(r)):""!==s&&""===n?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):e((0,E.T4)(r))}})]})]})}},70591:(e,t,a)=>{a.d(t,{p:()=>l});var i=a(74569),n=a.n(i),s=a(37725);const l=async e=>{try{return await n().post("".concat(s.y,"/api/uploads"),e).then((e=>e.data))}catch(t){return t.response.data}}},5397:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(74223),n=a(80184);const s=(0,i.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")}}]);
//# sourceMappingURL=133.cd869ca6.chunk.js.map