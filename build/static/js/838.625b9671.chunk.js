"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[838],{6838:(t,i,e)=>{e.r(i),e.d(i,{default:()=>h});var l=e(697),n=e(72791),r=e(28924),o=e(93213),s=e(93973),d=e(75985),c=e(59434),a=e(27152),u=(e(74893),e(80184));const m=t=>[{id:1,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:4}},{id:2,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:4}},{id:3,label:"Filter",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}},{id:4,label:"Print",type:"button",btntype:"button",variant:"contained",btnFunc:t,color:"primary",grid:{xs:12,sm:2}}];function h(){var t,i,e,h,x,v,j,p,g,y,D,S,P,f,b,F,N,A,C,R,L,T,E,U,w,K,k,Z,G,_,q,M,I,O,Q,z,B,H,J,V,W,X,Y,$,tt,it,et,lt,nt,rt,ot,st,dt,ct,at,ut,mt,ht,xt,vt,jt,pt,gt,yt,Dt,St,Pt,ft;const bt=(0,c.I0)(),Ft=(0,c.v9)((t=>t.reports.data)),[Nt,At]=(0,n.useState)({startDate:"",endDate:""});const Ct=["petrol","diesel"],Rt=(null===(t=Ft[0])||void 0===t||null===(i=t.products)||void 0===i?void 0:i.reduce(((t,i)=>(t[i.productName]=t[i.productName]||[],t[i.productName].push(i),t)),{}))||{},Lt={},Tt={};(null===(e=Object.entries(Rt))||void 0===e?void 0:e.length)>0&&(null===(h=Object.entries(Rt))||void 0===h||h.forEach((t=>{let[i,e]=t;Ct.includes(i.toLowerCase())?Lt[i]=e:Tt[i]=e})));const Et=t=>{var i,e,l;let n=0,r=0,o=0,s=0;const d=null===(i=Object.entries(t))||void 0===i?void 0:i.flatMap((t=>{let[i,e]=t;return e.map(((t,l)=>{return n+=Ut(t.quantity),r+=Ut(t.amount),o+=Ut(t.testEntry),s+=Ut(Ut((Ut(t.sellingPrice)-Ut(t.costPrice))*Ut(t.quantity))),(0,u.jsxs)("tr",{children:[0===l&&(0,u.jsx)("td",{className:"product-cell",rowSpan:e.length,children:(d=i,console.log(d),d.split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "))}),(0,u.jsx)("td",{children:Ut(t.quantity)}),(0,u.jsx)("td",{children:Ut(t.sellingPrice)}),(0,u.jsx)("td",{children:Ut(t.amount)}),(0,u.jsx)("td",{children:Ut((t.sellingPrice-t.costPrice)*t.quantity)})]},i+l);var d}))}));return d.push((0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Totals"}),(0,u.jsx)("td",{children:Ut(n)}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:(null===(e=r)||void 0===e?void 0:e.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:(null===(l=s)||void 0===l?void 0:l.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]},t===Lt?"fuel-total":"other-total")),{rows:d,totalProfit:s,groupTotalAmt:r}},Ut=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(t))return 0;const e=Math.pow(10,i);return Math.round(t*e)/e};return(0,u.jsxs)(l.Z,{m:"0px 20px 20px 20px",children:[(0,u.jsx)(r.Z,{title:"Reports",subTitle:"Generate Statement or Report",icon:(0,u.jsx)(o.Z,{})}),(0,u.jsx)(l.Z,{sx:{paddingLeft:3,paddingRight:3},children:(0,u.jsx)(s.Z,{inputs:m((async()=>{const{startDate:t,endDate:i}=Nt;if(""===t&&""===i)(0,d.Am)("Please select date first",{position:"top-right",type:"error"});else if(""!==t&&""!==i){let e={startDate:t,endDate:i};bt((0,a.LA)(e))}else if(""!==t&&""===i){let i={startDate:t,endDate:t};bt((0,a.LA)(i))}else if(""===t&&""!==i){let t={startDate:i,endDate:i};bt((0,a.LA)(t))}})),state:Nt,setState:At,submit:t=>{t.preventDefault();const{startDate:i,endDate:e}=Nt;if(""===i&&""===e)(0,d.Am)("Please select date first",{position:"top-right",type:"error"});else if(""!==i&&""!==e){let t={startDate:i,endDate:e};bt((0,a._8)(t))}else if(""!==i&&""===e){let t={startDate:i,endDate:i};bt((0,a._8)(t))}else if(""===i&&""!==e){let t={startDate:e,endDate:e};bt((0,a._8)(t))}}})}),(0,u.jsx)("div",{className:"report-wrapper",children:(0,u.jsxs)("div",{className:"report-card",children:[(0,u.jsx)("h1",{className:"main-title",children:"Monthly Sales Report"}),(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("h2",{className:"section-title",children:"Product Sales"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"product-header",children:"Product Name"}),(0,u.jsx)("th",{children:"Quantity"}),(0,u.jsx)("th",{children:"Price"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{children:"Profit"})]})}),(0,u.jsxs)("tbody",{children:[Ft.length>0&&Et(Lt).rows,Ft.length>0&&Et(Tt).rows,(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:"3",children:"Gross Total"}),(0,u.jsxs)("td",{children:[" ",(null===(x=Et(Lt).groupTotalAmt+Et(Tt).groupTotalAmt)||void 0===x?void 0:x.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0]}),(0,u.jsxs)("td",{children:[" ",(null===(v=Et(Lt).totalProfit+Et(Tt).totalProfit)||void 0===v?void 0:v.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0]})]})]})]})]}),(0,u.jsxs)("div",{className:"section blue",children:[(0,u.jsx)("h2",{className:"section-title",children:"Debit - Credit"}),(0,u.jsxs)("table",{className:"styled-table full",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Customer Debit"}),(0,u.jsx)("td",{children:(null===(j=Ft[0])||void 0===j||null===(p=j.totalCustomerDebit)||void 0===p?void 0:p.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Customer Credit"}),(0,u.jsx)("td",{children:(null===(g=Ft[0])||void 0===g||null===(y=g.totalCustomerCredit)||void 0===y?void 0:y.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Staff Debit"}),(0,u.jsx)("td",{children:(null===(D=Ft[0])||void 0===D||null===(S=D.totalEmployeeAdvanceReturn)||void 0===S?void 0:S.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Staff Credit"}),(0,u.jsx)("td",{children:(null===(P=Ft[0])||void 0===P||null===(f=P.totalEmployeeAdvance)||void 0===f?void 0:f.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:"Total Customer Advance"}),(0,u.jsx)("td",{children:(null===(b=Ft[0])||void 0===b||null===(F=b.totalCustomerAdvance)||void 0===F?void 0:F.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Recovery"}),(0,u.jsx)("td",{children:(null===(N=(null===(A=Ft[0])||void 0===A?void 0:A.totalEmployeeAdvanceReturn)+(null===(C=Ft[0])||void 0===C?void 0:C.totalCustomerDebit))||void 0===N?void 0:N.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Credit"}),(0,u.jsx)("td",{children:(null===(R=(null===(L=Ft[0])||void 0===L?void 0:L.totalCustomerCredit)+(null===(T=Ft[0])||void 0===T?void 0:T.totalEmployeeAdvance)+(null===(E=Ft[0])||void 0===E?void 0:E.totalCustomerAdvance))||void 0===R?void 0:R.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section red",children:[(0,u.jsx)("h2",{className:"section-title",children:"Expense & Total Purchase"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Expense"}),(0,u.jsx)("td",{children:(null===(U=Ft[0])||void 0===U||null===(w=U.totalExpenses)||void 0===w?void 0:w.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Supplier Payments"}),(0,u.jsx)("td",{children:(null===(K=Ft[0])||void 0===K||null===(k=K.totalSupplierPaymentAmount)||void 0===k?void 0:k.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Total"}),(0,u.jsx)("td",{children:((null===(Z=Ft[0])||void 0===Z?void 0:Z.totalSupplierPaymentAmount)+(null===(G=Ft[0])||void 0===G?void 0:G.totalExpenses)).toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section green",children:[(0,u.jsx)("h2",{className:"section-title",children:"Stock"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Product"}),(0,u.jsx)("th",{children:"Current Stock"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[null===(_=Ft[0])||void 0===_?void 0:_.endDateProductStocks.map((t=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.productName}),(0,u.jsx)("td",{children:Ut(t.newStock)||0}),(0,u.jsx)("td",{children:Ut(t.amount)})]},t.productId))),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:2,children:"Total"}),(0,u.jsx)("td",{children:(null===(q=(()=>{var t;let i=0;return null===(t=Ft[0])||void 0===t||t.endDateProductStocks.forEach((t=>i+=t.amount)),Ut(i)})())||void 0===q?void 0:q.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section green",children:[(0,u.jsx)("h2",{className:"section-title",children:"Summary"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Quantity"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Gross Sale Profit"}),(0,u.jsx)("td",{children:Ut(Et(Lt).totalProfit+Et(Tt).totalProfit)||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Profit Price Change"}),(0,u.jsx)("td",{children:Ut(null===(M=Ft[0])||void 0===M?void 0:M.priceChangeProfit)||0})]}),null===(I=Ft[0])||void 0===I?void 0:I.gain.map((t=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.productName}),(0,u.jsx)("td",{children:Ut(t.totalGain)}),(0,u.jsx)("td",{children:Ut(t.totalAmount)})]},t.productId))),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Expense"}),(0,u.jsx)("td",{children:Ut(null===(O=Ft[0])||void 0===O?void 0:O.totalExpenses)||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:2,children:"Gross Total Profit"}),(0,u.jsx)("td",{children:(null===(Q=((null===(z=Et(Lt))||void 0===z?void 0:z.totalProfit)||0)+((null===(B=Et(Tt))||void 0===B?void 0:B.totalProfit)||0)+((null===(H=Ft[0])||void 0===H?void 0:H.priceChangeProfit)||0)+((null===(J=Ft[0])||void 0===J||null===(V=J.gain[0])||void 0===V?void 0:V.totalAmount)||0)+((null===(W=Ft[0])||void 0===W||null===(X=W.gain[1])||void 0===X?void 0:X.totalAmount)||0)-((null===(Y=Ft[0])||void 0===Y?void 0:Y.totalExpenses)||0))||void 0===Q?void 0:Q.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Zakat (2.5%)"}),(0,u.jsx)("td",{children:Ut((((null===($=Et(Lt))||void 0===$?void 0:$.totalProfit)||0)+((null===(tt=Et(Tt))||void 0===tt?void 0:tt.totalProfit)||0)+((null===(it=Ft[0])||void 0===it?void 0:it.priceChangeProfit)||0)+((null===(et=Ft[0])||void 0===et||null===(lt=et.gain[0])||void 0===lt?void 0:lt.totalAmount)||0)+((null===(nt=Ft[0])||void 0===nt||null===(rt=nt.gain[1])||void 0===rt?void 0:rt.totalAmount)||0)-((null===(ot=Ft[0])||void 0===ot?void 0:ot.totalExpenses)||0))/100*2.5)||0})]}),(0,u.jsxs)("tr",{className:"bold-row green-text",children:[(0,u.jsx)("td",{colSpan:2,children:"Net Profit"}),(0,u.jsx)("td",{children:(null===(st=((null===(dt=Et(Lt))||void 0===dt?void 0:dt.totalProfit)||0)+((null===(ct=Et(Tt))||void 0===ct?void 0:ct.totalProfit)||0)+((null===(at=Ft[0])||void 0===at?void 0:at.priceChangeProfit)||0)+(null===(ut=Ft[0])||void 0===ut||null===(mt=ut.gain[0])||void 0===mt?void 0:mt.totalAmount)+((null===(ht=Ft[0])||void 0===ht||null===(xt=ht.gain[1])||void 0===xt?void 0:xt.totalAmount)||0)-((null===(vt=Ft[0])||void 0===vt?void 0:vt.totalExpenses)||0)-(((null===(jt=Et(Lt))||void 0===jt?void 0:jt.totalProfit)||0)+((null===(pt=Et(Tt))||void 0===pt?void 0:pt.totalProfit)||0)+((null===(gt=Ft[0])||void 0===gt?void 0:gt.priceChangeProfit)||0)+((null===(yt=Ft[0])||void 0===yt||null===(Dt=yt.gain[0])||void 0===Dt?void 0:Dt.totalAmount)||0)+((null===(St=Ft[0])||void 0===St||null===(Pt=St.gain[1])||void 0===Pt?void 0:Pt.totalAmount)||0)-((null===(ft=Ft[0])||void 0===ft?void 0:ft.totalExpenses)||0))/100*2.5)||void 0===st?void 0:st.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]})]})})]})}}}]);
//# sourceMappingURL=838.625b9671.chunk.js.map