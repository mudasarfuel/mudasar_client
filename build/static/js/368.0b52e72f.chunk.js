"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[368],{32631:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});const s=a.p+"static/media/petrolCane.f614d26be51a9379c94c.webp",r=a.p+"static/media/DieselCane.7615a3f16853e9dc69d6.jpg";var c=a(40503),i=a(37725),n=a(80184);const l=e=>{let{type:t,data:a}=e;return(0,n.jsxs)("div",{className:"widget",style:{background:("petrol"===a.product.type||"diesel"===a.product.type)&&a.stock<2e3?"#ffb4b4":"#b1f3b1"},children:[(0,n.jsxs)("div",{className:"left",children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(c.ZP,{src:"mobile"!==a.product.type?"petrol"===a.product.type?s:r:""!==a.product.pic?"".concat(i.y,"/public/product/images/").concat(a.product.pic):"./img/avatarfile.png",round:!0,size:"30",style:{marginRight:"10px"}}),(0,n.jsx)("span",{className:"title",children:a.product.name})]}),(0,n.jsxs)("span",{className:"counter",children:["Qty.",(0,n.jsx)("span",{style:{color:a.stock>0?"green":"#ff0000"},children:a.stock})]}),(0,n.jsx)("span",{className:"link",children:a.link})]}),(0,n.jsxs)("div",{className:"right",children:[(0,n.jsxs)("div",{className:"percentage positive",children:["Rs. ",a.price.newSellingPrice]}),(0,n.jsxs)("div",{className:"percentage positive",style:{color:"crimson"},children:["Rs. ",a.price.costPrice]})]})]})},o=e=>{var t;let{data:a}=e;return(0,n.jsxs)("div",{className:"userWidget",style:{background:a.totalBalanceSum>0?"#b1f3b1":"#ffb4b4"},children:[(0,n.jsx)(c.ZP,{className:"avatar",round:!0,size:"60",name:"User"}),(0,n.jsxs)("div",{className:"statsRow",children:[(0,n.jsxs)("div",{className:"statBox",children:[(0,n.jsx)("div",{className:"label",children:"Active Customers"}),(0,n.jsx)("div",{className:"value",children:a.totalObjects})]}),(0,n.jsxs)("div",{className:"statBox",children:[(0,n.jsx)("div",{className:"label",children:"Credit Customers"}),(0,n.jsx)("div",{className:"value",children:a.balanceGreaterThanZero})]}),(0,n.jsxs)("div",{className:"statBox",children:[(0,n.jsx)("div",{className:"label",children:"Total Balance"}),(0,n.jsx)("div",{className:"value",children:null===(t=a.totalBalanceSum)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})})]})]})]})};var d=a(72791),u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},u(e,t)};var p=50,m=50;function h(e){var t=e.className,a=e.counterClockwise,s=e.dashRatio,r=e.pathRadius,c=e.strokeWidth,i=e.style;return(0,d.createElement)("path",{className:t,style:Object.assign({},i,g({pathRadius:r,dashRatio:s,counterClockwise:a})),d:x({pathRadius:r,counterClockwise:a}),strokeWidth:c,fillOpacity:0})}function x(e){var t=e.pathRadius,a=e.counterClockwise?1:0;return"\n      M "+p+","+m+"\n      m 0,-"+t+"\n      a "+t+","+t+" "+a+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+a+" 1 1 0,-"+2*t+"\n    "}function g(e){var t=e.counterClockwise,a=e.dashRatio,s=e.pathRadius,r=2*Math.PI*s,c=(1-a)*r;return{strokeDasharray:r+"px "+r+"px",strokeDashoffset:(t?-c:c)+"px"}}!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(function(e,t){function a(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)})(t,e),t.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},t.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},t.prototype.getPathRatio=function(){var e=this.props,t=e.value,a=e.minValue,s=e.maxValue;return(Math.min(Math.max(t,a),s)-a)/(s-a)},t.prototype.render=function(){var e=this.props,t=e.circleRatio,a=e.className,s=e.classes,r=e.counterClockwise,c=e.styles,i=e.strokeWidth,n=e.text,l=this.getPathRadius(),o=this.getPathRatio();return(0,d.createElement)("svg",{className:s.root+" "+a,style:c.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,d.createElement)("circle",{className:s.background,style:c.background,cx:p,cy:m,r:50}):null,(0,d.createElement)(h,{className:s.trail,counterClockwise:r,dashRatio:t,pathRadius:l,strokeWidth:i,style:c.trail}),(0,d.createElement)(h,{className:s.path,counterClockwise:r,dashRatio:o*t,pathRadius:l,strokeWidth:i,style:c.path}),n?(0,d.createElement)("text",{className:s.text,style:c.text,x:p,y:m},n):null)},t.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""}}(d.Component);a.p;var b=a(61889),v=a(39086),y=a(59434),f=a(6001);const j=()=>{const{logout:e,user:t}=(0,d.useContext)(v.Z),a=(0,y.v9)((e=>e.completeData.stocks)),s=(0,y.v9)((e=>e.completeData.customers)),r=(0,y.I0)();(0,d.useEffect)((()=>(r((0,f.WU)()),r((0,f.C6)()),()=>{r((0,f.gP)())})),[]);const c=function(e){const t={totalObjects:0,balanceGreaterThanZero:0,totalBalanceSum:0};for(const a of e){t.totalObjects++;const e=parseFloat(a.balance)||0;t.totalBalanceSum+=e,e>0&&t.balanceGreaterThanZero++}return t}(s);return console.log(a),(0,n.jsx)("div",{className:"dashboard",children:(0,n.jsxs)("div",{className:"dashboardContainer",children:[(0,n.jsxs)("div",{className:"widgets",style:{display:"flex",flexDirection:"column"},children:[(0,n.jsx)(b.ZP,{container:!0,spacing:2,children:(0,n.jsx)(b.ZP,{item:!0,lg:3,md:3,sm:6,xs:12,children:(0,n.jsx)(o,{data:c})})}),(0,n.jsx)("hr",{}),(0,n.jsx)(b.ZP,{container:!0,spacing:2,children:a.map((e=>("Petrol"===e.product.name||"Diesel"===e.product.name)&&(0,n.jsx)(b.ZP,{item:!0,xs:12,sm:6,md:6,lg:3,children:(0,n.jsx)(l,{type:"users",data:e})},e._id)))})]}),(0,n.jsx)("div",{className:"charts",children:(0,n.jsx)(b.ZP,{container:!0,spacing:2,children:a.map((e=>"Petrol"!==e.product.name&&"Diesel"!==e.product.name&&(0,n.jsx)(b.ZP,{item:!0,xs:12,sm:6,md:6,lg:3,children:(0,n.jsx)(l,{type:"users",data:e})},e._id)))})})]})})}}}]);
//# sourceMappingURL=368.0b52e72f.chunk.js.map