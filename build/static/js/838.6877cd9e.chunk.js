"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[838],{6838:(t,i,e)=>{e.r(i),e.d(i,{default:()=>h});var l=e(697),n=e(72791),r=e(28924),o=e(93213),s=e(93973),d=e(75985),c=e(59434),a=e(27152),u=(e(74893),e(80184));const m=t=>[{id:1,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:4}},{id:2,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:4}},{id:3,label:"Filter",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}},{id:4,label:"Print",type:"button",btntype:"button",variant:"contained",btnFunc:t,color:"primary",grid:{xs:12,sm:2}}];function h(){var t,i,e,h,x,v,j,p,y,g,P,D,f,S,b,F,N,C,A,R,L,T,E,U,w,K,k,Z,G,_,q,M,I,O,Q,z,B,H,J,V,W,X,Y,$,tt,it,et,lt,nt,rt,ot,st,dt,ct,at,ut,mt,ht,xt,vt,jt,pt,yt,gt,Pt,Dt;const ft=(0,c.I0)(),St=(0,c.v9)((t=>t.reports.data)),[bt,Ft]=(0,n.useState)({startDate:"",endDate:""});const Nt=["petrol","diesel"],Ct=(null===(t=St[0])||void 0===t||null===(i=t.products)||void 0===i?void 0:i.reduce(((t,i)=>(t[i.productName]=t[i.productName]||[],t[i.productName].push(i),t)),{}))||{},At={},Rt={};(null===(e=Object.entries(Ct))||void 0===e?void 0:e.length)>0&&(null===(h=Object.entries(Ct))||void 0===h||h.forEach((t=>{let[i,e]=t;Nt.includes(i.toLowerCase())?At[i]=e:Rt[i]=e})));const Lt=t=>{var i,e,l;let n=0,r=0,o=0,s=0;const d=null===(i=Object.entries(t))||void 0===i?void 0:i.flatMap((t=>{let[i,e]=t;return e.map(((t,l)=>{return n+=Tt(t.quantity),r+=Tt(t.amount),o+=Tt(t.testEntry),s+=Tt(Tt((Tt(t.sellingPrice)-Tt(t.costPrice))*Tt(t.quantity))),(0,u.jsxs)("tr",{children:[0===l&&(0,u.jsx)("td",{className:"product-cell",rowSpan:e.length,children:(d=i,console.log(d),d.split(" ").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join(" "))}),(0,u.jsx)("td",{children:Tt(t.quantity)}),(0,u.jsx)("td",{children:Tt(t.sellingPrice)}),(0,u.jsx)("td",{children:Tt(t.amount)}),(0,u.jsx)("td",{children:Tt((t.sellingPrice-t.costPrice)*t.quantity)})]},i+l);var d}))}));return d.push((0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Totals"}),(0,u.jsx)("td",{children:Tt(n)}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:(null===(e=r)||void 0===e?void 0:e.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:(null===(l=s)||void 0===l?void 0:l.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]},t===At?"fuel-total":"other-total")),{rows:d,totalProfit:s,groupTotalAmt:r}},Tt=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(t))return 0;const e=Math.pow(10,i);return Math.round(t*e)/e};return(0,u.jsxs)(l.Z,{m:"0px 20px 20px 20px",children:[(0,u.jsx)(r.Z,{title:"Reports",subTitle:"Generate Statement or Report",icon:(0,u.jsx)(o.Z,{})}),(0,u.jsx)(l.Z,{sx:{paddingLeft:3,paddingRight:3},children:(0,u.jsx)(s.Z,{inputs:m((async()=>{const{startDate:t,endDate:i}=bt;if(""===t&&""===i)(0,d.Am)("Please select date first",{position:"top-right",type:"error"});else if(""!==t&&""!==i){let e={startDate:t,endDate:i};ft((0,a.LA)(e))}else if(""!==t&&""===i){let i={startDate:t,endDate:t};ft((0,a.LA)(i))}else if(""===t&&""!==i){let t={startDate:i,endDate:i};ft((0,a.LA)(t))}})),state:bt,setState:Ft,submit:t=>{t.preventDefault();const{startDate:i,endDate:e}=bt;if(""===i&&""===e)(0,d.Am)("Please select date first",{position:"top-right",type:"error"});else if(""!==i&&""!==e){let t={startDate:i,endDate:e};ft((0,a._8)(t))}else if(""!==i&&""===e){let t={startDate:i,endDate:i};ft((0,a._8)(t))}else if(""===i&&""!==e){let t={startDate:e,endDate:e};ft((0,a._8)(t))}}})}),(0,u.jsx)("div",{className:"report-wrapper",children:(0,u.jsxs)("div",{className:"report-card",children:[(0,u.jsx)("h1",{className:"main-title",children:"Monthly Sales Report"}),(0,u.jsxs)("div",{className:"section",children:[(0,u.jsx)("h2",{className:"section-title",children:"Product Sales"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"product-header",children:"Product Name"}),(0,u.jsx)("th",{children:"Quantity"}),(0,u.jsx)("th",{children:"Price"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{children:"Profit"})]})}),(0,u.jsxs)("tbody",{children:[St.length>0&&Lt(At).rows,St.length>0&&Lt(Rt).rows,(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:"3",children:"Gross Total"}),(0,u.jsxs)("td",{children:[" ",(null===(x=Lt(At).groupTotalAmt+Lt(Rt).groupTotalAmt)||void 0===x?void 0:x.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0]}),(0,u.jsxs)("td",{children:[" ",(null===(v=Lt(At).totalProfit+Lt(Rt).totalProfit)||void 0===v?void 0:v.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0]})]})]})]})]}),(0,u.jsxs)("div",{className:"section blue",children:[(0,u.jsx)("h2",{className:"section-title",children:"Debit - Credit"}),(0,u.jsxs)("table",{className:"styled-table full",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"}),(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Customer Debit"}),(0,u.jsx)("td",{children:(null===(j=St[0])||void 0===j||null===(p=j.totalCustomerDebit)||void 0===p?void 0:p.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Customer Credit"}),(0,u.jsx)("td",{children:(null===(y=St[0])||void 0===y||null===(g=y.totalCustomerCredit)||void 0===g?void 0:g.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Staff Debit"}),(0,u.jsx)("td",{children:(null===(P=St[0])||void 0===P||null===(D=P.totalEmployeeAdvanceReturn)||void 0===D?void 0:D.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Staff Credit"}),(0,u.jsx)("td",{children:(null===(f=St[0])||void 0===f||null===(S=f.totalEmployeeAdvance)||void 0===S?void 0:S.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{}),(0,u.jsx)("td",{}),(0,u.jsx)("td",{children:"Total Customer Advance"}),(0,u.jsx)("td",{children:(null===(b=St[0])||void 0===b||null===(F=b.totalCustomerAdvance)||void 0===F?void 0:F.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Recovery"}),(0,u.jsx)("td",{children:(null===(N=(null===(C=St[0])||void 0===C?void 0:C.totalEmployeeAdvanceReturn)+(null===(A=St[0])||void 0===A?void 0:A.totalCustomerDebit))||void 0===N?void 0:N.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0}),(0,u.jsx)("td",{children:"Total Credit"}),(0,u.jsx)("td",{children:(null===(R=(null===(L=St[0])||void 0===L?void 0:L.totalCustomerCredit)+(null===(T=St[0])||void 0===T?void 0:T.totalEmployeeAdvance)+(null===(E=St[0])||void 0===E?void 0:E.totalCustomerAdvance))||void 0===R?void 0:R.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section red",children:[(0,u.jsx)("h2",{className:"section-title",children:"Expense & Total Purchase"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Total Expense"}),(0,u.jsx)("td",{children:(null===(U=St[0])||void 0===U||null===(w=U.totalExpenses)||void 0===w?void 0:w.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:"Supplier Payments"}),(0,u.jsx)("td",{children:(null===(K=St[0])||void 0===K||null===(k=K.totalSupplierPaymentAmount)||void 0===k?void 0:k.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{children:"Total"}),(0,u.jsx)("td",{children:((null===(Z=St[0])||void 0===Z?void 0:Z.totalSupplierPaymentAmount)+(null===(G=St[0])||void 0===G?void 0:G.totalExpenses)).toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section green",children:[(0,u.jsx)("h2",{className:"section-title",children:"Stock"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Product"}),(0,u.jsx)("th",{children:"Current Stock"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[null===(_=St[0])||void 0===_?void 0:_.endDateProductStocks.map((t=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.productName}),(0,u.jsx)("td",{children:Tt(t.newStock)||0}),(0,u.jsx)("td",{children:Tt(t.amount)})]},t.productId))),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:2,children:"Total"}),(0,u.jsx)("td",{children:(null===(q=(()=>{var t;let i=0;return null===(t=St[0])||void 0===t||t.endDateProductStocks.forEach((t=>i+=t.amount)),Tt(i)})())||void 0===q?void 0:q.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]}),(0,u.jsxs)("div",{className:"section green",children:[(0,u.jsx)("h2",{className:"section-title",children:"Summary"}),(0,u.jsxs)("table",{className:"styled-table",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Title"}),(0,u.jsx)("th",{children:"Quantity"}),(0,u.jsx)("th",{children:"Amount"})]})}),(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Gross Sale Profit"}),(0,u.jsx)("td",{children:Tt(Lt(At).totalProfit+Lt(Rt).totalProfit)||0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Profit Price Change"}),(0,u.jsx)("td",{children:Tt(null===(M=St[0])||void 0===M?void 0:M.priceChangeProfit)||0})]}),null===(I=St[0])||void 0===I?void 0:I.gain.map((t=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:t.productName}),(0,u.jsx)("td",{children:Tt(t.totalGain)}),(0,u.jsx)("td",{children:Tt(t.totalAmount)})]},t.productId))),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Expense"}),(0,u.jsx)("td",{children:Tt(null===(O=St[0])||void 0===O?void 0:O.totalExpenses)||0})]}),(0,u.jsxs)("tr",{className:"bold-row",children:[(0,u.jsx)("td",{colSpan:2,children:"Gross Total Profit"}),(0,u.jsx)("td",{children:((null===(Q=Lt(At))||void 0===Q?void 0:Q.totalProfit)||0)+((null===(z=Lt(Rt))||void 0===z?void 0:z.totalProfit)||0)+((null===(B=St[0])||void 0===B?void 0:B.priceChangeProfit)||0)>0?null===(H=((null===(J=Lt(At))||void 0===J?void 0:J.totalProfit)||0)+((null===(V=Lt(Rt))||void 0===V?void 0:V.totalProfit)||0)+((null===(W=St[0])||void 0===W?void 0:W.priceChangeProfit)||0))||void 0===H?void 0:H.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}):0})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{colSpan:2,children:"Zakat (2.5%)"}),(0,u.jsx)("td",{children:Tt(((null===(X=Lt(At))||void 0===X?void 0:X.totalProfit)||0)+((null===(Y=Lt(Rt))||void 0===Y?void 0:Y.totalProfit)||0)+((null===($=St[0])||void 0===$?void 0:$.priceChangeProfit)||0)-((null===(tt=St[0])||void 0===tt?void 0:tt.totalExpenses)||0)>0&&(((null===(it=Lt(At))||void 0===it?void 0:it.totalProfit)||0)+((null===(et=Lt(Rt))||void 0===et?void 0:et.totalProfit)||0)+((null===(lt=St[0])||void 0===lt?void 0:lt.priceChangeProfit)||0)-((null===(nt=St[0])||void 0===nt?void 0:nt.totalExpenses)||0))/100*2.5)||0})]}),(0,u.jsxs)("tr",{className:"bold-row ".concat(((null===(rt=Lt(At))||void 0===rt?void 0:rt.totalProfit)||0)+((null===(ot=Lt(Rt))||void 0===ot?void 0:ot.totalProfit)||0)+((null===(st=St[0])||void 0===st?void 0:st.priceChangeProfit)||0)-((null===(dt=St[0])||void 0===dt?void 0:dt.totalExpenses)||0)>0?"green-text":"red-text"," "),children:[(0,u.jsx)("td",{colSpan:2,children:"Net Profit"}),(0,u.jsx)("td",{children:(null===(ct=((null===(at=Lt(At))||void 0===at?void 0:at.totalProfit)||0)+((null===(ut=Lt(Rt))||void 0===ut?void 0:ut.totalProfit)||0)+((null===(mt=St[0])||void 0===mt?void 0:mt.priceChangeProfit)||0)-((null===(ht=St[0])||void 0===ht?void 0:ht.totalExpenses)||0)-(((null===(xt=Lt(At))||void 0===xt?void 0:xt.totalProfit)||0)+((null===(vt=Lt(Rt))||void 0===vt?void 0:vt.totalProfit)||0)+((null===(jt=St[0])||void 0===jt?void 0:jt.priceChangeProfit)||0)-((null===(pt=St[0])||void 0===pt?void 0:pt.totalExpenses)||0)>0&&(((null===(yt=Lt(At))||void 0===yt?void 0:yt.totalProfit)||0)+((null===(gt=Lt(Rt))||void 0===gt?void 0:gt.totalProfit)||0)+((null===(Pt=St[0])||void 0===Pt?void 0:Pt.priceChangeProfit)||0)-((null===(Dt=St[0])||void 0===Dt?void 0:Dt.totalExpenses)||0))/100*2.5||0))||void 0===ct?void 0:ct.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})]})]})]})]})]})})]})}}}]);
//# sourceMappingURL=838.6877cd9e.chunk.js.map