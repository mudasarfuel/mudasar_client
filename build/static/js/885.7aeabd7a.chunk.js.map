{"version":3,"file":"static/js/885.7aeabd7a.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/PendingActions.js","../node_modules/@mui/icons-material/esm/NoEncryption.js","../node_modules/@mui/icons-material/esm/Print.js","Components/datatable/salesClosingsTableSources.js","Pages/DataEntry/TotalSaleClosings.js","../node_modules/@mui/icons-material/Lock.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85-.7.71zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11c-.59-.57-1.07-1.25-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2zm-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\"\n}), 'PendingActions');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M21 21.78 4.22 5 3 6.22l2.04 2.04C4.42 8.6 4 9.25 4 10v10c0 1.1.9 2 2 2h12c.23 0 .45-.05.66-.12L19.78 23 21 21.78zM8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H9.66L20 18.34V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5-2.56 0-4.64 1.93-4.94 4.4L8.9 7.24V6z\"\n}), 'NoEncryption');","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z\"\n}), 'Print');","import { Delete, Edit, Info, NoEncryption, Print } from \"@mui/icons-material\";\r\nimport { Chip, IconButton, Tooltip } from \"@mui/material\";\r\nimport { DOMAIN } from \"../../backend/API\";\r\nimport LockIcon from \"@mui/icons-material/Lock\";\r\n//Export sales Columns\r\nexport const salesClosingsColumns = (\r\n  setOpenDeleteDialog,\r\n  setDetailsDialog,\r\n  handlePrint,\r\n  user\r\n) => [\r\n  // { field: \"id\", headerName: \"ID\", width: 70 },\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Cashier Name\",\r\n    width: 250,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellWithImg\">\r\n          <img\r\n            src={\r\n              params.row.cashier?.pic\r\n                ? `${DOMAIN}/public/users/images/${params.row.cashier.pic}`\r\n                : \"./img/avatarfile.png\"\r\n            }\r\n            alt=\"\"\r\n            className=\"cellImg\"\r\n          />\r\n          {params.row.cashier.name.length > 11\r\n            ? params.row.cashier.name.substring(0, 11) + `....`\r\n            : params.row.cashier.name}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n  {\r\n    field: \"date\",\r\n    headerName: \"Date\",\r\n    width: 250,\r\n  },\r\n  {\r\n    field: \"status\",\r\n    headerName: \"Status\",\r\n    width: 250,\r\n    renderCell: (params) => {\r\n      return (\r\n\r\n         <div style={{ background: params.row.status === \"open\" ? \"#02bf2e\" : \"#999\", color: \"white\", width: 75, display: \"flex\", justifyContent:\"center\", alignItems: \"center\", borderRadius: 4 }}>\r\n       {params.row.status === \"open\" ? <NoEncryption style={{ height: 15, width: 15, marginRight:5 }} /> : <LockIcon style={{ height: 15, width: 15, marginRight: 5 }} />} {params.row.status}\r\n      </div>\r\n       \r\n      );\r\n    },\r\n  },\r\n\r\n  {\r\n    field: \"action\",\r\n    headerName: \"Action\",\r\n    width: 200,\r\n    renderCell: (params) => {\r\n      return (\r\n        <div className=\"cellAction\">\r\n          <Tooltip title=\"Print Report\">\r\n            <IconButton\r\n              className=\"viewButton\"\r\n              onClick={() => handlePrint(params.row._id)}\r\n            >\r\n              <Print style={{ fontSize: \"20px\" }} />\r\n            </IconButton>\r\n          </Tooltip>\r\n          {/* <IconButton className=\"viewButton\" onClick={()=>setDetailsDialog(true)}>\r\n            <Info style={{ fontSize: \"20px\" }} />\r\n          </IconButton> */}\r\n          {params.row.status === \"open\" && user.access === \"web_admin\" && (\r\n            <Tooltip title=\"Delete Closing\">\r\n              <IconButton\r\n                className=\"viewButton\"\r\n                onClick={() => setOpenDeleteDialog(true)}\r\n              >\r\n                <Delete style={{ fontSize: \"20px\" }} />\r\n              </IconButton>\r\n            </Tooltip>\r\n          )}\r\n        </div>\r\n      );\r\n    },\r\n  },\r\n];\r\n","import { Box } from \"@mui/material\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport Header from \"../../Components/Header/Header\";\r\nimport DataTable from \"../../Components/datatable/DataTable\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Dialogue from \"../../Components/dialogue/Dialogue\";\r\nimport DangerousIcon from \"@mui/icons-material/Dangerous\";\r\nimport { Assessment, PendingActions } from \"@mui/icons-material\";\r\n// import \"./sales.scss\";\r\nimport Search from \"../../Components/search/Search\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getMachines } from \"../../redux/machineSlice/machineSlice\";\r\nimport { searchInput } from \"../../Components/sources/formSources\";\r\nimport { salesColumns } from \"../../Components/datatable/salesTableSources\";\r\nimport {\r\n  clearSales,\r\n  deleteSale,\r\n  getSales,\r\n  getSingleSale,\r\n} from \"../../redux/saleSlice/saleSlice\";\r\nimport SaleDetails from \"../Customer/SaleDetails\";\r\nimport { searchSalesFilters } from \"../../Components/sources/salesFormSources\";\r\nimport { salesClosingsColumns } from \"../../Components/datatable/salesClosingsTableSources\";\r\nimport {\r\n  clearClosings,\r\n  deleteClosing,\r\n  getPrintClosingReport,\r\n  getSaleClosings,\r\n} from \"../../redux/closingsSlice/closingsSlice\";\r\nimport AuthContext from \"../../context/auth/AuthContext\";\r\n\r\nconst TotalSaleClosings = () => {\r\n  //Initializing dispatch function to call redux functions\r\n  const dispatch = useDispatch();\r\n  //Call Auth Context & Extract Logout\r\n  const { user } = useContext(AuthContext);\r\n  //Initializing useSelector to get data from redux store\r\n  const closings = useSelector((state) => state.closings.data);\r\n  //Initializing the current machine\r\n  const currentData = useSelector((state) => state.sales.current);\r\n  //Initiaizing useSelector to get total records\r\n  const totalRecords = useSelector((state) => state.closings.totalRecord);\r\n  //Initializing UseSelector to get errors\r\n  const submitErrors = useSelector((state) => state.sales.errors);\r\n  //Use State for Handle Open and close of form dialog\r\n  const [openFormDialog, setOpenFormDialog] = useState(false);\r\n  //Use State for handle Open and close of Details Dialog\r\n  const [openDetailsDialog, setDetailsDialog] = useState(false);\r\n  //Use State for Handle Open and close of dialog box\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  //Use State for selected row item id\r\n  const [selectedRowId, setSelectedRowId] = useState(null);\r\n  //Use State for manage pages\r\n  const [currentPage, setCurrentPage] = useState(0);\r\n  //Setup use state for search filters\r\n  const [filters, setFilter] = useState({\r\n    field: \"\",\r\n    operator: \"\",\r\n    sort: -1,\r\n  });\r\n  //Use State for search inputs\r\n  const [search, setSearch] = useState({\r\n    searchInput: \"\",\r\n    startDate: \"\",\r\n    endDate: \"\",\r\n  });\r\n  //Setup state for values\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    type: \"\",\r\n    initialReading: \"\",\r\n    currentReading: \"\",\r\n    status: \"\",\r\n  });\r\n\r\n  //Use State for manage filters panel\r\n  const [openFiltersPanel, setOpenFiltersPanel] = useState(false);\r\n  //Use Effect to get Single Customer API Hit\r\n  useEffect(() => {\r\n    if (\r\n      (selectedRowId !== undefined && openFormDialog === true) ||\r\n      (selectedRowId !== undefined && openDetailsDialog === true)\r\n    ) {\r\n      //Dispatch current supplier\r\n      dispatch(getSingleSale(selectedRowId[0]));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedRowId]);\r\n\r\n  console.log(\"Checking the search State \", search);\r\n  //Load Data into state for update Use Effect\r\n  useEffect(() => {\r\n    if (Object.keys(currentData).length !== 0) {\r\n      // Set the state when currentCustomer is updated\r\n      setState({\r\n        name: currentData.name,\r\n        type: currentData.type,\r\n        initialReading: currentData.initialReading,\r\n        currentReading: currentData.currentReading,\r\n        status: currentData.status,\r\n      });\r\n    }\r\n  }, [currentData]);\r\n\r\n  //useEffect to dispatch all machines\r\n  useEffect(() => {\r\n    const initialData = { page: 0, sort: filters.sort };\r\n    //Call getMachines using dispatch\r\n    // dispatch(getMachines(initialData));\r\n    dispatch(getSaleClosings(initialData));\r\n\r\n    //Call clear machines to clear machines from state on unmount\r\n    return () => {\r\n      dispatch(clearClosings());\r\n    };\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  //useEffect to handle the dates filter\r\n  useEffect(() => {\r\n    if (filters.field === \"date\") {\r\n      setFilter({ ...filters, operator: \"inBetween\" });\r\n    } else {\r\n      if (filters.operator === \"inBetween\") {\r\n        setFilter({ ...filters, operator: \"$regex\" });\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [filters.field]);\r\n\r\n  //useEffect to Iterate submit Errors\r\n  useEffect(() => {\r\n    if (submitErrors?.length > 0) {\r\n      //iterate submit errors\r\n      submitErrors.forEach((item) => {\r\n        toast(item.msg, { position: \"top-right\", type: \"error\" });\r\n      });\r\n    }\r\n    // else {\r\n    //   // handleOnFormDialogClose();\r\n    // }\r\n  }, [submitErrors]);\r\n\r\n  //Handle Delete Sale func\r\n  const handleOnDelete = () => {\r\n    //Calling delete function\r\n    dispatch(deleteClosing(selectedRowId));\r\n    //after delete clear row id\r\n    setSelectedRowId(null);\r\n  };\r\n\r\n  //Handle Print Sale func\r\n  const handlePrint = (id) => {\r\n    dispatch(getPrintClosingReport(id));\r\n    console.log(\"Check print id => \", id);\r\n  };\r\n  //Load The Data\r\n  const loadData = () => {\r\n    const initialData = { page: 0, sort: -1 };\r\n    //Call getMachines using dispatch\r\n    dispatch(getSales(initialData));\r\n  };\r\n  //Handle On submit\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? undefined : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: 0,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    } else if (field === \"\") {\r\n      //Calling dispatch function to hit API Call\r\n      dispatch(getSales(newState));\r\n      //After search results close the filters panel\r\n      setOpenFiltersPanel(!openFiltersPanel);\r\n      //Set Page to Zero\r\n      setCurrentPage(0);\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else if (field !== \"\" && searchInput !== \"\" && operator === \"\") {\r\n        toast(\"Please select condition\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n        //After search results close the filters panel\r\n        setOpenFiltersPanel(!openFiltersPanel);\r\n        //Set Page to Zero\r\n        setCurrentPage(0);\r\n      }\r\n    }\r\n  };\r\n\r\n  //Handle on Page Change\r\n  const handleOnPageChange = (e) => {\r\n    //Setting pagination\r\n    setCurrentPage(e);\r\n    //Destructuring values from state\r\n    const { startDate, endDate, searchInput } = search;\r\n    //Destructuring values from filters\r\n    const { field, operator, sort } = filters;\r\n    //Organizing data from filters and search Input\r\n    let newState = {\r\n      field: field === \"\" ? \"\" : field,\r\n      operator: operator,\r\n      sort: sort,\r\n      page: e,\r\n      searchInput: searchInput,\r\n      startDate: endDate !== \"\" && startDate === \"\" ? endDate : startDate,\r\n      endDate: endDate === \"\" && startDate !== \"\" ? startDate : endDate,\r\n    };\r\n\r\n    if (field === \"date\") {\r\n      if (startDate === \"\" && endDate === \"\") {\r\n        toast(\"Please Select Date\", { position: \"top-right\", type: \"error\" });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    } else if (field === \"\") {\r\n      dispatch(getSales(newState));\r\n    } else {\r\n      if (field !== \"\" && searchInput === \"\") {\r\n        toast(\"Please Enter to search..\", {\r\n          position: \"top-right\",\r\n          type: \"error\",\r\n        });\r\n      } else {\r\n        //Calling dispatch function to hit API Call\r\n        dispatch(getSales(newState));\r\n      }\r\n    }\r\n  };\r\n  // Function for Capitalizing the data\r\n  function capitalizeEachWord(sentence) {\r\n    return sentence\r\n      .split(\" \")\r\n      .map((word) => {\r\n        return word.charAt(0).toUpperCase() + word.slice(1);\r\n      })\r\n      .join(\" \");\r\n  }\r\n\r\n  function calculateTotalAndDiscount(items) {\r\n    let totalAmount = 0;\r\n    let totalDiscount = 0;\r\n\r\n    items?.forEach((item) => {\r\n      totalAmount += item.quantity * item.price.newSellingPrice;\r\n      totalDiscount +=\r\n        (item.price.newSellingPrice / 100) * item.discount * item.quantity;\r\n    });\r\n\r\n    return { totalAmount, totalDiscount };\r\n  }\r\n  //Iterate and capitalizing data of each row\r\n  const capitalizedRows =\r\n    closings.length > 0\r\n      ? closings.map((row) => ({\r\n          ...row,\r\n          totalAmount:\r\n            row.items && calculateTotalAndDiscount(row.items).totalAmount,\r\n          totalDiscount:\r\n            row.items && calculateTotalAndDiscount(row.items).totalDiscount,\r\n          product: row.items,\r\n        }))\r\n      : [];\r\n\r\n  const handleOnCloseDetails = () => {\r\n    setDetailsDialog(false);\r\n  };\r\n\r\n  return (\r\n    <Box m=\"0px 20px 15px 20px\">\r\n      {/* Header for Closings Page  */}\r\n      <Header\r\n        icon={<PendingActions style={{ marginRight: \"10px\" }} />}\r\n        title=\"Shift Closings\"\r\n        subTitle=\"Manage Application Sale Closings\"\r\n      />\r\n      {/* Main Card for setup shift closing Table */}\r\n      <Box className=\"mainCard\">\r\n        {/* Add OR Update Shift Dialog Box  */}\r\n\r\n        {/* Employee Details Dialog box  */}\r\n        <SaleDetails\r\n          openDetailsDialog={openDetailsDialog}\r\n          heading={\r\n            Object.keys(currentData).length !== 0\r\n              ? `Sales Detail of ${currentData.customer.name}`\r\n              : \"Sale Details\"\r\n          }\r\n          inputs={Object.keys(currentData).length !== 0 && currentData}\r\n          icon={<Assessment style={{ marginRight: \"10px\" }} />}\r\n          handleOnCloseDetails={handleOnCloseDetails}\r\n        />\r\n        {/* Delete Content Dialog box  */}\r\n        <Dialogue\r\n          openDeleteDialog={openDeleteDialog}\r\n          setOpenDeleteDialog={setOpenDeleteDialog}\r\n          handleOnDelete={handleOnDelete}\r\n          heading={\"DELETE SALE\"}\r\n          color=\"#ff0000\"\r\n          icon={<DangerousIcon style={{ marginRight: \"10px\" }} />}\r\n          message={\"Are sure you want to delete Sale?.\"}\r\n        />\r\n\r\n        {/* Here we calling Search component in which we \r\n        are passing Filters state and Input Values state  */}\r\n        <Search\r\n          submit={handleOnSubmit}\r\n          filters={filters}\r\n          setFilter={setFilter}\r\n          state={search}\r\n          setState={setSearch}\r\n          openFiltersPanel={openFiltersPanel}\r\n          setOpenFiltersPanel={setOpenFiltersPanel}\r\n          loadDataFunc={loadData}\r\n          searchFiltersForm={searchSalesFilters}\r\n          searchInputForm={searchInput}\r\n        />\r\n        {/* DataTable for Employees  */}\r\n        <DataTable\r\n          columns={salesClosingsColumns(\r\n            setOpenDeleteDialog,\r\n            setDetailsDialog,\r\n            handlePrint,\r\n            user\r\n          )}\r\n          rows={capitalizedRows}\r\n          currentPage={currentPage}\r\n          totalRecords={totalRecords}\r\n          selectedRowId={selectedRowId}\r\n          setSelectedRowId={setSelectedRowId}\r\n          handleOnPageChange={handleOnPageChange}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default TotalSaleClosings;\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\"\n}), 'Lock');\nexports.default = _default;"],"names":["createSvgIcon","_jsx","d","salesClosingsColumns","setOpenDeleteDialog","setDetailsDialog","handlePrint","user","field","headerName","width","renderCell","params","_params$row$cashier","_jsxs","className","children","src","row","cashier","pic","concat","DOMAIN","alt","name","length","substring","style","background","status","color","display","justifyContent","alignItems","borderRadius","NoEncryption","height","marginRight","LockIcon","Tooltip","title","IconButton","onClick","_id","Print","fontSize","access","Delete","TotalSaleClosings","dispatch","useDispatch","useContext","AuthContext","closings","useSelector","state","data","currentData","sales","current","totalRecords","totalRecord","submitErrors","errors","openFormDialog","setOpenFormDialog","useState","openDetailsDialog","openDeleteDialog","selectedRowId","setSelectedRowId","currentPage","setCurrentPage","filters","setFilter","operator","sort","search","setSearch","searchInput","startDate","endDate","setState","type","initialReading","currentReading","openFiltersPanel","setOpenFiltersPanel","useEffect","undefined","getSingleSale","console","log","Object","keys","initialData","page","getSaleClosings","clearClosings","forEach","item","toast","msg","position","calculateTotalAndDiscount","items","totalAmount","totalDiscount","quantity","price","newSellingPrice","discount","capitalizedRows","map","product","Box","m","Header","icon","PendingActions","subTitle","SaleDetails","heading","customer","inputs","Assessment","handleOnCloseDetails","Dialogue","handleOnDelete","deleteClosing","DangerousIcon","message","Search","submit","async","e","preventDefault","newState","getSales","loadDataFunc","loadData","searchFiltersForm","searchSalesFilters","searchInputForm","DataTable","columns","id","getPrintClosingReport","rows","handleOnPageChange","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx"],"sourceRoot":""}