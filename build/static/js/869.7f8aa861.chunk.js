"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[869],{58893:(e,t,a)=>{a.d(t,{N:()=>m});var i=a(52524),n=a(38820),l=a(5397),s=a(20068),r=a(13400),d=a(37725),o=a(80184);const m=(e,t,a)=>[{field:"name",headerName:"Name",width:230,renderCell:e=>(0,o.jsxs)("div",{className:"cellWithImg",children:[(0,o.jsx)("img",{src:e.row.supplier.pic?"".concat(d.y,"/public/suppliers/images/").concat(e.row.supplier.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.supplier.name]})},{field:"prevAmount",headerName:"Previous Amount",width:150,renderCell:e=>{var t;return(0,o.jsx)("div",{className:"cellAction",children:(null===(t=e.row.prevAmount)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"amount",headerName:"Paid Amount",width:150,renderCell:e=>{var t;return(0,o.jsx)("div",{className:"cellAction",children:(null===(t=e.row.amount)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"remaining",headerName:"Remaining Amount",width:150,renderCell:e=>{var t;return(0,o.jsx)("div",{className:"cellAction",children:(null===(t=e.row.remaining)||void 0===t?void 0:t.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2}))||0})}},{field:"date",headerName:"Date",width:150},{field:"action",headerName:"Action",width:160,renderCell:d=>(0,o.jsxs)("div",{className:"cellAction",children:[(0,o.jsx)(s.Z,{title:"Supplier Payment Details",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>t(!0),children:(0,o.jsx)(i.Z,{style:{fontSize:"20px"}})})}),"open"===d.row.status&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Z,{title:"Edit Supplier Payment",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>{a(!0)},children:(0,o.jsx)(n.Z,{style:{fontSize:"20px"}})})}),(0,o.jsx)(s.Z,{title:"Delete Supplier Payment",children:(0,o.jsx)(r.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,o.jsx)(l.Z,{style:{fontSize:"20px"}})})})]})]})}]},21701:(e,t,a)=>{a.d(t,{As:()=>n,cL:()=>r,eK:()=>m,hq:()=>d,kE:()=>i,nj:()=>o,v0:()=>s,xl:()=>l});const i=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],n=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],l=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],s=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],r=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],d=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],m=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},10195:(e,t,a)=>{a.d(t,{C:()=>n,M:()=>l});var i=a(37725);const n=(e,t,a)=>[{id:1,label:"Supplier",type:"select",name:"supplierId",disabled:Object.entries(t).length>0,options:a.length>0&&a.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(i.y,"/public/suppliers/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png",salary:e.balance.toLocaleString("en-US",{style:"currency",currency:"PKR",minimumFractionDigits:2,maximumFractionDigits:2})}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:2,label:"Amount",tabIndex:1,type:"number",name:"amount",grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:null!==e&&0!==Object.keys(t).length?"Update Supplier Payment":"ADD Supplier Payemnt",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],l=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},16058:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var i=a(697),n=a(72791),l=a(28924),s=a(66351),r=a(59434),d=a(19570),o=a(98635),m=a(66807),p=a(46174),c=a(92167),u=a(5092),g=a(97246),h=a(75985),y=a(26384),x=a(24697),v=(a(99784),a(10195)),b=a(58893),f=a(21701),D=a(6001),w=a(39086),S=a(80184);const A=()=>{const{user:e}=(0,n.useContext)(w.Z),t=(0,r.I0)(),a=(0,r.v9)((e=>e.completeData.suppliers)),A=(0,r.v9)((e=>e.supplierpayments.data)),P=(0,r.v9)((e=>e.supplierpayments.current)),j=(0,r.v9)((e=>e.supplierpayments.totalRecord)),I=(0,r.v9)((e=>e.supplierpayments.errors)),[N,C]=(0,n.useState)(!1),[Z,E]=(0,n.useState)(!1),[z,O]=(0,n.useState)(!1),[F,B]=(0,n.useState)(null),[R,U]=(0,n.useState)(0),[k,M]=(0,n.useState)({field:"",operator:"",sort:-1}),[T,W]=(0,n.useState)({searchInput:"",startDate:"",endDate:""}),[L,_]=(0,n.useState)({userId:e._id,supplierId:"",amount:"",date:""}),[K,$]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(void 0!==F&&!0===N||void 0!==F&&!0===Z)&&t((0,x.UA)(F))}),[F]),(0,n.useEffect)((()=>{0!==Object.keys(P).length&&_({supplierId:P.supplierId,amount:P.amount,date:P.date})}),[P]),(0,n.useEffect)((()=>{const e={page:0,sort:k.sort};return t((0,D.Dh)()),t((0,x.O6)(e)),()=>{t((0,x.KA)())}}),[]),(0,n.useEffect)((()=>{"date"===k.field?M({...k,operator:"inBetween"}):"inBetween"===k.operator&&M({...k,operator:"$regex"})}),[k.field]),(0,n.useEffect)((()=>{(null===I||void 0===I?void 0:I.length)>0?I.forEach((e=>{(0,h.Am)(e.msg,{position:"top-right",type:"error"})})):V()}),[I]);const G=()=>{t((0,x.O6)({page:0,sort:-1}))},V=()=>{C(!1),B(null),_({userId:e._id,supplierId:"",amount:"",date:""}),t((0,x.sw)())};const q=A.map((e=>({...e,remaining:e.supplier.balance?e.supplier.balance:0}))),{userId:Y,supplierId:H,amount:J,date:Q}=L;return(0,S.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,S.jsx)(l.Z,{icon:(0,S.jsx)(p.Z,{style:{marginRight:"10px"}}),title:"Supplier Payments",subTitle:"Manage Application Supplier Payments",addBtnTitle:"Add Supplier Payment",dialog:N,setDialog:C}),(0,S.jsxs)(i.Z,{className:"mainCard",children:[(0,S.jsx)(o.Z,{openFormDialog:N,setOpenFormDialog:C,heading:null!==F&&0!==Object.keys(P).length?"UPDATE SUPPLIER PAYMENT":"ADD SUPPLIER PAYMENT",color:"#999999",state:L,Id:F,setState:_,handleOnClose:V,handleOnSubmit:async e=>{if(e.preventDefault(),""===Y)(0,h.Am)("Please re-login ",{position:"top-right",type:"error"});else if(""===H)(0,h.Am)("Select Supplier ",{position:"top-right",type:"error"});else if(""===J)(0,h.Am)("Please enter amount",{position:"top-right",type:"error"});else if(""===Q)(0,h.Am)("Select date",{position:"top-right",type:"error"});else if(null!==F){const e={id:F[0],Data:L};t((0,x.fm)(e))}else t((0,x.TT)(L)),G()},inputs:(0,v.C)(F,P,a),icon:(0,S.jsx)(c.Z,{style:{marginRight:"10px"}})}),0!==Object.keys(P).length&&(0,S.jsx)(y.Z,{openDetailsDialog:Z,heading:"".concat((X=P.name,X.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")),"'s Detail"),inputs:P,handleOnCloseDetails:()=>{E(!1),B(null),_({userId:e._id,supplierId:"",pevAmount:"",amount:"",remAmount:"",date:"",status:""}),t((0,x.sw)())},icon:(0,S.jsx)(u.Z,{style:{marginRight:"10px"}})}),(0,S.jsx)(d.Z,{openDeleteDialog:z,setOpenDeleteDialog:O,handleOnDelete:()=>{t((0,x.Fu)(F)),B(null)},heading:"DELETE SUPPLIER PAYMENT",color:"#ff0000",icon:(0,S.jsx)(m.Z,{style:{marginRight:"10px"}}),message:"Are you sure you want to delete this payment."}),(0,S.jsx)(g.Z,{submit:async e=>{e.preventDefault();const{startDate:a,endDate:i,searchInput:n}=T,{field:l,operator:s,sort:r}=k;let d={field:""===l?void 0:l,operator:s,sort:r,page:0,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===l?""===a&&""===i?(0,h.Am)("Please Select Date",{position:"top-right",type:"error"}):(t((0,x.O6)(d)),$(!K),U(0)):""===l?(t((0,x.O6)(d)),$(!K),U(0)):""!==l&&""===n?(0,h.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==l&&""!==n&&""===s?(0,h.Am)("Please select condition",{position:"top-right",type:"error"}):(console.log("New State => ",d),t((0,x.O6)(d)),$(!K),U(0))},filters:k,setFilter:M,state:T,setState:W,openFiltersPanel:K,setOpenFiltersPanel:$,loadDataFunc:G,searchFiltersForm:v.M,searchInputForm:f.eK}),(0,S.jsx)(s.Z,{columns:(0,b.N)(O,E,C),rows:q,currentPage:R,totalRecords:j,selectedRowId:F,setSelectedRowId:B,handleOnPageChange:e=>{U(e);const{startDate:a,endDate:i,searchInput:n}=T,{field:l,operator:s,sort:r}=k;let d={field:""===l?"":l,operator:s,sort:r,page:e,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===l?""===a&&""===i?(0,h.Am)("Please Select Date",{position:"top-right",type:"error"}):t((0,x.O6)(d)):""===l?t((0,x.O6)(d)):""!==l&&""===n?(0,h.Am)("Please Enter to search..",{position:"top-right",type:"error"}):t((0,x.O6)(d))}})]})]});var X}},5397:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(74223),n=a(80184);const l=(0,i.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},38820:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(74223),n=a(80184);const l=(0,i.Z)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},52524:(e,t,a)=>{a.d(t,{Z:()=>l});var i=a(74223),n=a(80184);const l=(0,i.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info")}}]);
//# sourceMappingURL=869.7f8aa861.chunk.js.map