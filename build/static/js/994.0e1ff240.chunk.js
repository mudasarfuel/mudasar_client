"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[994],{95957:(e,t,a)=>{a.d(t,{CE:()=>s,Ty:()=>n,c0:()=>i});const i=(e,t)=>[{id:1,label:"Name *",type:"text",name:"name",tabIndex:0,grid:{xs:12,sm:12,md:6,lg:6}},{id:2,label:"Email",tabIndex:1,type:"email",name:"email",grid:{xs:12,sm:12,md:6,lg:6}},{id:3,label:"Contact",tabIndex:2,type:"phone",name:"contact",grid:{xs:12,sm:12,md:6,lg:6}},{id:4,label:"Salary *",tabIndex:3,type:"number",name:"salary",grid:{xs:12,sm:12,md:6,lg:6}},{id:5,label:"Advance *",tabIndex:3,type:"number",name:"advance",grid:{xs:12,sm:12,md:6,lg:6}},{id:6,label:"Designation *",tabIndex:4,type:"text",name:"designation",grid:{xs:12,sm:12,md:6,lg:6}},{id:7,label:"Address",tabIndex:4,type:"text",name:"address",grid:{xs:12,sm:12,md:6,lg:6}},{id:8,label:"Status",type:"select",tabIndex:5,disable:!1,name:"status",size:"small",minWidth:"100wh",grid:{xs:12,sm:12,md:6,lg:6},options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]},{id:9,label:null!==e&&0!==Object.keys(t).length?"Update Employee":"Add Employee",type:"button",tabIndex:6,btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],n=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"Email",value:"email"},{id:3,name:"Contact",value:"contact"},{id:4,name:"Designation",value:"designation"},{id:5,name:"Status",value:"status"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],s=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",name:"searchInput",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},61510:(e,t,a)=>{a.d(t,{b:()=>s,r:()=>n});var i=a(37725);const n=(e,t,a)=>[{id:1,label:"Product Name",type:"select",name:"productId",options:a.length>0&&a.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(i.y,"/public/products/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png"}))),grid:{xs:12,sm:12,md:12,lg:12}},{id:3,label:"Quantity",type:"number",name:"quantity",grid:{xs:12,sm:6,md:6,lg:6}},{id:5,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:6,lg:6}},{id:7,label:null!==e&&0!==Object.keys(t).length?"Update Wastage":"Add Wastage",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],s=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Product",value:"product"},{id:2,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},4085:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var i=a(697),n=a(72791),s=a(28924),l=a(66351),d=a(59434),r=a(19570),o=a(98635),m=a(66807),p=a(46507),c=a(5092),g=a(97246),u=a(75985),h=a(26384),y=(a(18481),a(95957)),x=(a(92061),a(5397)),b=a(20068),v=a(13400),f=a(37725),D=a(80184);const w=(e,t,a)=>[{field:"name",headerName:"Name",width:300,renderCell:e=>(0,D.jsxs)("div",{className:"cellWithImg",children:[(0,D.jsx)("img",{src:e.row.product.pic?"".concat(f.y,"/public/products/images/").concat(e.row.product.pic):"./img/avatarfile.png",alt:"",className:"cellImg"}),e.row.product.name]})},{field:"quantity",headerName:"Quantity",width:250},{field:"date",headerName:"Date",width:250},{field:"action",headerName:"Action",width:160,renderCell:t=>(0,D.jsx)("div",{className:"cellAction",children:"open"===t.row.status&&(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(b.Z,{title:"Delete Wastage",children:(0,D.jsx)(v.Z,{className:"viewButton",onClick:()=>e(!0),children:(0,D.jsx)(x.Z,{style:{fontSize:"20px"}})})})})})}];var A=a(92784),S=a(61510),I=a(6001);const E=()=>{const e=(0,d.I0)(),t=(0,d.v9)((e=>e.completeData.products)),a=(0,d.v9)((e=>e.wastages.data)),x=(0,d.v9)((e=>e.wastages.current)),b=(0,d.v9)((e=>e.wastages.totalRecord)),v=(0,d.v9)((e=>e.wastages.errors)),[f,E]=(0,n.useState)(!1),[j,C]=(0,n.useState)(!1),[Z,W]=(0,n.useState)(!1),[N,B]=(0,n.useState)(null),[P,k]=(0,n.useState)(0),[q,O]=(0,n.useState)({field:"",operator:"",sort:-1}),[z,F]=(0,n.useState)({searchInput:"",startDate:"",endDate:""}),[R,T]=(0,n.useState)({productId:"",quantity:"",date:""}),[U,$]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(void 0!==N&&!0===f||void 0!==N&&!0===j)&&e((0,A.CD)(N))}),[N]),(0,n.useEffect)((()=>{0!==Object.keys(x).length&&T({productId:x.productId,quantity:x.quantity,date:x.date})}),[x]),(0,n.useEffect)((()=>{const t={page:0,sort:q.sort};return e((0,I.Dg)()),e((0,A.r8)(t)),()=>{e((0,A.tU)()),e((0,I.gP)())}}),[]),(0,n.useEffect)((()=>{"date"===q.field?O({...q,operator:"inBetween"}):"inBetween"===q.operator&&O({...q,operator:"$regex"})}),[q.field]),(0,n.useEffect)((()=>{(null===v||void 0===v?void 0:v.length)>0?v.forEach((e=>{(0,u.Am)(e.msg,{position:"top-right",type:"error"})})):G()}),[v]);const _=()=>{e((0,A.r8)({page:0,sort:-1}))},G=()=>{E(!1),B(null),T({productId:"",quantity:"",date:""})};const M=a.length>0&&a.map((e=>{return{...e,productName:e.product.name&&(t=e.product.name,t.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "))};var t})),{productId:Q,quantity:H,date:V}=R;return(0,D.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,D.jsx)(s.Z,{icon:(0,D.jsx)(p.Z,{style:{marginRight:"10px"}}),title:"Stock Wastages",subTitle:"Manage Stock Wastage",addBtnTitle:"Add Wastage",dialog:f,setDialog:E}),(0,D.jsxs)(i.Z,{className:"mainCard",children:[(0,D.jsx)(o.Z,{openFormDialog:f,setOpenFormDialog:E,heading:null!==N&&0!==Object.keys(x).length?"UPDATE WASTAGE":"ADD WASTAGE",color:"#999999",state:R,Id:N,setState:T,handleOnClose:G,handleOnSubmit:async t=>{if(t.preventDefault(),""===Q)(0,u.Am)("Select product please",{position:"top-right",type:"error"});else if(""===H)(0,u.Am)("Enter wastage quantity",{position:"top-right",type:"error"});else if(H<0)(0,u.Am)("Quantity can not be negative",{position:"top-right",type:"error"});else if(""===V)(0,u.Am)("Select date please",{position:"top-right",type:"error"});else if(null!==N){const t={id:N[0],Data:R};e((0,A.mr)(t))}else e((0,A.bd)(R)),_()},inputs:(0,S.r)(N,x,t),icon:(0,D.jsx)(p.Z,{style:{marginRight:"10px"}})}),(0,D.jsx)(h.Z,{openDetailsDialog:j,heading:"Kashif's Detail",inputs:0!==Object.keys(x).length&&x,icon:(0,D.jsx)(c.Z,{style:{marginRight:"10px"}})}),(0,D.jsx)(r.Z,{openDeleteDialog:Z,setOpenDeleteDialog:W,handleOnDelete:()=>{e((0,A.vb)(N)),B(null)},heading:"DELETE WASTAGE",color:"#ff0000",icon:(0,D.jsx)(m.Z,{style:{marginRight:"10px"}}),message:"Are sure you want to delete Wastage Entry?."}),(0,D.jsx)(g.Z,{submit:async t=>{t.preventDefault();const{startDate:a,endDate:i,searchInput:n}=z,{field:s,operator:l,sort:d}=q;let r={field:""===s?void 0:s,operator:l,sort:d,page:0,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===s?""===a&&""===i?(0,u.Am)("Please Select Date",{position:"top-right",type:"error"}):(e((0,A.r8)(r)),$(!U),k(0)):""===s?(e((0,A.r8)(r)),$(!U),k(0)):""!==s&&""===n?(0,u.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==s&&""!==n&&""===l?(0,u.Am)("Please select condition",{position:"top-right",type:"error"}):(e((0,A.r8)(r)),$(!U),k(0))},filters:q,setFilter:O,state:z,setState:F,openFiltersPanel:U,setOpenFiltersPanel:$,loadDataFunc:_,searchFiltersForm:S.b,searchInputForm:y.CE}),(0,D.jsx)(l.Z,{columns:w(W),rows:M,currentPage:P,totalRecords:b,selectedRowId:N,setSelectedRowId:B,handleOnPageChange:t=>{k(t);const{startDate:a,endDate:i,searchInput:n}=z,{field:s,operator:l,sort:d}=q;let r={field:""===s?"":s,operator:l,sort:d,page:t,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===s?""===a&&""===i?(0,u.Am)("Please Select Date",{position:"top-right",type:"error"}):e((0,A.r8)(r)):""===s?e((0,A.r8)(r)):""!==s&&""===n?(0,u.Am)("Please Enter to search..",{position:"top-right",type:"error"}):e((0,A.r8)(r))}})]})]})}},5397:(e,t,a)=>{a.d(t,{Z:()=>s});var i=a(74223),n=a(80184);const s=(0,i.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")}}]);
//# sourceMappingURL=994.0e1ff240.chunk.js.map