"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[764],{43429:(e,t,a)=>{a.d(t,{Z:()=>m});a(72791);var s=a(85667),i=a(63658),r=a(41473),l=a(85947),d=a(20890),n=a(94294),o=a(40503),c=a(80184);function p(e){var t;return e&&(null===e||void 0===e||null===(t=e.charAt(0))||void 0===t?void 0:t.toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))}const m=e=>{let{id:t,selected:a,handleRegister:m,setSelected:u,state:g,setState:v,title:x,color:h,image:f,price:y,feature:b}=e;return(0,c.jsxs)("div",{className:"card",style:{background:void 0!==a&&a.checked&&void 0!==a&&a.id===t&&"#303134"},onClick:"http://localhost:3000/signup"===window.location.href?()=>{u({checked:!0,id:t}),v({...g,packageId:t})}:void 0,children:[(0,c.jsx)(s.Z,{sx:{fontSize:"40px",color:"green",visibility:null!==a&&void 0!==a&&a.checked&&(null===a||void 0===a?void 0:a.id)===t?"visible":"hidden"}}),(0,c.jsxs)("div",{className:"top",children:[(0,c.jsx)(o.ZP,{src:f,size:"80",round:!0}),(0,c.jsx)("h4",{className:"title",children:p(x)})]}),(0,c.jsxs)("div",{className:"middle",children:[(0,c.jsxs)("h5",{className:"price ".concat(x),children:["Rs. ",y]}),(0,c.jsxs)("div",{className:"items",children:[Array.isArray(b)&&b.map((e=>(0,c.jsxs)("div",{className:"item",style:{display:"flex",justifyContent:"start"},children:[e.groupStatus?(0,c.jsx)(i.Z,{className:"icon positive"}):(0,c.jsx)(r.Z,{className:"icon negative"}),(0,c.jsx)(d.Z,{children:p(e.groupDescription?e.groupDescription.substr(0,25)+"...":"sales module")})]},e.id))),(0,c.jsx)("div",{className:"item",children:(0,c.jsxs)(n.Z,{variant:"contained",className:"button ".concat(x," "),style:{width:"100%",backgroundColor:h},onClick:()=>m(),children:[(0,c.jsx)(l.Z,{fontSize:"small"}),"Buy"]})})]})]})]})}},21701:(e,t,a)=>{a.d(t,{As:()=>i,cL:()=>d,eK:()=>c,hq:()=>n,kE:()=>s,nj:()=>o,v0:()=>l,xl:()=>r});const s=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],i=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],r=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],l=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],d=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],n=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],c=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},98764:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(72791),i=a(697),r=a(61889),l=a(93973),d=a(28924),n=a(43429),o=a(54177),c=(a(68381),a(21701)),p=a(94634),m=a(59434),u=a(70591),g=a(91826),v=a(54261),x=a(97893),h=a(20890),f=a(81918),y=a(80184);const b=e=>{let{heading:t,groups:a,deleteGroup:s,deleteFeature:i,features:r,dbfeatures:l}=e;const d=e=>{var t;return null===(t=l.filter((t=>t.id===e))[0])||void 0===t?void 0:t.feature};return(0,y.jsxs)("div",{className:"card",style:{marginTop:"15px"},children:[(0,y.jsx)(h.Z,{children:t||""}),Array.isArray(a)&&a.map((e=>(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,y.jsx)(h.Z,{children:e.groupTitle}),(0,y.jsx)(x.Z,{onClick:()=>s(e.id),sx:{fontSize:20,color:"#9c9c9c"}})]}),(0,y.jsx)("div",{style:{display:"flex",gap:"5px",paddingTop:"10px",flexWrap:"wrap"},children:Array.isArray(r)&&r.filter((t=>t.group===e.id)).map((e=>(0,y.jsx)("div",{children:(0,y.jsx)(f.Z,{label:"".concat(d(e.id)),size:"small",onDelete:()=>i(e.id)})},e.id)))})]},e.id)))]})};var Z=a(57689),j=a(37725);const w=()=>{const e=(0,m.I0)(),t=(0,m.v9)((e=>e.features)),a=(0,m.v9)((e=>e.packages.current)),{id:x}=(0,Z.UO)();(0,s.useEffect)((()=>{void 0!==x&&0!==Object.keys(a).length?f({...a}):f({name:"",description:"",price:"",expiresInMonths:"",group:[],features:[],color:"",image:"",status:""})}),[a]),(0,s.useEffect)((()=>(void 0!==x&&e((0,p.UP)(x)),e((0,g.N$)()),()=>{e((0,g.nl)()),e((0,p.UA)())})),[x]);const[h,f]=(0,s.useState)({name:"",description:"",price:"",expiresInMonths:"",group:[],features:[],color:"",image:"",status:""}),w=v.Z,[k,S]=(0,s.useState)({id:w(),groupTitle:"",groupDescription:"",groupStatus:""}),[A,P]=(0,s.useState)({selectgroup:"",selectfeature:""}),[D,z]=(0,s.useState)(""),C=async()=>{const t=await(0,u.p)(function(e){const t=new FormData;return t.append("file",e),t}(D));if(!0===(null===t||void 0===t?void 0:t.success)){const a={...h};a.image=t.filename,f(a);const s=async()=>{if(void 0!==x){const t={id:x,Data:a};return e((0,p.$y)(t))}return e((0,p.$5)(a))},i=await s();!0===i.payload.success?((0,o.Z)(i.payload.msg,"success"),void 0===x&&f({name:"",description:"",price:"",expiresInMonths:"",group:[],features:[],color:"",image:"",status:""}),z("")):(0,o.Z)(i.payload.msg,"error")}else!1===t.success&&(0,o.Z)(t.msg,"error")};return(0,y.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,y.jsx)(d.Z,{title:"PACKAGES",subTitle:"Managing Application Packages",link:"/packages/new"}),(0,y.jsx)(i.Z,{className:"mainCard",children:(0,y.jsxs)(r.ZP,{container:!0,spacing:2,children:[(0,y.jsxs)(r.ZP,{item:!0,xs:12,sm:4,children:[(0,y.jsx)(n.Z,{style:{marginTop:"10px"},title:null===h||void 0===h?void 0:h.name,color:null===h||void 0===h?void 0:h.color,price:null===h||void 0===h?void 0:h.price,feature:null===h||void 0===h?void 0:h.group,image:D?URL.createObjectURL(D):null!==h&&void 0!==h&&h.image?"".concat(j.y,"/public/packages/images/").concat(h.image):"/img/file_upload.png"}),(0,y.jsx)(b,{heading:"Features",deleteGroup:e=>{const t=h.group.filter((t=>t.id!==e)),a=h.features.filter((t=>t.group!==e));f({...h,features:a,group:t})},deleteFeature:e=>{const t=h.features.filter((t=>t.id!==e));f({...h,features:t})},groups:null===h||void 0===h?void 0:h.group,features:null===h||void 0===h?void 0:h.features,dbfeatures:t})]}),(0,y.jsxs)(r.ZP,{item:!0,xs:12,sm:8,children:[(0,y.jsx)(l.Z,{formTitle:"".concat(void 0===x?"Add Package Group Form":"Update Package Group Form"),submit:e=>{e.preventDefault(),""===k.groupTitle?(0,o.Z)("Please enter group name","error"):""===k.groupDescription?(0,o.Z)("Please enter group description","error"):""===k.groupStatus?(0,o.Z)("Please select group status","error"):(h.group.push(k),(0,o.Z)("Group Added successfully","success"),S({id:w(),groupTitle:"",groupDescription:"",groupStatus:""}))},inputs:(0,c.xl)(),state:k,setState:S}),(0,y.jsx)(l.Z,{formTitle:"".concat(void 0===x?"Add Package Feature Form":"Update Package Feature Form"),submit:e=>{if(e.preventDefault(),""===A.selectgroup)(0,o.Z)("Please select group","error");else if(""===A.selectfeature)(0,o.Z)("Please select feature","error");else{const e={id:A.selectfeature,group:A.selectgroup};h.features.push(e),(0,o.Z)("Feature added successfully","success"),P({selectgroup:"",selectfeature:""})}},state:A,setState:P,inputs:(0,c.v0)(t,h.group)}),(0,y.jsx)(l.Z,{formTitle:"".concat(void 0===x?"Add Package Form":"Update Package Form"),inputs:(0,c.As)(void 0===x?"Add Package":"Update Package"),file:D,setFile:z,state:h,setState:f,submit:e=>{e.preventDefault();const{name:t,description:a,price:s,expiresInMonths:i,group:r,features:l,status:d}=h;""===t?(0,o.Z)("Please enter package name","error"):""===a?(0,o.Z)("Please enter package description","error"):""===s?(0,o.Z)("Please enter package price","error"):""===i?(0,o.Z)("Please enter total months for expiration","error"):0===r.length?(0,o.Z)("Please add features group","error"):0===l.length?(0,o.Z)("Add features in group","error"):""===d?(0,o.Z)("Please select status for package","error"):C()}})]})]})})]})}},70591:(e,t,a)=>{a.d(t,{p:()=>l});var s=a(74569),i=a.n(s),r=a(37725);const l=async e=>{try{return await i().post("".concat(r.y,"/api/uploads"),e).then((e=>e.data))}catch(t){return t.response.data}}},54177:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(30090),i=a(76006);const r=(e,t)=>{s.h.dispatch((0,i.V_)({msg:e,type:t}))}},97893:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(74223),i=a(80184);const r=(0,s.Z)((0,i.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel")},85667:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(74223),i=a(80184);const r=(0,s.Z)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle")},63658:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(74223),i=a(80184);const r=(0,s.Z)((0,i.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41 6 19l1.41-1.41L1.83 12 .41 13.41z"}),"DoneAll")},41473:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(74223),i=a(80184);const r=(0,s.Z)((0,i.jsx)("path",{d:"m1.79 12 5.58 5.59L5.96 19 .37 13.41 1.79 12zm.45-7.78L12.9 14.89l-1.28 1.28L7.44 12l-1.41 1.41L11.62 19l2.69-2.69 4.89 4.89 1.41-1.41L3.65 2.81 2.24 4.22zm14.9 9.27L23.62 7 22.2 5.59l-6.48 6.48 1.42 1.42zM17.96 7l-1.41-1.41-3.65 3.66 1.41 1.41L17.96 7z"}),"RemoveDone")},85947:(e,t,a)=>{a.d(t,{Z:()=>r});var s=a(74223),i=a(80184);const r=(0,s.Z)((0,i.jsx)("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"}),"ShoppingCart")},68381:()=>{}}]);
//# sourceMappingURL=764.6e1d8dfd.chunk.js.map