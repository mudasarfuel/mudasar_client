"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[625],{21701:(e,t,a)=>{a.d(t,{As:()=>n,cL:()=>s,eK:()=>m,hq:()=>r,kE:()=>i,nj:()=>o,v0:()=>d,xl:()=>l});const i=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],n=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],l=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],d=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],s=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],r=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],m=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},82381:(e,t,a)=>{a.d(t,{W:()=>i,c:()=>n});const i=(e,t)=>[{id:1,label:"Machine Name",disabled:Object.entries(t).length>0,type:"text",name:"name",grid:{xs:12,sm:6,md:6,lg:6}},{id:2,label:"Fuel Type",type:"select",disabled:Object.entries(t).length>0,name:"type",options:[{id:1,name:"Petrol",value:"petrol"},{id:2,name:"Diesel",value:"diesel"}],grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Initial Reading",disabled:Object.entries(t).length>0,type:"number",name:"initialReading",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:"Current Reading",type:"number",disabled:Object.entries(t).length>0,name:"currentReading",grid:{xs:12,sm:6,md:6,lg:6}},{id:5,label:"Status",type:"select",name:"status",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}],grid:{xs:12,sm:12,md:12,lg:12}},{id:6,label:null!==e&&0!==Object.keys(t).length?"Update Machine":"Add Machine",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],n=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"type",value:"type"},{id:7,name:"Status",value:"status"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},18111:(e,t,a)=>{a.d(t,{L:()=>l,l:()=>n});var i=a(37725);const n=(e,t,a,n)=>[{id:1,label:"Select Product",type:"select",name:"productId",options:a.length>0&&a.map((e=>({id:e._id,name:e.name,value:e._id}))),grid:{xs:12,sm:6,md:6,lg:6}},{id:2,label:"Select Supplier",type:"select",name:"supplierId",options:n.length>0&&n.map((e=>({id:e._id,name:e.name,value:e._id,avatarUrl:"".concat(i.y,"/public/suppliers/images/").concat(e.pic),avatarAlt:"./img/avatarfile.png"}))),grid:{xs:12,sm:6,md:6,lg:6}},{id:3,label:"Product Quantity",type:"number",name:"quantity",grid:{xs:12,sm:6,md:6,lg:6}},{id:4,label:"Cost Price",type:"number",name:"costPrice",grid:{xs:12,sm:6,md:6,lg:6}},{id:5,label:"Selling Price",type:"number",name:"sellingPrice",grid:{xs:12,sm:6,md:6,lg:6}},{id:6,label:"Paying Amount",type:"number",name:"paidAmount",grid:{xs:12,sm:6,md:6,lg:6}},{id:8,label:"Date",type:"date",name:"date",grid:{xs:12,sm:12,md:12,lg:12}},{id:9,label:null!==e&&0!==Object.keys(t).length?"Update Stock":"Add Stock",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12,md:12,lg:12}}],l=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Supplier Name",value:"supplier"},{id:2,name:"Product Name",value:"product"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}]},62692:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var i=a(697),n=a(72791),l=a(28924),d=a(66351),s=a(59434),r=(a(70591),a(19570)),o=a(98635),m=a(66807),p=a(10494),c=a(92167),u=a(5092),g=a(97246),y=a(75985),b=a(26384),h=a(92686),v=a(82381),x=a(21701),f=a(80184);var S=a(3799),w=a(18111),D=(a(99784),a(75416)),A=a(6001);const P=()=>{const e=(0,s.I0)(),t=(0,s.v9)((e=>e.stocks.data)),a=(0,s.v9)((e=>e.completeData.products)),P=(0,s.v9)((e=>e.completeData.suppliers)),k=(0,s.v9)((e=>e.machines.current)),I=(0,s.v9)((e=>e.stocks.totalRecord)),j=(0,s.v9)((e=>e.stocks.errors)),[C,E]=(0,n.useState)(!1),[N,O]=(0,n.useState)(!1),[B,z]=(0,n.useState)(!1),[R,W]=(0,n.useState)(null),[Z,q]=(0,n.useState)(0),[F,_]=(0,n.useState)({field:"",operator:"",sort:-1}),[M,$]=(0,n.useState)({searchInput:""}),[T,U]=(0,n.useState)({productId:"",supplierId:"",quantity:"",costPrice:"",sellingPrice:"",paidAmount:"",date:""});console.log("Check State => ",T);const[G,K]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(void 0!==R&&!0===C||void 0!==R&&!0===N)&&e((0,h.QS)(R))}),[R]),(0,n.useEffect)((()=>{0!==Object.keys(k).length&&U({name:k.name,type:k.type,initialReading:k.initialReading,currentReading:k.currentReading,status:k.status})}),[k]),(0,n.useEffect)((()=>{const t={page:0,sort:F.sort};return e((0,S.Sn)(t)),e((0,A.Dg)()),e((0,A.Dh)()),()=>{e((0,h.PJ)())}}),[]),(0,n.useEffect)((()=>{"date"===F.field?_({...F,operator:"inBetween"}):"inBetween"===F.operator&&_({...F,operator:"$regex"})}),[F.field]),(0,n.useEffect)((()=>{(null===j||void 0===j?void 0:j.length)>0?j.forEach((e=>{(0,y.Am)(e.msg,{position:"top-right",type:"error"})})):L()}),[j]);const L=()=>{E(!1),W(null),U({productId:"",supplierId:"",quantity:"",costPrice:"",sellingPrice:"",paidAmount:"",date:""})};const Q=t.map((e=>({...e}))),{productId:H,supplierId:J,quantity:V,costPrice:X,sellingPrice:Y,paidAmount:ee,date:te}=T;return(0,f.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,f.jsx)(l.Z,{icon:(0,f.jsx)(p.Z,{style:{marginRight:"10px"}}),title:"Stocks",subTitle:"Manage Application Stocks",addBtnTitle:"Add Stock",dialog:C,setDialog:E}),(0,f.jsxs)(i.Z,{className:"mainCard",children:[(0,f.jsx)(o.Z,{openFormDialog:C,setOpenFormDialog:E,heading:"ADD STOCK",color:"#999999",state:T,Id:R,setState:U,handleOnClose:L,handleOnSubmit:async t=>{t.preventDefault(),""===H?(0,y.Am)("Select product",{position:"top-right",type:"error"}):""===J?(0,y.Am)("Select product supplier",{position:"top-right",type:"error"}):""===V?(0,y.Am)("Enter quantity of product",{position:"top-right",type:"error"}):""===X?(0,y.Am)("Enter cost price",{position:"top-right",type:"error"}):""===Y?(0,y.Am)("Enter selling price",{position:"top-right",type:"error"}):""===ee?(0,y.Am)("Enter amount paid",{position:"top-right",type:"error"}):""===te?(0,y.Am)("Select date ",{position:"top-right",type:"error"}):(e((0,D.I0)(T)),U({productId:"",supplierId:"",quantity:"",costPrice:"",sellingPrice:"",paidAmount:"",date:""}))},inputs:(0,w.l)(R,k,a,P),icon:(0,f.jsx)(c.Z,{style:{marginRight:"10px"}})}),(0,f.jsx)(b.Z,{openDetailsDialog:N,heading:"Kashif's Detail",inputs:0!==Object.keys(k).length&&k,icon:(0,f.jsx)(u.Z,{style:{marginRight:"10px"}})}),(0,f.jsx)(r.Z,{openDeleteDialog:B,setOpenDeleteDialog:z,handleOnDelete:()=>{e((0,h.XV)(R)),W(null)},heading:"DELETE MACHINE",color:"#ff0000",icon:(0,f.jsx)(m.Z,{style:{marginRight:"10px"}}),message:"Are sure you want to delete Machine?."}),(0,f.jsx)(g.Z,{submit:async t=>{t.preventDefault();const{startDate:a,endDate:i,searchInput:n}=M,{field:l,operator:d,sort:s}=F;let r={field:""===l?void 0:l,operator:d,sort:s,page:0,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===l?""===a&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):(e((0,S.Sn)(r)),K(!G),q(0)):""===l?(e((0,S.Sn)(r)),K(!G),q(0)):""!==l&&""===n?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==l&&""!==n&&""===d?(0,y.Am)("Please select condition",{position:"top-right",type:"error"}):(e((0,S.Sn)(r)),K(!G),q(0))},filters:F,setFilter:_,state:M,setState:$,openFiltersPanel:G,setOpenFiltersPanel:K,loadDataFunc:()=>{e((0,S.Sn)({page:0,sort:-1}))},searchFiltersForm:v.c,searchInputForm:x.eK}),(0,f.jsx)(d.Z,{columns:[{field:"product",headerName:"Product Name",width:400,renderCell:e=>{var t;return(0,f.jsx)("div",{className:"cellAction",children:(null===(t=e.row)||void 0===t?void 0:t.product)&&e.row.product.name})}},{field:"stock",headerName:"Quantity",width:400,renderCell:e=>{var t;return(0,f.jsx)("div",{className:"cellAction",children:(null===(t=e.row)||void 0===t?void 0:t.stock)&&e.row.stock.toFixed(2)})}},{field:"action",headerName:"Action",width:150,renderCell:e=>(0,f.jsx)("div",{className:"cellAction",children:(()=>{const t=e.row.stock,a=e.row.product.type,i={color:"white",width:100,textAlign:"center",borderRadius:4,padding:2};return"petrol"===a||"diesel"===a?t<=0?(0,f.jsx)("div",{style:{...i,background:"#ff5849ff"},children:"Out of Stock"}):t<2e3?(0,f.jsx)("div",{style:{...i,background:"#ffc953ff"},children:"Stock Warning"}):(0,f.jsx)("div",{style:{...i,background:"#07bc58"},children:"Available"}):t<=0?(0,f.jsx)("div",{style:{...i,background:"#ff5849ff"},children:"Out of Stock"}):t<=5?(0,f.jsx)("div",{style:{...i,background:"#ffc953ff"},children:"Stock Warning"}):(0,f.jsx)("div",{style:{...i,background:"#07bc58"},children:"Available"})})()})}],rows:Q,currentPage:Z,totalRecords:I,selectedRowId:R,setSelectedRowId:W,handleOnPageChange:t=>{q(t);const{startDate:a,endDate:i,searchInput:n}=M,{field:l,operator:d,sort:s}=F;let r={field:""===l?"":l,operator:d,sort:s,page:t,searchInput:n,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===l?""===a&&""===i?(0,y.Am)("Please Select Date",{position:"top-right",type:"error"}):e((0,S.Sn)(r)):""===l?e((0,S.Sn)(r)):""!==l&&""===n?(0,y.Am)("Please Enter to search..",{position:"top-right",type:"error"}):e((0,S.Sn)(r))}})]})]})}},70591:(e,t,a)=>{a.d(t,{p:()=>d});var i=a(74569),n=a.n(i),l=a(37725);const d=async e=>{try{return await n().post("".concat(l.y,"/api/uploads"),e).then((e=>e.data))}catch(t){return t.response.data}}}}]);
//# sourceMappingURL=625.7220f6e4.chunk.js.map