"use strict";(self.webpackChunkadmin_material=self.webpackChunkadmin_material||[]).push([[495],{66351:(e,t,a)=>{a.d(t,{Z:()=>l});a(72791);var i=a(81283),s=a(36314),n=a(80184);const l=e=>{let{columns:t,footer:a,rows:l,totalRecords:d,selectedRowId:r,handleOnPageChange:o,currentPage:m,setSelectedRowId:c}=e;return(0,n.jsx)("div",{className:"datatable",children:(0,n.jsx)(i._,{className:"dataGrid",rows:l,columns:t,pageSize:5,disableColumnFilter:!0,rowCount:d,paginationMode:"server",components:{NoRowsOverlay:()=>(0,n.jsx)(s.Z,{height:"100%",alignItems:"center",justifyContent:"center",children:"No Record Available"}),Pagination:a?()=>null:void 0},page:m,onSelectionModelChange:e=>c(e),selectionModel:r?[r]:[],onPageChange:e=>{o(e)},rowsPerPageOptions:[5],checkboxSelection:!1,disableRowSelectionOnClick:!0})})}},97246:(e,t,a)=>{a.d(t,{Z:()=>w});var i=a(74223),s=a(80184);const n=(0,i.Z)((0,s.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList");var l=a(21799),d=a(697),r=a(13400),o=a(20890),m=(a(72791),a(61889)),c=a(79012),p=a(85523),u=a(89891),g=a(94294),h=a(68096),x=a(30829),v=a(58406),b=a(77865);const y=e=>{let{formTitle:t,inputs:a,filters:i,setFilter:n}=e;const l=e=>{n({...i,[e.target.name]:e.target.value})};return(0,s.jsxs)("form",{className:"form",children:[(0,s.jsx)("div",{style:{marginBottom:"10px",marginTop:"10px"},children:(0,s.jsx)(o.Z,{children:t})}),(0,s.jsx)(m.ZP,{container:!0,spacing:2,children:a.map((e=>(e=>{switch(e.type){case"switch":return(0,s.jsx)(m.ZP,{item:!0,xs:e.grid.xs,sm:e.grid.sm,children:(0,s.jsx)(c.Z,{children:(0,s.jsx)(p.Z,{control:(0,s.jsx)(u.Z,{checked:i[e.name]}),disabled:e.disability,name:e.name,label:e.label,onChange:t=>n({...i,[e.name]:t.target.checked})})})},e.id);case"button":return(0,s.jsx)(m.ZP,{item:!0,xs:e.grid.xs,sm:e.grid.sm,children:(0,s.jsx)(g.Z,{type:"".concat(e.btntype),color:"".concat(e.color),variant:e.variant,style:{width:"100%"},children:e.label})},e.id);case"select":return(0,s.jsx)(m.ZP,{item:!0,xs:e.grid.xs,sm:e.grid.sm,md:e.grid.md,lg:e.grid.lg,children:(0,s.jsxs)(h.Z,{style:{width:"100%"},size:"small",children:[(0,s.jsx)(x.Z,{id:"demo-simple-select-label",children:e.label}),(0,s.jsx)(v.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",style:{minWidth:e.minWidth,paddingTop:"-10px",width:"100%"},value:""!==i&&void 0!==i[e.name]?i[e.name]:"",label:e.label,name:e.name,size:e.size,onChange:l,children:e.options&&e.options.map((e=>e&&(0,s.jsx)(b.Z,{value:e.value,children:e.name},e.id)))})]})},e.id);default:return}})(e)))})]})};var f=a(93973);const w=e=>{let{filters:t,submit:a,setFilter:i,state:m,setState:c,loadDataFunc:p,openFiltersPanel:u,setOpenFiltersPanel:g,searchFiltersForm:h,searchInputForm:x}=e;return(0,s.jsxs)(d.Z,{children:[(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(r.Z,{onClick:e=>{e.preventDefault(),g(!u)},children:(0,s.jsx)(n,{})}),(0,s.jsx)(o.Z,{children:"Filter"})]}),""!==t.field&&(0,s.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,s.jsx)(r.Z,{onClick:()=>{i({...t,field:"",operator:"",sort:-1}),c({searchInput:"",startDate:"",endDate:""}),g(u?!u:u),p()},children:(0,s.jsx)(l.Z,{})}),(0,s.jsx)(o.Z,{children:"Clear Filters"})]})]}),(0,s.jsxs)(d.Z,{className:u?"searchArea searchAreaActive":"searchArea",children:[(0,s.jsx)(y,{inputs:h(t),filters:t,setFilter:i}),(0,s.jsx)(d.Z,{children:(0,s.jsx)(f.Z,{inputs:x(t),submit:a,state:m,setState:c})})]})]})}},21701:(e,t,a)=>{a.d(t,{As:()=>s,cL:()=>d,eK:()=>m,hq:()=>r,kE:()=>i,nj:()=>o,v0:()=>l,xl:()=>n});const i=[{id:1,label:"Name",type:"text",name:"name"},{id:2,label:"Desciption",type:"text",name:"description"},{id:3,label:"Status",type:"select",name:"status",size:"small",minWidth:"100%",options:[{id:1,name:"Active",value:"active"},{id:2,name:"Deactive",value:"deactive"}]}],s=e=>[{id:1,type:"file",grid:{xs:12,sm:12}},{id:2,label:"Name",type:"text",name:"name",grid:{xs:12,sm:6}},{id:3,label:"Price",type:"number",name:"price",grid:{xs:12,sm:6}},{id:4,label:"Desciption",type:"text",name:"description",grid:{xs:12,sm:8}},{id:5,label:"Expires in months",type:"number",name:"expiresInMonths",grid:{xs:12,sm:4}},{id:6,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6}},{id:7,type:"colorInput",grid:{xs:12,sm:6}},{id:8,label:e,type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:12}}],n=()=>[{id:1,label:"Group Title",type:"text",name:"groupTitle",grid:{xs:12,sm:6}},{id:2,label:"Group Status",type:"select",name:"groupStatus",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:!0},{id:2,name:"De-Active",value:!1}],grid:{xs:12,sm:6}},{id:3,label:"Group Description",type:"text",name:"groupDescription",grid:{xs:12,sm:9}},{id:4,label:"Add Group",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],l=(e,t)=>[{id:1,label:"Select Group",type:"select",name:"selectgroup",class:"group",size:"small",options:null===t||void 0===t?void 0:t.map((e=>({id:e.id,name:e.groupTitle,value:e.id}))),grid:{xs:12,sm:4}},{id:2,label:"Select Feature",type:"select",name:"selectfeature",size:"small",minWidth:"100wh",options:e.map((e=>({id:e.id,name:e.feature,value:e.id}))),grid:{xs:12,sm:5}},{id:3,label:"Add Feature",type:"button",btntype:"submit",color:"primary",variant:"contained",grid:{xs:12,sm:3}}],d=(e,t)=>[{id:1,label:"Owner Name",type:"text",name:"ownerName",grid:{xs:12,sm:6,md:6,lg:4}},{id:2,label:"Username",type:"text",name:"username",grid:{xs:12,sm:6,md:6,lg:4}},{id:3,label:"Phone",type:"phone",name:"phone",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4}},{id:4,label:"Email",type:"email",name:"email",grid:{xs:12,sm:6}},{id:5,label:"Company Name",type:"text",name:"tenantName",grid:{xs:12,sm:6}},{id:6,label:"Select Package",type:"select",name:"packageId",size:"small",minWidth:"100wh",options:t&&t.map((e=>({id:e._id,name:"".concat(e.name," ( Price: ").concat(e.price," - Months: ").concat(e.expiresInMonths," )"),value:e._id}))),grid:{xs:12,sm:6,md:4,lg:4}},{id:7,label:"Date",type:"date",name:"date",grid:{xs:12,sm:6,md:4,lg:4}},{id:8,label:"Status",type:"select",name:"status",size:"small",minWidth:"100wh",options:[{id:1,name:"Active",value:"active"},{id:2,name:"De-Active",value:"deactive"}],grid:{xs:12,sm:6,md:4,lg:4}},{id:9,label:"Address",type:"text",name:"address",grid:{xs:12,sm:12,md:12,lg:6}},{id:10,label:"Password",type:"password",name:"password",grid:{xs:12,sm:6,md:3,lg:3}},{id:11,label:"Confirm Password",type:"password",name:"confirmPassword",grid:{xs:12,sm:6,md:3,lg:3}},{id:12,label:e,type:"button",btntype:"submit",variant:"contained",color:"secondary",grid:{xs:12,sm:12}}],r=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Owner Name",value:"ownerName"},{id:2,name:"Username",value:"username"},{id:3,name:"Email",value:"email"},{id:4,name:"Company Name",value:"tenantName"},{id:5,name:"Contact",value:"contact"},{id:6,name:"Address",value:"address"},{id:7,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}],o=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}],m=e=>["date"!==e.field&&"contact"!==e.field&&{id:1,label:"Enter ".concat(null===e||void 0===e?void 0:e.field.replace(/^_/,"").replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()}))),type:"text",disabled:""===e.field,name:"searchInput",grid:{xs:12,sm:10}},"date"===e.field&&"inBetween"===e.operator&&{id:2,label:"Start Date",type:"date",name:"startDate",grid:{xs:12,sm:"inBetween"===e.operator?5:10}},"date"===e.field&&"inBetween"===e.operator&&{id:3,label:"End Date",type:"date",name:"endDate",grid:{xs:12,sm:5}},"contact"===e.field&&{id:4,type:"phone",grid:{xs:12,sm:8,md:8,lg:10}},{id:5,label:"Search",type:"button",btntype:"submit",variant:"contained",color:"primary",grid:{xs:12,sm:2}}]},37495:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var i=a(697),s=a(72791),n=a(28924),l=a(66351),d=a(59434),r=a(63148),o=a(97246),m=a(75985),c=(a(92686),a(21701));var p=a(26594);const u=e=>[{id:1,label:"Condition",type:"select",disable:"inBetween"===e.operator,name:"operator",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:["date"!==e.field&&{id:1,name:"Contains",value:"$regex"},"date"!==e.field&&{id:2,name:"Equals",value:"$eq"},"date"===e.field&&{id:7,name:"In Between",value:"inBetween"}]},{id:2,label:"Select Column",type:"select",name:"field",size:"small",minWidth:"100wh",grid:{xs:12,sm:6,md:4,lg:4},options:[{id:1,name:"Name",value:"name"},{id:2,name:"type",value:"type"},{id:3,name:"Status",value:"status"},{id:4,name:"Date",value:"date"}]},{id:3,label:"Sorting",type:"select",name:"sort",size:"small",options:[{id:1,name:"Ascending",value:1},{id:2,name:"Descending",value:-1}],grid:{xs:12,sm:6,md:4,lg:4}}];var g=a(80184);const h=()=>{const e=(0,d.I0)(),t=(0,d.v9)((e=>e.readings.data)),a=(0,d.v9)((e=>e.readings.totalRecord)),h=(0,d.v9)((e=>e.readings.errors)),[x,v]=(0,s.useState)(!1),[b,y]=(0,s.useState)(!1),[f,w]=(0,s.useState)(!1),[j,C]=(0,s.useState)(null),[D,Z]=(0,s.useState)(0),[S,A]=(0,s.useState)({field:"",operator:"",sort:-1}),[P,I]=(0,s.useState)({startDate:"",endDate:"",searchInput:""}),[z,N]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const t={page:0,sort:S.sort};return e((0,p.CL)(t)),()=>{e((0,p.fW)())}}),[]),(0,s.useEffect)((()=>{"date"===S.field?A({...S,operator:"inBetween"}):"inBetween"===S.operator&&A({...S,operator:"$regex"})}),[S.field]),(0,s.useEffect)((()=>{(null===h||void 0===h?void 0:h.length)>0&&h.forEach((e=>{(0,m.Am)(e.msg,{position:"top-right",type:"error"})}))}),[h]);function F(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")}const R=t.map((e=>({...e,name:e.machine.name&&F(e.machine.name),type:e.machine.type&&F(e.machine.type)})));return(0,g.jsxs)(i.Z,{m:"0px 20px 15px 20px",children:[(0,g.jsx)(n.Z,{icon:(0,g.jsx)(r.Z,{style:{marginRight:"10px"}}),title:"Machine Readings",subTitle:"Manage Application Machines Readings"}),(0,g.jsxs)(i.Z,{className:"mainCard",children:[(0,g.jsx)(o.Z,{submit:async t=>{t.preventDefault();const{startDate:a,endDate:i,searchInput:s}=P,{field:n,operator:l,sort:d}=S;let r={field:""===n?void 0:n,operator:l,sort:d,page:0,searchInput:s,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===n?""===a&&""===i?(0,m.Am)("Please Select Date",{position:"top-right",type:"error"}):(e((0,p.CL)(r)),N(!z),Z(0)):""===n?(e((0,p.CL)(r)),N(!z),Z(0)):""!==n&&""===s?(0,m.Am)("Please Enter to search..",{position:"top-right",type:"error"}):""!==n&&""!==s&&""===l?(0,m.Am)("Please select condition",{position:"top-right",type:"error"}):(e((0,p.CL)(r)),N(!z),Z(0))},filters:S,setFilter:A,state:P,setState:I,openFiltersPanel:z,setOpenFiltersPanel:N,loadDataFunc:()=>{e((0,p.CL)({page:0,sort:-1}))},searchFiltersForm:u,searchInputForm:c.eK}),(0,g.jsx)(l.Z,{columns:[{field:"name",headerName:"Machine",width:200},{field:"type",headerName:"Type",width:200},{field:"prevReading",headerName:"Previous Reading",width:200},{field:"newReading",headerName:"Current Reading",width:200},{field:"date",headerName:"Date",width:130}],rows:R,currentPage:D,totalRecords:a,selectedRowId:j,setSelectedRowId:C,handleOnPageChange:t=>{Z(t);const{startDate:a,endDate:i,searchInput:s}=P,{field:n,operator:l,sort:d}=S;let r={field:""===n?"":n,operator:l,sort:d,page:t,searchInput:s,startDate:""!==i&&""===a?i:a,endDate:""===i&&""!==a?a:i};"date"===n?""===a&&""===i?(0,m.Am)("Please Select Date",{position:"top-right",type:"error"}):e((0,p.CL)(r)):""===n?e((0,p.CL)(r)):""!==n&&""===s?(0,m.Am)("Please Enter to search..",{position:"top-right",type:"error"}):e((0,p.CL)(r))}})]})]})}},21799:(e,t,a)=>{var i=a(64836);t.Z=void 0;var s=i(a(45649)),n=a(80184),l=(0,s.default)((0,n.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync");t.Z=l}}]);
//# sourceMappingURL=495.084cb314.chunk.js.map